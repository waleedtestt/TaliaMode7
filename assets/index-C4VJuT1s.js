(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Uy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xc={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Ow(){if(hg)return lo;hg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return lo.Fragment=e,lo.jsx=n,lo.jsxs=n,lo}var pg;function Pw(){return pg||(pg=1,Xc.exports=Ow()),Xc.exports}var _=Pw(),Qc={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Lw(){if(mg)return we;mg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function M(x,B,J){this.props=x,this.context=B,this.refs=C,this.updater=J||A}M.prototype.isReactComponent={},M.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},M.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function P(){}P.prototype=M.prototype;function I(x,B,J){this.props=x,this.context=B,this.refs=C,this.updater=J||A}var U=I.prototype=new P;U.constructor=I,R(U,M.prototype),U.isPureReactComponent=!0;var W=Array.isArray;function X(){}var F={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function z(x,B,J){var Q=J.ref;return{$$typeof:t,type:x,key:B,ref:Q!==void 0?Q:null,props:J}}function te(x,B){return z(x.type,B,x.props)}function fe(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function me(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(J){return B[J]})}var se=/\/+/g;function Te(x,B){return typeof x=="object"&&x!==null&&x.key!=null?me(""+x.key):B.toString(36)}function Ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(X,X):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function V(x,B,J,Q,ne){var re=typeof x;(re==="undefined"||re==="boolean")&&(x=null);var ie=!1;if(x===null)ie=!0;else switch(re){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(x.$$typeof){case t:case e:ie=!0;break;case v:return ie=x._init,V(ie(x._payload),B,J,Q,ne)}}if(ie)return ne=ne(x),ie=Q===""?"."+Te(x,0):Q,W(ne)?(J="",ie!=null&&(J=ie.replace(se,"$&/")+"/"),V(ne,B,J,"",function(He){return He})):ne!=null&&(fe(ne)&&(ne=te(ne,J+(ne.key==null||x&&x.key===ne.key?"":(""+ne.key).replace(se,"$&/")+"/")+ie)),B.push(ne)),1;ie=0;var he=Q===""?".":Q+":";if(W(x))for(var _e=0;_e<x.length;_e++)Q=x[_e],re=he+Te(Q,_e),ie+=V(Q,B,J,re,ne);else if(_e=E(x),typeof _e=="function")for(x=_e.call(x),_e=0;!(Q=x.next()).done;)Q=Q.value,re=he+Te(Q,_e++),ie+=V(Q,B,J,re,ne);else if(re==="object"){if(typeof x.then=="function")return V(Ye(x),B,J,Q,ne);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ie}function Z(x,B,J){if(x==null)return x;var Q=[],ne=0;return V(x,Q,"","",function(re){return B.call(J,re,ne++)}),Q}function ge(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(J){(x._status===0||x._status===-1)&&(x._status=1,x._result=J)},function(J){(x._status===0||x._status===-1)&&(x._status=2,x._result=J)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var Pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},L={map:Z,forEach:function(x,B,J){Z(x,function(){B.apply(this,arguments)},J)},count:function(x){var B=0;return Z(x,function(){B++}),B},toArray:function(x){return Z(x,function(B){return B})||[]},only:function(x){if(!fe(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return we.Activity=b,we.Children=L,we.Component=M,we.Fragment=n,we.Profiler=o,we.PureComponent=I,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,we.__COMPILER_RUNTIME={__proto__:null,c:function(x){return F.H.useMemoCache(x)}},we.cache=function(x){return function(){return x.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(x,B,J){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Q=R({},x.props),ne=x.key;if(B!=null)for(re in B.key!==void 0&&(ne=""+B.key),B)!ae.call(B,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&B.ref===void 0||(Q[re]=B[re]);var re=arguments.length-2;if(re===1)Q.children=J;else if(1<re){for(var ie=Array(re),he=0;he<re;he++)ie[he]=arguments[he+2];Q.children=ie}return z(x.type,ne,Q)},we.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},we.createElement=function(x,B,J){var Q,ne={},re=null;if(B!=null)for(Q in B.key!==void 0&&(re=""+B.key),B)ae.call(B,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ne[Q]=B[Q]);var ie=arguments.length-2;if(ie===1)ne.children=J;else if(1<ie){for(var he=Array(ie),_e=0;_e<ie;_e++)he[_e]=arguments[_e+2];ne.children=he}if(x&&x.defaultProps)for(Q in ie=x.defaultProps,ie)ne[Q]===void 0&&(ne[Q]=ie[Q]);return z(x,re,ne)},we.createRef=function(){return{current:null}},we.forwardRef=function(x){return{$$typeof:f,render:x}},we.isValidElement=fe,we.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:ge}},we.memo=function(x,B){return{$$typeof:h,type:x,compare:B===void 0?null:B}},we.startTransition=function(x){var B=F.T,J={};F.T=J;try{var Q=x(),ne=F.S;ne!==null&&ne(J,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(X,Pe)}catch(re){Pe(re)}finally{B!==null&&J.types!==null&&(B.types=J.types),F.T=B}},we.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},we.use=function(x){return F.H.use(x)},we.useActionState=function(x,B,J){return F.H.useActionState(x,B,J)},we.useCallback=function(x,B){return F.H.useCallback(x,B)},we.useContext=function(x){return F.H.useContext(x)},we.useDebugValue=function(){},we.useDeferredValue=function(x,B){return F.H.useDeferredValue(x,B)},we.useEffect=function(x,B){return F.H.useEffect(x,B)},we.useEffectEvent=function(x){return F.H.useEffectEvent(x)},we.useId=function(){return F.H.useId()},we.useImperativeHandle=function(x,B,J){return F.H.useImperativeHandle(x,B,J)},we.useInsertionEffect=function(x,B){return F.H.useInsertionEffect(x,B)},we.useLayoutEffect=function(x,B){return F.H.useLayoutEffect(x,B)},we.useMemo=function(x,B){return F.H.useMemo(x,B)},we.useOptimistic=function(x,B){return F.H.useOptimistic(x,B)},we.useReducer=function(x,B,J){return F.H.useReducer(x,B,J)},we.useRef=function(x){return F.H.useRef(x)},we.useState=function(x){return F.H.useState(x)},we.useSyncExternalStore=function(x,B,J){return F.H.useSyncExternalStore(x,B,J)},we.useTransition=function(){return F.H.useTransition()},we.version="19.2.3",we}var gg;function jd(){return gg||(gg=1,Qc.exports=Lw()),Qc.exports}var D=jd();const Oy=Uy(D);var Zc={exports:{}},uo={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Bw(){return vg||(vg=1,(function(t){function e(V,Z){var ge=V.length;V.push(Z);e:for(;0<ge;){var Pe=ge-1>>>1,L=V[Pe];if(0<o(L,Z))V[Pe]=Z,V[ge]=L,ge=Pe;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var Z=V[0],ge=V.pop();if(ge!==Z){V[0]=ge;e:for(var Pe=0,L=V.length,x=L>>>1;Pe<x;){var B=2*(Pe+1)-1,J=V[B],Q=B+1,ne=V[Q];if(0>o(J,ge))Q<L&&0>o(ne,J)?(V[Pe]=ne,V[Q]=ge,Pe=Q):(V[Pe]=J,V[B]=ge,Pe=B);else if(Q<L&&0>o(ne,ge))V[Pe]=ne,V[Q]=ge,Pe=Q;else break e}}return Z}function o(V,Z){var ge=V.sortIndex-Z.sortIndex;return ge!==0?ge:V.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],h=[],v=1,b=null,w=3,E=!1,A=!1,R=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function U(V){for(var Z=n(h);Z!==null;){if(Z.callback===null)s(h);else if(Z.startTime<=V)s(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(h)}}function W(V){if(R=!1,U(V),!A)if(n(p)!==null)A=!0,X||(X=!0,me());else{var Z=n(h);Z!==null&&Ye(W,Z.startTime-V)}}var X=!1,F=-1,ae=5,z=-1;function te(){return C?!0:!(t.unstable_now()-z<ae)}function fe(){if(C=!1,X){var V=t.unstable_now();z=V;var Z=!0;try{e:{A=!1,R&&(R=!1,P(F),F=-1),E=!0;var ge=w;try{t:{for(U(V),b=n(p);b!==null&&!(b.expirationTime>V&&te());){var Pe=b.callback;if(typeof Pe=="function"){b.callback=null,w=b.priorityLevel;var L=Pe(b.expirationTime<=V);if(V=t.unstable_now(),typeof L=="function"){b.callback=L,U(V),Z=!0;break t}b===n(p)&&s(p),U(V)}else s(p);b=n(p)}if(b!==null)Z=!0;else{var x=n(h);x!==null&&Ye(W,x.startTime-V),Z=!1}}break e}finally{b=null,w=ge,E=!1}Z=void 0}}finally{Z?me():X=!1}}}var me;if(typeof I=="function")me=function(){I(fe)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Te=se.port2;se.port1.onmessage=fe,me=function(){Te.postMessage(null)}}else me=function(){M(fe,0)};function Ye(V,Z){F=M(function(){V(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(V){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var ge=w;w=Z;try{return V()}finally{w=ge}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ge=w;w=V;try{return Z()}finally{w=ge}},t.unstable_scheduleCallback=function(V,Z,ge){var Pe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Pe+ge:Pe):ge=Pe,V){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ge+L,V={id:v++,callback:Z,priorityLevel:V,startTime:ge,expirationTime:L,sortIndex:-1},ge>Pe?(V.sortIndex=ge,e(h,V),n(p)===null&&V===n(h)&&(R?(P(F),F=-1):R=!0,Ye(W,ge-Pe))):(V.sortIndex=L,e(p,V),A||E||(A=!0,X||(X=!0,me()))),V},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(V){var Z=w;return function(){var ge=w;w=Z;try{return V.apply(this,arguments)}finally{w=ge}}}})(td)),td}var yg;function qw(){return yg||(yg=1,ed.exports=Bw()),ed.exports}var nd={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Hw(){if(_g)return Tt;_g=1;var t=jd();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,h,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:h,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tt.createPortal=function(p,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(p,h,null,v)},Tt.flushSync=function(p){var h=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=h,s.p=v,s.d.f()}},Tt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(p,h))},Tt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Tt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var v=h.as,b=f(v,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:E}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Tt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=f(h.as,h.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(p)},Tt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,b=f(v,h.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Tt.preloadModule=function(p,h){if(typeof p=="string")if(h){var v=f(h.as,h.crossOrigin);s.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(p)},Tt.requestFormReset=function(p){s.d.r(p)},Tt.unstable_batchedUpdates=function(p,h){return p(h)},Tt.useFormState=function(p,h,v){return c.H.useFormState(p,h,v)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var bg;function Gw(){if(bg)return nd.exports;bg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nd.exports=Hw(),nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function zw(){if(wg)return uo;wg=1;var t=qw(),e=jd(),n=Gw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function h(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return p(g),i;if(y===u)return p(g),r;y=y.sibling}throw Error(s(188))}if(a.return!==u.return)a=g,u=y;else{for(var S=!1,T=g.child;T;){if(T===a){S=!0,a=g,u=y;break}if(T===u){S=!0,u=g,a=y;break}T=T.sibling}if(!S){for(T=y.child;T;){if(T===a){S=!0,a=y,u=g;break}if(T===u){S=!0,u=y,a=g;break}T=T.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=fe&&i[fe]||i["@@iterator"],typeof i=="function"?i:null)}var se=Symbol.for("react.client.reference");function Te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===se?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case W:return"Suspense";case X:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case I:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case U:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return r=i.displayName||null,r!==null?r:Te(i.type)||"Memo";case ae:r=i._payload,i=i._init;try{return Te(i(r))}catch{}}return null}var Ye=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Pe=[],L=-1;function x(i){return{current:i}}function B(i){0>L||(i.current=Pe[L],Pe[L]=null,L--)}function J(i,r){L++,Pe[L]=i.current,i.current=r}var Q=x(null),ne=x(null),re=x(null),ie=x(null);function he(i,r){switch(J(re,r),J(ne,i),J(Q,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Pm(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Pm(r),i=Lm(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}B(Q),J(Q,i)}function _e(){B(Q),B(ne),B(re)}function He(i){i.memoizedState!==null&&J(ie,i);var r=Q.current,a=Lm(r,i.type);r!==a&&(J(ne,i),J(Q,a))}function Le(i){ne.current===i&&(B(Q),B(ne)),ie.current===i&&(B(ie),so._currentValue=ge)}var je,rt;function Ee(i){if(je===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);je=r&&r[1]||"",rt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+i+rt}var ht=!1;function At(i,r){if(!i||ht)return"";ht=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch($){var G=$}Reflect.construct(i,[],K)}else{try{K.call()}catch($){G=$}i.call(K.prototype)}}else{try{throw Error()}catch($){G=$}(K=i())&&typeof K.catch=="function"&&K.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],T=y[1];if(S&&T){var N=S.split(`
`),H=T.split(`
`);for(g=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(u===N.length||g===H.length)for(u=N.length-1,g=H.length-1;1<=u&&0<=g&&N[u]!==H[g];)g--;for(;1<=u&&0<=g;u--,g--)if(N[u]!==H[g]){if(u!==1||g!==1)do if(u--,g--,0>g||N[u]!==H[g]){var j=`
`+N[u].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=u&&0<=g);break}}}finally{ht=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Ee(a):""}function Gt(i,r){switch(i.tag){case 26:case 27:case 5:return Ee(i.type);case 16:return Ee("Lazy");case 13:return i.child!==r&&r!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return At(i.type,!1);case 11:return At(i.type.render,!1);case 1:return At(i.type,!0);case 31:return Ee("Activity");default:return""}}function nn(i){try{var r="",a=null;do r+=Gt(i,a),a=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var vn=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,hr=t.unstable_cancelCallback,Ol=t.unstable_shouldYield,Pl=t.unstable_requestPaint,xt=t.unstable_now,Ll=t.unstable_getCurrentPriorityLevel,pr=t.unstable_ImmediatePriority,Io=t.unstable_UserBlockingPriority,ls=t.unstable_NormalPriority,Mo=t.unstable_LowPriority,mr=t.unstable_IdlePriority,gr=t.log,Bl=t.unstable_setDisableYieldValue,Di=null,zt=null;function ii(i){if(typeof gr=="function"&&Bl(i),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Di,i)}catch{}}var Vt=Math.clz32?Math.clz32:w_,__=Math.log,b_=Math.LN2;function w_(i){return i>>>=0,i===0?32:31-(__(i)/b_|0)|0}var ko=256,Do=262144,Uo=4194304;function Ui(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oo(i,r,a){var u=i.pendingLanes;if(u===0)return 0;var g=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var T=u&134217727;return T!==0?(u=T&~y,u!==0?g=Ui(u):(S&=T,S!==0?g=Ui(S):a||(a=T&~i,a!==0&&(g=Ui(a))))):(T=u&~y,T!==0?g=Ui(T):S!==0?g=Ui(S):a||(a=u&~i,a!==0&&(g=Ui(a)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,a=r&-r,y>=a||y===32&&(a&4194048)!==0)?r:g}function vr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function S_(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(){var i=Uo;return Uo<<=1,(Uo&62914560)===0&&(Uo=4194304),i}function ql(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function yr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function E_(i,r,a,u,g,y){var S=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var T=i.entanglements,N=i.expirationTimes,H=i.hiddenUpdates;for(a=S&~a;0<a;){var j=31-Vt(a),K=1<<j;T[j]=0,N[j]=-1;var G=H[j];if(G!==null)for(H[j]=null,j=0;j<G.length;j++){var $=G[j];$!==null&&($.lane&=-536870913)}a&=~K}u!==0&&yf(i,u,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~r))}function yf(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Vt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function _f(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Vt(a),g=1<<u;g&r|i[u]&r&&(i[u]|=r),a&=~g}}function bf(i,r){var a=r&-r;return a=(a&42)!==0?1:Hl(a),(a&(i.suspendedLanes|r))!==0?0:a}function Hl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function wf(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:og(i.type))}function Sf(i,r){var a=Z.p;try{return Z.p=i,r()}finally{Z.p=a}}var si=Math.random().toString(36).slice(2),vt="__reactFiber$"+si,Dt="__reactProps$"+si,us="__reactContainer$"+si,zl="__reactEvents$"+si,x_="__reactListeners$"+si,T_="__reactHandles$"+si,Ef="__reactResources$"+si,_r="__reactMarker$"+si;function Vl(i){delete i[vt],delete i[Dt],delete i[zl],delete i[x_],delete i[T_]}function cs(i){var r=i[vt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[us]||a[vt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=$m(i);i!==null;){if(a=i[vt])return a;i=$m(i)}return r}i=a,a=i.parentNode}return null}function ds(i){if(i=i[vt]||i[us]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function br(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function fs(i){var r=i[Ef];return r||(r=i[Ef]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(i){i[_r]=!0}var xf=new Set,Tf={};function Oi(i,r){hs(i,r),hs(i+"Capture",r)}function hs(i,r){for(Tf[i]=r,i=0;i<r.length;i++)xf.add(r[i])}var C_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cf={},Af={};function A_(i){return vn.call(Af,i)?!0:vn.call(Cf,i)?!1:C_.test(i)?Af[i]=!0:(Cf[i]=!0,!1)}function Po(i,r,a){if(A_(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Lo(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function kn(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Rf(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function R_(i,r,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(S){a=""+S,y.call(this,S)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $l(i){if(!i._valueTracker){var r=Rf(i)?"checked":"value";i._valueTracker=R_(i,r,""+i[r])}}function Nf(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=Rf(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function Bo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var N_=/[\n"\\]/g;function rn(i){return i.replace(N_,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fl(i,r,a,u,g,y,S,T){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),r!=null?S==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+sn(r)):i.value!==""+sn(r)&&(i.value=""+sn(r)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),r!=null?jl(i,S,sn(r)):a!=null?jl(i,S,sn(a)):u!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+sn(T):i.removeAttribute("name")}function If(i,r,a,u,g,y,S,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){$l(i);return}a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,T||r===i.value||(i.value=r),i.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=T?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),$l(i)}function jl(i,r,a){r==="number"&&Bo(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ps(i,r,a,u){if(i=i.options,r){r={};for(var g=0;g<a.length;g++)r["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=r.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&u&&(i[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Mf(i,r,a){if(r!=null&&(r=""+sn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+sn(a):""}function kf(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Ye(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=sn(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),$l(i)}function ms(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var I_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Df(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||I_.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Uf(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&a[g]!==u&&Df(i,g,u)}else for(var y in r)r.hasOwnProperty(y)&&Df(i,y,r[y])}function Jl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(i){return k_.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Dn(){}var Yl=null;function Kl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gs=null,vs=null;function Of(i){var r=ds(i);if(r&&(i=r.stateNode)){var a=i[Dt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Fl(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var g=u[Dt]||null;if(!g)throw Error(s(90));Fl(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&Nf(u)}break e;case"textarea":Mf(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ps(i,!!a.multiple,r,!1)}}}var Wl=!1;function Pf(i,r,a){if(Wl)return i(r,a);Wl=!0;try{var u=i(r);return u}finally{if(Wl=!1,(gs!==null||vs!==null)&&(Ca(),gs&&(r=gs,i=vs,vs=gs=null,Of(r),i)))for(r=0;r<i.length;r++)Of(i[r])}}function wr(i,r){var a=i.stateNode;if(a===null)return null;var u=a[Dt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=!1;if(Un)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Xl=!1}var ri=null,Ql=null,Ho=null;function Lf(){if(Ho)return Ho;var i,r=Ql,a=r.length,u,g="value"in ri?ri.value:ri.textContent,y=g.length;for(i=0;i<a&&r[i]===g[i];i++);var S=a-i;for(u=1;u<=S&&r[a-u]===g[y-u];u++);return Ho=g.slice(i,1<u?1-u:void 0)}function Go(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function zo(){return!0}function Bf(){return!1}function Ut(i){function r(a,u,g,y,S){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(a=i[T],this[T]=a?a(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zo:Bf,this.isPropagationStopped=Bf,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),r}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Ut(Pi),Er=b({},Pi,{view:0,detail:0}),D_=Ut(Er),Zl,eu,xr,$o=b({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xr&&(xr&&i.type==="mousemove"?(Zl=i.screenX-xr.screenX,eu=i.screenY-xr.screenY):eu=Zl=0,xr=i),Zl)},movementY:function(i){return"movementY"in i?i.movementY:eu}}),qf=Ut($o),U_=b({},$o,{dataTransfer:0}),O_=Ut(U_),P_=b({},Er,{relatedTarget:0}),tu=Ut(P_),L_=b({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),B_=Ut(L_),q_=b({},Pi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),H_=Ut(q_),G_=b({},Pi,{data:0}),Hf=Ut(G_),z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F_(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=$_[i])?!!r[i]:!1}function nu(){return F_}var j_=b({},Er,{key:function(i){if(i.key){var r=z_[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Go(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?V_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(i){return i.type==="keypress"?Go(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Go(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),J_=Ut(j_),Y_=b({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Ut(Y_),K_=b({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),W_=Ut(K_),X_=b({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q_=Ut(X_),Z_=b({},$o,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),eb=Ut(Z_),tb=b({},Pi,{newState:0,oldState:0}),nb=Ut(tb),ib=[9,13,27,32],iu=Un&&"CompositionEvent"in window,Tr=null;Un&&"documentMode"in document&&(Tr=document.documentMode);var sb=Un&&"TextEvent"in window&&!Tr,zf=Un&&(!iu||Tr&&8<Tr&&11>=Tr),Vf=" ",$f=!1;function Ff(i,r){switch(i){case"keyup":return ib.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ys=!1;function rb(i,r){switch(i){case"compositionend":return jf(r);case"keypress":return r.which!==32?null:($f=!0,Vf);case"textInput":return i=r.data,i===Vf&&$f?null:i;default:return null}}function ob(i,r){if(ys)return i==="compositionend"||!iu&&Ff(i,r)?(i=Lf(),Ho=Ql=ri=null,ys=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zf&&r.locale!=="ko"?null:r.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ab[i.type]:r==="textarea"}function Yf(i,r,a,u){gs?vs?vs.push(u):vs=[u]:gs=u,r=Da(r,"onChange"),0<r.length&&(a=new Vo("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Cr=null,Ar=null;function lb(i){Im(i,0)}function Fo(i){var r=br(i);if(Nf(r))return i}function Kf(i,r){if(i==="change")return r}var Wf=!1;if(Un){var su;if(Un){var ru="oninput"in document;if(!ru){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),ru=typeof Xf.oninput=="function"}su=ru}else su=!1;Wf=su&&(!document.documentMode||9<document.documentMode)}function Qf(){Cr&&(Cr.detachEvent("onpropertychange",Zf),Ar=Cr=null)}function Zf(i){if(i.propertyName==="value"&&Fo(Ar)){var r=[];Yf(r,Ar,i,Kl(i)),Pf(lb,r)}}function ub(i,r,a){i==="focusin"?(Qf(),Cr=r,Ar=a,Cr.attachEvent("onpropertychange",Zf)):i==="focusout"&&Qf()}function cb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fo(Ar)}function db(i,r){if(i==="click")return Fo(r)}function fb(i,r){if(i==="input"||i==="change")return Fo(r)}function hb(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var $t=typeof Object.is=="function"?Object.is:hb;function Rr(i,r){if($t(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!vn.call(r,g)||!$t(i[g],r[g]))return!1}return!0}function eh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function th(i,r){var a=eh(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=eh(a)}}function nh(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?nh(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ih(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Bo(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Bo(i.document)}return r}function ou(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var pb=Un&&"documentMode"in document&&11>=document.documentMode,_s=null,au=null,Nr=null,lu=!1;function sh(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lu||_s==null||_s!==Bo(u)||(u=_s,"selectionStart"in u&&ou(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nr&&Rr(Nr,u)||(Nr=u,u=Da(au,"onSelect"),0<u.length&&(r=new Vo("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=_s)))}function Li(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var bs={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},uu={},rh={};Un&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Bi(i){if(uu[i])return uu[i];if(!bs[i])return i;var r=bs[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in rh)return uu[i]=r[a];return i}var oh=Bi("animationend"),ah=Bi("animationiteration"),lh=Bi("animationstart"),mb=Bi("transitionrun"),gb=Bi("transitionstart"),vb=Bi("transitioncancel"),uh=Bi("transitionend"),ch=new Map,cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cu.push("scrollEnd");function yn(i,r){ch.set(i,r),Oi(r,[i])}var jo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},on=[],ws=0,du=0;function Jo(){for(var i=ws,r=du=ws=0;r<i;){var a=on[r];on[r++]=null;var u=on[r];on[r++]=null;var g=on[r];on[r++]=null;var y=on[r];if(on[r++]=null,u!==null&&g!==null){var S=u.pending;S===null?g.next=g:(g.next=S.next,S.next=g),u.pending=g}y!==0&&dh(a,g,y)}}function Yo(i,r,a,u){on[ws++]=i,on[ws++]=r,on[ws++]=a,on[ws++]=u,du|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function fu(i,r,a,u){return Yo(i,r,a,u),Ko(i)}function qi(i,r){return Yo(i,null,null,r),Ko(i)}function dh(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var g=!1,y=i.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&r!==null&&(g=31-Vt(a),i=y.hiddenUpdates,u=i[g],u===null?i[g]=[r]:u.push(r),r.lane=a|536870912),y):null}function Ko(i){if(50<Xr)throw Xr=0,wc=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ss={};function yb(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(i,r,a,u){return new yb(i,r,a,u)}function hu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function On(i,r){var a=i.alternate;return a===null?(a=Ft(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function fh(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Wo(i,r,a,u,g,y){var S=0;if(u=i,typeof i=="function")hu(i)&&(S=1);else if(typeof i=="string")S=Ew(i,a,Q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=Ft(31,a,r,g),i.elementType=z,i.lanes=y,i;case R:return Hi(a.children,g,y,r);case C:S=8,g|=24;break;case M:return i=Ft(12,a,r,g|2),i.elementType=M,i.lanes=y,i;case W:return i=Ft(13,a,r,g),i.elementType=W,i.lanes=y,i;case X:return i=Ft(19,a,r,g),i.elementType=X,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:S=10;break e;case P:S=9;break e;case U:S=11;break e;case F:S=14;break e;case ae:S=16,u=null;break e}S=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Ft(S,a,r,g),r.elementType=i,r.type=u,r.lanes=y,r}function Hi(i,r,a,u){return i=Ft(7,i,u,r),i.lanes=a,i}function pu(i,r,a){return i=Ft(6,i,null,r),i.lanes=a,i}function hh(i){var r=Ft(18,null,null,0);return r.stateNode=i,r}function mu(i,r,a){return r=Ft(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ph=new WeakMap;function an(i,r){if(typeof i=="object"&&i!==null){var a=ph.get(i);return a!==void 0?a:(r={value:i,source:r,stack:nn(r)},ph.set(i,r),r)}return{value:i,source:r,stack:nn(r)}}var Es=[],xs=0,Xo=null,Ir=0,ln=[],un=0,oi=null,An=1,Rn="";function Pn(i,r){Es[xs++]=Ir,Es[xs++]=Xo,Xo=i,Ir=r}function mh(i,r,a){ln[un++]=An,ln[un++]=Rn,ln[un++]=oi,oi=i;var u=An;i=Rn;var g=32-Vt(u)-1;u&=~(1<<g),a+=1;var y=32-Vt(r)+g;if(30<y){var S=g-g%5;y=(u&(1<<S)-1).toString(32),u>>=S,g-=S,An=1<<32-Vt(r)+g|a<<g|u,Rn=y+i}else An=1<<y|a<<g|u,Rn=i}function gu(i){i.return!==null&&(Pn(i,1),mh(i,1,0))}function vu(i){for(;i===Xo;)Xo=Es[--xs],Es[xs]=null,Ir=Es[--xs],Es[xs]=null;for(;i===oi;)oi=ln[--un],ln[un]=null,Rn=ln[--un],ln[un]=null,An=ln[--un],ln[un]=null}function gh(i,r){ln[un++]=An,ln[un++]=Rn,ln[un++]=oi,An=r.id,Rn=r.overflow,oi=i}var yt=null,Ke=null,Ie=!1,ai=null,cn=!1,yu=Error(s(519));function li(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mr(an(r,i)),yu}function vh(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[vt]=i,r[Dt]=u,a){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(a=0;a<Zr.length;a++)Ae(Zr[a],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Ae("invalid",r),If(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ae("invalid",r);break;case"textarea":Ae("invalid",r),kf(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||Um(r.textContent,a)?(u.popover!=null&&(Ae("beforetoggle",r),Ae("toggle",r)),u.onScroll!=null&&Ae("scroll",r),u.onScrollEnd!=null&&Ae("scrollend",r),u.onClick!=null&&(r.onclick=Dn),r=!0):r=!1,r||li(i,!0)}function yh(i){for(yt=i.return;yt;)switch(yt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:yt=yt.return}}function Ts(i){if(i!==yt)return!1;if(!Ie)return yh(i),Ie=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Pc(i.type,i.memoizedProps)),a=!a),a&&Ke&&li(i),yh(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ke=Vm(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ke=Vm(i)}else r===27?(r=Ke,Si(i.type)?(i=Gc,Gc=null,Ke=i):Ke=r):Ke=yt?fn(i.stateNode.nextSibling):null;return!0}function Gi(){Ke=yt=null,Ie=!1}function _u(){var i=ai;return i!==null&&(Bt===null?Bt=i:Bt.push.apply(Bt,i),ai=null),i}function Mr(i){ai===null?ai=[i]:ai.push(i)}var bu=x(null),zi=null,Ln=null;function ui(i,r,a){J(bu,r._currentValue),r._currentValue=a}function Bn(i){i._currentValue=bu.current,B(bu)}function wu(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function Su(i,r,a,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=g;for(var N=0;N<r.length;N++)if(T.context===r[N]){y.lanes|=a,T=y.alternate,T!==null&&(T.lanes|=a),wu(y.return,a,i),u||(S=null);break e}y=T.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(s(341));S.lanes|=a,y=S.alternate,y!==null&&(y.lanes|=a),wu(S,a,i),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Cs(i,r,a,u){i=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var T=g.type;$t(g.pendingProps.value,S.value)||(i!==null?i.push(T):i=[T])}}else if(g===ie.current){if(S=g.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(so):i=[so])}g=g.return}i!==null&&Su(r,i,a,u),r.flags|=262144}function Qo(i){for(i=i.firstContext;i!==null;){if(!$t(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vi(i){zi=i,Ln=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _t(i){return _h(zi,i)}function Zo(i,r){return zi===null&&Vi(i),_h(i,r)}function _h(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ln===null){if(i===null)throw Error(s(308));Ln=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ln=Ln.next=r;return a}var _b=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},bb=t.unstable_scheduleCallback,wb=t.unstable_NormalPriority,ot={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new _b,data:new Map,refCount:0}}function kr(i){i.refCount--,i.refCount===0&&bb(wb,function(){i.controller.abort()})}var Dr=null,xu=0,As=0,Rs=null;function Sb(i,r){if(Dr===null){var a=Dr=[];xu=0,As=Ac(),Rs={status:"pending",value:void 0,then:function(u){a.push(u)}}}return xu++,r.then(bh,bh),r}function bh(){if(--xu===0&&Dr!==null){Rs!==null&&(Rs.status="fulfilled");var i=Dr;Dr=null,As=0,Rs=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Eb(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<a.length;g++)(0,a[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var wh=V.S;V.S=function(i,r){sm=xt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Sb(i,r),wh!==null&&wh(i,r)};var $i=x(null);function Tu(){var i=$i.current;return i!==null?i:Fe.pooledCache}function ea(i,r){r===null?J($i,$i.current):J($i,r.pool)}function Sh(){var i=Tu();return i===null?null:{parent:ot._currentValue,pool:i}}var Ns=Error(s(460)),Cu=Error(s(474)),ta=Error(s(542)),na={then:function(){}};function Eh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function xh(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Dn,Dn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ch(i),i;default:if(typeof r.status=="string")r.then(Dn,Dn);else{if(i=Fe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ch(i),i}throw ji=r,Ns}}function Fi(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ji=a,Ns):a}}var ji=null;function Th(){if(ji===null)throw Error(s(459));var i=ji;return ji=null,i}function Ch(i){if(i===Ns||i===ta)throw Error(s(483))}var Is=null,Ur=0;function ia(i){var r=Ur;return Ur+=1,Is===null&&(Is=[]),xh(Is,i,r)}function Or(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function sa(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ah(i){function r(O,k){if(i){var q=O.deletions;q===null?(O.deletions=[k],O.flags|=16):q.push(k)}}function a(O,k){if(!i)return null;for(;k!==null;)r(O,k),k=k.sibling;return null}function u(O){for(var k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function g(O,k){return O=On(O,k),O.index=0,O.sibling=null,O}function y(O,k,q){return O.index=q,i?(q=O.alternate,q!==null?(q=q.index,q<k?(O.flags|=67108866,k):q):(O.flags|=67108866,k)):(O.flags|=1048576,k)}function S(O){return i&&O.alternate===null&&(O.flags|=67108866),O}function T(O,k,q,Y){return k===null||k.tag!==6?(k=pu(q,O.mode,Y),k.return=O,k):(k=g(k,q),k.return=O,k)}function N(O,k,q,Y){var de=q.type;return de===R?j(O,k,q.props.children,Y,q.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&Fi(de)===k.type)?(k=g(k,q.props),Or(k,q),k.return=O,k):(k=Wo(q.type,q.key,q.props,null,O.mode,Y),Or(k,q),k.return=O,k)}function H(O,k,q,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=mu(q,O.mode,Y),k.return=O,k):(k=g(k,q.children||[]),k.return=O,k)}function j(O,k,q,Y,de){return k===null||k.tag!==7?(k=Hi(q,O.mode,Y,de),k.return=O,k):(k=g(k,q),k.return=O,k)}function K(O,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=pu(""+k,O.mode,q),k.return=O,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return q=Wo(k.type,k.key,k.props,null,O.mode,q),Or(q,k),q.return=O,q;case A:return k=mu(k,O.mode,q),k.return=O,k;case ae:return k=Fi(k),K(O,k,q)}if(Ye(k)||me(k))return k=Hi(k,O.mode,q,null),k.return=O,k;if(typeof k.then=="function")return K(O,ia(k),q);if(k.$$typeof===I)return K(O,Zo(O,k),q);sa(O,k)}return null}function G(O,k,q,Y){var de=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:T(O,k,""+q,Y);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return q.key===de?N(O,k,q,Y):null;case A:return q.key===de?H(O,k,q,Y):null;case ae:return q=Fi(q),G(O,k,q,Y)}if(Ye(q)||me(q))return de!==null?null:j(O,k,q,Y,null);if(typeof q.then=="function")return G(O,k,ia(q),Y);if(q.$$typeof===I)return G(O,k,Zo(O,q),Y);sa(O,q)}return null}function $(O,k,q,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return O=O.get(q)||null,T(k,O,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return O=O.get(Y.key===null?q:Y.key)||null,N(k,O,Y,de);case A:return O=O.get(Y.key===null?q:Y.key)||null,H(k,O,Y,de);case ae:return Y=Fi(Y),$(O,k,q,Y,de)}if(Ye(Y)||me(Y))return O=O.get(q)||null,j(k,O,Y,de,null);if(typeof Y.then=="function")return $(O,k,q,ia(Y),de);if(Y.$$typeof===I)return $(O,k,q,Zo(k,Y),de);sa(k,Y)}return null}function le(O,k,q,Y){for(var de=null,Me=null,ue=k,xe=k=0,Ne=null;ue!==null&&xe<q.length;xe++){ue.index>xe?(Ne=ue,ue=null):Ne=ue.sibling;var ke=G(O,ue,q[xe],Y);if(ke===null){ue===null&&(ue=Ne);break}i&&ue&&ke.alternate===null&&r(O,ue),k=y(ke,k,xe),Me===null?de=ke:Me.sibling=ke,Me=ke,ue=Ne}if(xe===q.length)return a(O,ue),Ie&&Pn(O,xe),de;if(ue===null){for(;xe<q.length;xe++)ue=K(O,q[xe],Y),ue!==null&&(k=y(ue,k,xe),Me===null?de=ue:Me.sibling=ue,Me=ue);return Ie&&Pn(O,xe),de}for(ue=u(ue);xe<q.length;xe++)Ne=$(ue,O,xe,q[xe],Y),Ne!==null&&(i&&Ne.alternate!==null&&ue.delete(Ne.key===null?xe:Ne.key),k=y(Ne,k,xe),Me===null?de=Ne:Me.sibling=Ne,Me=Ne);return i&&ue.forEach(function(Ai){return r(O,Ai)}),Ie&&Pn(O,xe),de}function pe(O,k,q,Y){if(q==null)throw Error(s(151));for(var de=null,Me=null,ue=k,xe=k=0,Ne=null,ke=q.next();ue!==null&&!ke.done;xe++,ke=q.next()){ue.index>xe?(Ne=ue,ue=null):Ne=ue.sibling;var Ai=G(O,ue,ke.value,Y);if(Ai===null){ue===null&&(ue=Ne);break}i&&ue&&Ai.alternate===null&&r(O,ue),k=y(Ai,k,xe),Me===null?de=Ai:Me.sibling=Ai,Me=Ai,ue=Ne}if(ke.done)return a(O,ue),Ie&&Pn(O,xe),de;if(ue===null){for(;!ke.done;xe++,ke=q.next())ke=K(O,ke.value,Y),ke!==null&&(k=y(ke,k,xe),Me===null?de=ke:Me.sibling=ke,Me=ke);return Ie&&Pn(O,xe),de}for(ue=u(ue);!ke.done;xe++,ke=q.next())ke=$(ue,O,xe,ke.value,Y),ke!==null&&(i&&ke.alternate!==null&&ue.delete(ke.key===null?xe:ke.key),k=y(ke,k,xe),Me===null?de=ke:Me.sibling=ke,Me=ke);return i&&ue.forEach(function(Uw){return r(O,Uw)}),Ie&&Pn(O,xe),de}function Ve(O,k,q,Y){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case E:e:{for(var de=q.key;k!==null;){if(k.key===de){if(de=q.type,de===R){if(k.tag===7){a(O,k.sibling),Y=g(k,q.props.children),Y.return=O,O=Y;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&Fi(de)===k.type){a(O,k.sibling),Y=g(k,q.props),Or(Y,q),Y.return=O,O=Y;break e}a(O,k);break}else r(O,k);k=k.sibling}q.type===R?(Y=Hi(q.props.children,O.mode,Y,q.key),Y.return=O,O=Y):(Y=Wo(q.type,q.key,q.props,null,O.mode,Y),Or(Y,q),Y.return=O,O=Y)}return S(O);case A:e:{for(de=q.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(O,k.sibling),Y=g(k,q.children||[]),Y.return=O,O=Y;break e}else{a(O,k);break}else r(O,k);k=k.sibling}Y=mu(q,O.mode,Y),Y.return=O,O=Y}return S(O);case ae:return q=Fi(q),Ve(O,k,q,Y)}if(Ye(q))return le(O,k,q,Y);if(me(q)){if(de=me(q),typeof de!="function")throw Error(s(150));return q=de.call(q),pe(O,k,q,Y)}if(typeof q.then=="function")return Ve(O,k,ia(q),Y);if(q.$$typeof===I)return Ve(O,k,Zo(O,q),Y);sa(O,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(O,k.sibling),Y=g(k,q),Y.return=O,O=Y):(a(O,k),Y=pu(q,O.mode,Y),Y.return=O,O=Y),S(O)):a(O,k)}return function(O,k,q,Y){try{Ur=0;var de=Ve(O,k,q,Y);return Is=null,de}catch(ue){if(ue===Ns||ue===ta)throw ue;var Me=Ft(29,ue,null,O.mode);return Me.lanes=Y,Me.return=O,Me}finally{}}}var Ji=Ah(!0),Rh=Ah(!1),ci=!1;function Au(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function di(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fi(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Ko(i),dh(i,null,a),r}return Yo(i,u,r,a),Ko(i)}function Pr(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,_f(i,a)}}function Nu(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,a=a.next}while(a!==null);y===null?g=y=r:y=y.next=r}else g=y=r;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Iu=!1;function Lr(){if(Iu){var i=Rs;if(i!==null)throw i}}function Br(i,r,a,u){Iu=!1;var g=i.updateQueue;ci=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var N=T,H=N.next;N.next=null,S===null?y=H:S.next=H,S=N;var j=i.alternate;j!==null&&(j=j.updateQueue,T=j.lastBaseUpdate,T!==S&&(T===null?j.firstBaseUpdate=H:T.next=H,j.lastBaseUpdate=N))}if(y!==null){var K=g.baseState;S=0,j=H=N=null,T=y;do{var G=T.lane&-536870913,$=G!==T.lane;if($?(Re&G)===G:(u&G)===G){G!==0&&G===As&&(Iu=!0),j!==null&&(j=j.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var le=i,pe=T;G=r;var Ve=a;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){K=le.call(Ve,K,G);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,G=typeof le=="function"?le.call(Ve,K,G):le,G==null)break e;K=b({},K,G);break e;case 2:ci=!0}}G=T.callback,G!==null&&(i.flags|=64,$&&(i.flags|=8192),$=g.callbacks,$===null?g.callbacks=[G]:$.push(G))}else $={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},j===null?(H=j=$,N=K):j=j.next=$,S|=G;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;$=T,T=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);j===null&&(N=K),g.baseState=N,g.firstBaseUpdate=H,g.lastBaseUpdate=j,y===null&&(g.shared.lanes=0),vi|=S,i.lanes=S,i.memoizedState=K}}function Nh(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Ih(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Nh(a[i],r)}var Ms=x(null),ra=x(0);function Mh(i,r){i=Jn,J(ra,i),J(Ms,r),Jn=i|r.baseLanes}function Mu(){J(ra,Jn),J(Ms,Ms.current)}function ku(){Jn=ra.current,B(Ms),B(ra)}var jt=x(null),dn=null;function hi(i){var r=i.alternate;J(it,it.current&1),J(jt,i),dn===null&&(r===null||Ms.current!==null||r.memoizedState!==null)&&(dn=i)}function Du(i){J(it,it.current),J(jt,i),dn===null&&(dn=i)}function kh(i){i.tag===22?(J(it,it.current),J(jt,i),dn===null&&(dn=i)):pi()}function pi(){J(it,it.current),J(jt,jt.current)}function Jt(i){B(jt),dn===i&&(dn=null),B(it)}var it=x(0);function oa(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qc(a)||Hc(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qn=0,Se=null,Ge=null,at=null,aa=!1,ks=!1,Yi=!1,la=0,qr=0,Ds=null,xb=0;function et(){throw Error(s(321))}function Uu(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!$t(i[a],r[a]))return!1;return!0}function Ou(i,r,a,u,g,y){return qn=y,Se=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,V.H=i===null||i.memoizedState===null?mp:Wu,Yi=!1,y=a(u,g),Yi=!1,ks&&(y=Uh(r,a,u,g)),Dh(i),y}function Dh(i){V.H=zr;var r=Ge!==null&&Ge.next!==null;if(qn=0,at=Ge=Se=null,aa=!1,qr=0,Ds=null,r)throw Error(s(300));i===null||lt||(i=i.dependencies,i!==null&&Qo(i)&&(lt=!0))}function Uh(i,r,a,u){Se=i;var g=0;do{if(ks&&(Ds=null),qr=0,ks=!1,25<=g)throw Error(s(301));if(g+=1,at=Ge=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=gp,y=r(a,u)}while(ks);return y}function Tb(){var i=V.H,r=i.useState()[0];return r=typeof r.then=="function"?Hr(r):r,i=i.useState()[0],(Ge!==null?Ge.memoizedState:null)!==i&&(Se.flags|=1024),r}function Pu(){var i=la!==0;return la=0,i}function Lu(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Bu(i){if(aa){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}aa=!1}qn=0,at=Ge=Se=null,ks=!1,qr=la=0,Ds=null}function Rt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Se.memoizedState=at=i:at=at.next=i,at}function st(){if(Ge===null){var i=Se.alternate;i=i!==null?i.memoizedState:null}else i=Ge.next;var r=at===null?Se.memoizedState:at.next;if(r!==null)at=r,Ge=i;else{if(i===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Ge=i,i={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},at===null?Se.memoizedState=at=i:at=at.next=i}return at}function ua(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hr(i){var r=qr;return qr+=1,Ds===null&&(Ds=[]),i=xh(Ds,i,r),r=Se,(at===null?r.memoizedState:at.next)===null&&(r=r.alternate,V.H=r===null||r.memoizedState===null?mp:Wu),i}function ca(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hr(i);if(i.$$typeof===I)return _t(i)}throw Error(s(438,String(i)))}function qu(i){var r=null,a=Se.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Se.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ua(),Se.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=te;return r.index++,a}function Hn(i,r){return typeof r=="function"?r(i):r}function da(i){var r=st();return Hu(r,Ge,i)}function Hu(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var g=i.baseQueue,y=u.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}r.baseQueue=g=y,u.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{r=g.next;var T=S=null,N=null,H=r,j=!1;do{var K=H.lane&-536870913;if(K!==H.lane?(Re&K)===K:(qn&K)===K){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),K===As&&(j=!0);else if((qn&G)===G){H=H.next,G===As&&(j=!0);continue}else K={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=K,S=y):N=N.next=K,Se.lanes|=G,vi|=G;K=H.action,Yi&&a(y,K),y=H.hasEagerState?H.eagerState:a(y,K)}else G={lane:K,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=G,S=y):N=N.next=G,Se.lanes|=K,vi|=K;H=H.next}while(H!==null&&H!==r);if(N===null?S=y:N.next=T,!$t(y,i.memoizedState)&&(lt=!0,j&&(a=Rs,a!==null)))throw a;i.memoizedState=y,i.baseState=S,i.baseQueue=N,u.lastRenderedState=y}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Gu(i){var r=st(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,g=a.pending,y=r.memoizedState;if(g!==null){a.pending=null;var S=g=g.next;do y=i(y,S.action),S=S.next;while(S!==g);$t(y,r.memoizedState)||(lt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),a.lastRenderedState=y}return[y,u]}function Oh(i,r,a){var u=Se,g=st(),y=Ie;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=r();var S=!$t((Ge||g).memoizedState,a);if(S&&(g.memoizedState=a,lt=!0),g=g.queue,$u(Bh.bind(null,u,g,i),[i]),g.getSnapshot!==r||S||at!==null&&at.memoizedState.tag&1){if(u.flags|=2048,Us(9,{destroy:void 0},Lh.bind(null,u,g,a,r),null),Fe===null)throw Error(s(349));y||(qn&127)!==0||Ph(u,r,a)}return a}function Ph(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Se.updateQueue,r===null?(r=ua(),Se.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Lh(i,r,a,u){r.value=a,r.getSnapshot=u,qh(r)&&Hh(i)}function Bh(i,r,a){return a(function(){qh(r)&&Hh(i)})}function qh(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!$t(i,a)}catch{return!0}}function Hh(i){var r=qi(i,2);r!==null&&qt(r,i,2)}function zu(i){var r=Rt();if(typeof i=="function"){var a=i;if(i=a(),Yi){ii(!0);try{a()}finally{ii(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:i},r}function Gh(i,r,a,u){return i.baseState=a,Hu(i,Ge,typeof u=="function"?u:Hn)}function Cb(i,r,a,u,g){if(pa(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};V.T!==null?a(!0):y.isTransition=!1,u(y),a=r.pending,a===null?(y.next=r.pending=y,zh(r,y)):(y.next=a.next,r.pending=a.next=y)}}function zh(i,r){var a=r.action,u=r.payload,g=i.state;if(r.isTransition){var y=V.T,S={};V.T=S;try{var T=a(g,u),N=V.S;N!==null&&N(S,T),Vh(i,r,T)}catch(H){Vu(i,r,H)}finally{y!==null&&S.types!==null&&(y.types=S.types),V.T=y}}else try{y=a(g,u),Vh(i,r,y)}catch(H){Vu(i,r,H)}}function Vh(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){$h(i,r,u)},function(u){return Vu(i,r,u)}):$h(i,r,a)}function $h(i,r,a){r.status="fulfilled",r.value=a,Fh(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,zh(i,a)))}function Vu(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Fh(r),r=r.next;while(r!==u)}i.action=null}function Fh(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function jh(i,r){return r}function Jh(i,r){if(Ie){var a=Fe.formState;if(a!==null){e:{var u=Se;if(Ie){if(Ke){t:{for(var g=Ke,y=cn;g.nodeType!==8;){if(!y){g=null;break t}if(g=fn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Ke=fn(g.nextSibling),u=g.data==="F!";break e}}li(u)}u=!1}u&&(r=a[0])}}return a=Rt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:r},a.queue=u,a=fp.bind(null,Se,u),u.dispatch=a,u=zu(!1),y=Ku.bind(null,Se,!1,u.queue),u=Rt(),g={state:r,dispatch:null,action:i,pending:null},u.queue=g,a=Cb.bind(null,Se,g,y,a),g.dispatch=a,u.memoizedState=i,[r,a,!1]}function Yh(i){var r=st();return Kh(r,Ge,i)}function Kh(i,r,a){if(r=Hu(i,r,jh)[0],i=da(Hn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Hr(r)}catch(S){throw S===Ns?ta:S}else u=r;r=st();var g=r.queue,y=g.dispatch;return a!==r.memoizedState&&(Se.flags|=2048,Us(9,{destroy:void 0},Ab.bind(null,g,a),null)),[u,y,i]}function Ab(i,r){i.action=r}function Wh(i){var r=st(),a=Ge;if(a!==null)return Kh(r,a,i);st(),r=r.memoizedState,a=st();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function Us(i,r,a,u){return i={tag:i,create:a,deps:u,inst:r,next:null},r=Se.updateQueue,r===null&&(r=ua(),Se.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function Xh(){return st().memoizedState}function fa(i,r,a,u){var g=Rt();Se.flags|=i,g.memoizedState=Us(1|r,{destroy:void 0},a,u===void 0?null:u)}function ha(i,r,a,u){var g=st();u=u===void 0?null:u;var y=g.memoizedState.inst;Ge!==null&&u!==null&&Uu(u,Ge.memoizedState.deps)?g.memoizedState=Us(r,y,a,u):(Se.flags|=i,g.memoizedState=Us(1|r,y,a,u))}function Qh(i,r){fa(8390656,8,i,r)}function $u(i,r){ha(2048,8,i,r)}function Rb(i){Se.flags|=4;var r=Se.updateQueue;if(r===null)r=ua(),Se.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function Zh(i){var r=st().memoizedState;return Rb({ref:r,nextImpl:i}),function(){if((Ue&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ep(i,r){return ha(4,2,i,r)}function tp(i,r){return ha(4,4,i,r)}function np(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function ip(i,r,a){a=a!=null?a.concat([i]):null,ha(4,4,np.bind(null,r,i),a)}function Fu(){}function sp(i,r){var a=st();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Uu(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function rp(i,r){var a=st();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Uu(r,u[1]))return u[0];if(u=i(),Yi){ii(!0);try{i()}finally{ii(!1)}}return a.memoizedState=[u,r],u}function ju(i,r,a){return a===void 0||(qn&1073741824)!==0&&(Re&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=om(),Se.lanes|=i,vi|=i,a)}function op(i,r,a,u){return $t(a,r)?a:Ms.current!==null?(i=ju(i,a,u),$t(i,r)||(lt=!0),i):(qn&42)===0||(qn&1073741824)!==0&&(Re&261930)===0?(lt=!0,i.memoizedState=a):(i=om(),Se.lanes|=i,vi|=i,r)}function ap(i,r,a,u,g){var y=Z.p;Z.p=y!==0&&8>y?y:8;var S=V.T,T={};V.T=T,Ku(i,!1,r,a);try{var N=g(),H=V.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var j=Eb(N,u);Gr(i,r,j,Wt(i))}else Gr(i,r,u,Wt(i))}catch(K){Gr(i,r,{then:function(){},status:"rejected",reason:K},Wt())}finally{Z.p=y,S!==null&&T.types!==null&&(S.types=T.types),V.T=S}}function Nb(){}function Ju(i,r,a,u){if(i.tag!==5)throw Error(s(476));var g=lp(i).queue;ap(i,g,r,ge,a===null?Nb:function(){return up(i),a(u)})}function lp(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function up(i){var r=lp(i);r.next===null&&(r=i.alternate.memoizedState),Gr(i,r.next.queue,{},Wt())}function Yu(){return _t(so)}function cp(){return st().memoizedState}function dp(){return st().memoizedState}function Ib(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Wt();i=di(a);var u=fi(r,i,a);u!==null&&(qt(u,r,a),Pr(u,r,a)),r={cache:Eu()},i.payload=r;return}r=r.return}}function Mb(i,r,a){var u=Wt();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pa(i)?hp(r,a):(a=fu(i,r,a,u),a!==null&&(qt(a,i,u),pp(a,r,u)))}function fp(i,r,a){var u=Wt();Gr(i,r,a,u)}function Gr(i,r,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pa(i))hp(r,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var S=r.lastRenderedState,T=y(S,a);if(g.hasEagerState=!0,g.eagerState=T,$t(T,S))return Yo(i,r,g,0),Fe===null&&Jo(),!1}catch{}finally{}if(a=fu(i,r,g,u),a!==null)return qt(a,i,u),pp(a,r,u),!0}return!1}function Ku(i,r,a,u){if(u={lane:2,revertLane:Ac(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pa(i)){if(r)throw Error(s(479))}else r=fu(i,a,u,2),r!==null&&qt(r,i,2)}function pa(i){var r=i.alternate;return i===Se||r!==null&&r===Se}function hp(i,r){ks=aa=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function pp(i,r,a){if((a&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,_f(i,a)}}var zr={readContext:_t,use:ca,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};zr.useEffectEvent=et;var mp={readContext:_t,use:ca,useCallback:function(i,r){return Rt().memoizedState=[i,r===void 0?null:r],i},useContext:_t,useEffect:Qh,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,fa(4194308,4,np.bind(null,r,i),a)},useLayoutEffect:function(i,r){return fa(4194308,4,i,r)},useInsertionEffect:function(i,r){fa(4,2,i,r)},useMemo:function(i,r){var a=Rt();r=r===void 0?null:r;var u=i();if(Yi){ii(!0);try{i()}finally{ii(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=Rt();if(a!==void 0){var g=a(r);if(Yi){ii(!0);try{a(r)}finally{ii(!1)}}}else g=r;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=Mb.bind(null,Se,i),[u.memoizedState,i]},useRef:function(i){var r=Rt();return i={current:i},r.memoizedState=i},useState:function(i){i=zu(i);var r=i.queue,a=fp.bind(null,Se,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Fu,useDeferredValue:function(i,r){var a=Rt();return ju(a,i,r)},useTransition:function(){var i=zu(!1);return i=ap.bind(null,Se,i.queue,!0,!1),Rt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=Se,g=Rt();if(Ie){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Fe===null)throw Error(s(349));(Re&127)!==0||Ph(u,r,a)}g.memoizedState=a;var y={value:a,getSnapshot:r};return g.queue=y,Qh(Bh.bind(null,u,y,i),[i]),u.flags|=2048,Us(9,{destroy:void 0},Lh.bind(null,u,y,a,r),null),a},useId:function(){var i=Rt(),r=Fe.identifierPrefix;if(Ie){var a=Rn,u=An;a=(u&~(1<<32-Vt(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=la++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=xb++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Yu,useFormState:Jh,useActionState:Jh,useOptimistic:function(i){var r=Rt();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ku.bind(null,Se,!0,a),a.dispatch=r,[i,r]},useMemoCache:qu,useCacheRefresh:function(){return Rt().memoizedState=Ib.bind(null,Se)},useEffectEvent:function(i){var r=Rt(),a={impl:i};return r.memoizedState=a,function(){if((Ue&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Wu={readContext:_t,use:ca,useCallback:sp,useContext:_t,useEffect:$u,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:rp,useReducer:da,useRef:Xh,useState:function(){return da(Hn)},useDebugValue:Fu,useDeferredValue:function(i,r){var a=st();return op(a,Ge.memoizedState,i,r)},useTransition:function(){var i=da(Hn)[0],r=st().memoizedState;return[typeof i=="boolean"?i:Hr(i),r]},useSyncExternalStore:Oh,useId:cp,useHostTransitionStatus:Yu,useFormState:Yh,useActionState:Yh,useOptimistic:function(i,r){var a=st();return Gh(a,Ge,i,r)},useMemoCache:qu,useCacheRefresh:dp};Wu.useEffectEvent=Zh;var gp={readContext:_t,use:ca,useCallback:sp,useContext:_t,useEffect:$u,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:rp,useReducer:Gu,useRef:Xh,useState:function(){return Gu(Hn)},useDebugValue:Fu,useDeferredValue:function(i,r){var a=st();return Ge===null?ju(a,i,r):op(a,Ge.memoizedState,i,r)},useTransition:function(){var i=Gu(Hn)[0],r=st().memoizedState;return[typeof i=="boolean"?i:Hr(i),r]},useSyncExternalStore:Oh,useId:cp,useHostTransitionStatus:Yu,useFormState:Wh,useActionState:Wh,useOptimistic:function(i,r){var a=st();return Ge!==null?Gh(a,Ge,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:qu,useCacheRefresh:dp};gp.useEffectEvent=Zh;function Xu(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:b({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Qu={enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Wt(),g=di(u);g.payload=r,a!=null&&(g.callback=a),r=fi(i,g,u),r!==null&&(qt(r,i,u),Pr(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Wt(),g=di(u);g.tag=1,g.payload=r,a!=null&&(g.callback=a),r=fi(i,g,u),r!==null&&(qt(r,i,u),Pr(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Wt(),u=di(a);u.tag=2,r!=null&&(u.callback=r),r=fi(i,u,a),r!==null&&(qt(r,i,a),Pr(r,i,a))}};function vp(i,r,a,u,g,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,S):r.prototype&&r.prototype.isPureReactComponent?!Rr(a,u)||!Rr(g,y):!0}function yp(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&Qu.enqueueReplaceState(r,r.state,null)}function Ki(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=b({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}function _p(i){jo(i)}function bp(i){console.error(i)}function wp(i){jo(i)}function ma(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Sp(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zu(i,r,a){return a=di(a),a.tag=3,a.payload={element:null},a.callback=function(){ma(i,r)},a}function Ep(i){return i=di(i),i.tag=3,i}function xp(i,r,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;i.payload=function(){return g(y)},i.callback=function(){Sp(r,a,u)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Sp(r,a,u),typeof g!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function kb(i,r,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Cs(r,a,g,!0),a=jt.current,a!==null){switch(a.tag){case 31:case 13:return dn===null?Aa():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===na?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),xc(i,u,g)),!1;case 22:return a.flags|=65536,u===na?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),xc(i,u,g)),!1}throw Error(s(435,a.tag))}return xc(i,u,g),Aa(),!1}if(Ie)return r=jt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==yu&&(i=Error(s(422),{cause:u}),Mr(an(i,a)))):(u!==yu&&(r=Error(s(423),{cause:u}),Mr(an(r,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=an(u,a),g=Zu(i.stateNode,u,g),Nu(i,g),tt!==4&&(tt=2)),!1;var y=Error(s(520),{cause:u});if(y=an(y,a),Wr===null?Wr=[y]:Wr.push(y),tt!==4&&(tt=2),r===null)return!0;u=an(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=Zu(a.stateNode,u,i),Nu(a,i),!1;case 1:if(r=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yi===null||!yi.has(y))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Ep(g),xp(g,i,a,u),Nu(a,g),!1}a=a.return}while(a!==null);return!1}var ec=Error(s(461)),lt=!1;function bt(i,r,a,u){r.child=i===null?Rh(r,null,a,u):Ji(r,i.child,a,u)}function Tp(i,r,a,u,g){a=a.render;var y=r.ref;if("ref"in u){var S={};for(var T in u)T!=="ref"&&(S[T]=u[T])}else S=u;return Vi(r),u=Ou(i,r,a,S,y,g),T=Pu(),i!==null&&!lt?(Lu(i,r,g),Gn(i,r,g)):(Ie&&T&&gu(r),r.flags|=1,bt(i,r,u,g),r.child)}function Cp(i,r,a,u,g){if(i===null){var y=a.type;return typeof y=="function"&&!hu(y)&&y.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=y,Ap(i,r,y,u,g)):(i=Wo(a.type,null,u,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!lc(i,g)){var S=y.memoizedProps;if(a=a.compare,a=a!==null?a:Rr,a(S,u)&&i.ref===r.ref)return Gn(i,r,g)}return r.flags|=1,i=On(y,u),i.ref=r.ref,i.return=r,r.child=i}function Ap(i,r,a,u,g){if(i!==null){var y=i.memoizedProps;if(Rr(y,u)&&i.ref===r.ref)if(lt=!1,r.pendingProps=u=y,lc(i,g))(i.flags&131072)!==0&&(lt=!0);else return r.lanes=i.lanes,Gn(i,r,g)}return tc(i,r,a,u,g)}function Rp(i,r,a,u){var g=u.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,i!==null){for(u=r.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,r.child=null;return Np(i,r,y,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ea(r,y!==null?y.cachePool:null),y!==null?Mh(r,y):Mu(),kh(r);else return u=r.lanes=536870912,Np(i,r,y!==null?y.baseLanes|a:a,a,u)}else y!==null?(ea(r,y.cachePool),Mh(r,y),pi(),r.memoizedState=null):(i!==null&&ea(r,null),Mu(),pi());return bt(i,r,g,a),r.child}function Vr(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Np(i,r,a,u,g){var y=Tu();return y=y===null?null:{parent:ot._currentValue,pool:y},r.memoizedState={baseLanes:a,cachePool:y},i!==null&&ea(r,null),Mu(),kh(r),i!==null&&Cs(i,r,u,!0),r.childLanes=g,null}function ga(i,r){return r=ya({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Ip(i,r,a){return Ji(r,i.child,null,a),i=ga(r,r.pendingProps),i.flags|=2,Jt(r),r.memoizedState=null,i}function Db(i,r,a){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ie){if(u.mode==="hidden")return i=ga(r,u),r.lanes=536870912,Vr(null,i);if(Du(r),(i=Ke)?(i=zm(i,cn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oi!==null?{id:An,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},a=hh(i),a.return=r,r.child=a,yt=r,Ke=null)):i=null,i===null)throw li(r);return r.lanes=536870912,null}return ga(r,u)}var y=i.memoizedState;if(y!==null){var S=y.dehydrated;if(Du(r),g)if(r.flags&256)r.flags&=-257,r=Ip(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(lt||Cs(i,r,a,!1),g=(a&i.childLanes)!==0,lt||g){if(u=Fe,u!==null&&(S=bf(u,a),S!==0&&S!==y.retryLane))throw y.retryLane=S,qi(i,S),qt(u,i,S),ec;Aa(),r=Ip(i,r,a)}else i=y.treeContext,Ke=fn(S.nextSibling),yt=r,Ie=!0,ai=null,cn=!1,i!==null&&gh(r,i),r=ga(r,u),r.flags|=4096;return r}return i=On(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function va(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function tc(i,r,a,u,g){return Vi(r),a=Ou(i,r,a,u,void 0,g),u=Pu(),i!==null&&!lt?(Lu(i,r,g),Gn(i,r,g)):(Ie&&u&&gu(r),r.flags|=1,bt(i,r,a,g),r.child)}function Mp(i,r,a,u,g,y){return Vi(r),r.updateQueue=null,a=Uh(r,u,a,g),Dh(i),u=Pu(),i!==null&&!lt?(Lu(i,r,y),Gn(i,r,y)):(Ie&&u&&gu(r),r.flags|=1,bt(i,r,a,y),r.child)}function kp(i,r,a,u,g){if(Vi(r),r.stateNode===null){var y=Ss,S=a.contextType;typeof S=="object"&&S!==null&&(y=_t(S)),y=new a(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Qu,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Au(r),S=a.contextType,y.context=typeof S=="object"&&S!==null?_t(S):Ss,y.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Xu(r,a,S,u),y.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Qu.enqueueReplaceState(y,y.state,null),Br(r,u,y,g),Lr(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var T=r.memoizedProps,N=Ki(a,T);y.props=N;var H=y.context,j=a.contextType;S=Ss,typeof j=="object"&&j!==null&&(S=_t(j));var K=a.getDerivedStateFromProps;j=typeof K=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,j||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||H!==S)&&yp(r,y,u,S),ci=!1;var G=r.memoizedState;y.state=G,Br(r,u,y,g),Lr(),H=r.memoizedState,T||G!==H||ci?(typeof K=="function"&&(Xu(r,a,K,u),H=r.memoizedState),(N=ci||vp(r,a,N,u,G,H,S))?(j||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),y.props=u,y.state=H,y.context=S,u=N):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Ru(i,r),S=r.memoizedProps,j=Ki(a,S),y.props=j,K=r.pendingProps,G=y.context,H=a.contextType,N=Ss,typeof H=="object"&&H!==null&&(N=_t(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==K||G!==N)&&yp(r,y,u,N),ci=!1,G=r.memoizedState,y.state=G,Br(r,u,y,g),Lr();var $=r.memoizedState;S!==K||G!==$||ci||i!==null&&i.dependencies!==null&&Qo(i.dependencies)?(typeof T=="function"&&(Xu(r,a,T,u),$=r.memoizedState),(j=ci||vp(r,a,j,u,G,$,N)||i!==null&&i.dependencies!==null&&Qo(i.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,$,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,$,N)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),y.props=u,y.state=$,y.context=N,u=j):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,va(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=Ji(r,i.child,null,g),r.child=Ji(r,null,a,g)):bt(i,r,a,g),r.memoizedState=y.state,i=r.child):i=Gn(i,r,g),i}function Dp(i,r,a,u){return Gi(),r.flags|=256,bt(i,r,a,u),r.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(i){return{baseLanes:i,cachePool:Sh()}}function sc(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Kt),i}function Up(i,r,a){var u=r.pendingProps,g=!1,y=(r.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(it.current&2)!==0),S&&(g=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ie){if(g?hi(r):pi(),(i=Ke)?(i=zm(i,cn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oi!==null?{id:An,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},a=hh(i),a.return=r,r.child=a,yt=r,Ke=null)):i=null,i===null)throw li(r);return Hc(i)?r.lanes=32:r.lanes=536870912,null}var T=u.children;return u=u.fallback,g?(pi(),g=r.mode,T=ya({mode:"hidden",children:T},g),u=Hi(u,g,a,null),T.return=r,u.return=r,T.sibling=u,r.child=T,u=r.child,u.memoizedState=ic(a),u.childLanes=sc(i,S,a),r.memoizedState=nc,Vr(null,u)):(hi(r),rc(r,T))}var N=i.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(y)r.flags&256?(hi(r),r.flags&=-257,r=oc(i,r,a)):r.memoizedState!==null?(pi(),r.child=i.child,r.flags|=128,r=null):(pi(),T=u.fallback,g=r.mode,u=ya({mode:"visible",children:u.children},g),T=Hi(T,g,a,null),T.flags|=2,u.return=r,T.return=r,u.sibling=T,r.child=u,Ji(r,i.child,null,a),u=r.child,u.memoizedState=ic(a),u.childLanes=sc(i,S,a),r.memoizedState=nc,r=Vr(null,u));else if(hi(r),Hc(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var H=S.dgst;S=H,u=Error(s(419)),u.stack="",u.digest=S,Mr({value:u,source:null,stack:null}),r=oc(i,r,a)}else if(lt||Cs(i,r,a,!1),S=(a&i.childLanes)!==0,lt||S){if(S=Fe,S!==null&&(u=bf(S,a),u!==0&&u!==N.retryLane))throw N.retryLane=u,qi(i,u),qt(S,i,u),ec;qc(T)||Aa(),r=oc(i,r,a)}else qc(T)?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,Ke=fn(T.nextSibling),yt=r,Ie=!0,ai=null,cn=!1,i!==null&&gh(r,i),r=rc(r,u.children),r.flags|=4096);return r}return g?(pi(),T=u.fallback,g=r.mode,N=i.child,H=N.sibling,u=On(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,H!==null?T=On(H,T):(T=Hi(T,g,a,null),T.flags|=2),T.return=r,u.return=r,u.sibling=T,r.child=u,Vr(null,u),u=r.child,T=i.child.memoizedState,T===null?T=ic(a):(g=T.cachePool,g!==null?(N=ot._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=Sh(),T={baseLanes:T.baseLanes|a,cachePool:g}),u.memoizedState=T,u.childLanes=sc(i,S,a),r.memoizedState=nc,Vr(i.child,u)):(hi(r),a=i.child,i=a.sibling,a=On(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(S=r.deletions,S===null?(r.deletions=[i],r.flags|=16):S.push(i)),r.child=a,r.memoizedState=null,a)}function rc(i,r){return r=ya({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ya(i,r){return i=Ft(22,i,null,r),i.lanes=0,i}function oc(i,r,a){return Ji(r,i.child,null,a),i=rc(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Op(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),wu(i.return,r,a)}function ac(i,r,a,u,g,y){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:y}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=a,S.tailMode=g,S.treeForkCount=y)}function Pp(i,r,a){var u=r.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var S=it.current,T=(S&2)!==0;if(T?(S=S&1|2,r.flags|=128):S&=1,J(it,S),bt(i,r,u,a),u=Ie?Ir:0,!T&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Op(i,a,r);else if(i.tag===19)Op(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(a=r.child,g=null;a!==null;)i=a.alternate,i!==null&&oa(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=r.child,r.child=null):(g=a.sibling,a.sibling=null),ac(r,!1,g,a,y,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&oa(i)===null){r.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}ac(r,!0,a,null,y,u);break;case"together":ac(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Gn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),vi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Cs(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=On(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=On(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function lc(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Qo(i)))}function Ub(i,r,a){switch(r.tag){case 3:he(r,r.stateNode.containerInfo),ui(r,ot,i.memoizedState.cache),Gi();break;case 27:case 5:He(r);break;case 4:he(r,r.stateNode.containerInfo);break;case 10:ui(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Du(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(hi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Up(i,r,a):(hi(r),i=Gn(i,r,a),i!==null?i.sibling:null);hi(r);break;case 19:var g=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Cs(i,r,a,!1),u=(a&r.childLanes)!==0),g){if(u)return Pp(i,r,a);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),J(it,it.current),u)break;return null;case 22:return r.lanes=0,Rp(i,r,a,r.pendingProps);case 24:ui(r,ot,i.memoizedState.cache)}return Gn(i,r,a)}function Lp(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)lt=!0;else{if(!lc(i,a)&&(r.flags&128)===0)return lt=!1,Ub(i,r,a);lt=(i.flags&131072)!==0}else lt=!1,Ie&&(r.flags&1048576)!==0&&mh(r,Ir,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Fi(r.elementType),r.type=i,typeof i=="function")hu(i)?(u=Ki(i,u),r.tag=1,r=kp(null,r,i,u,a)):(r.tag=0,r=tc(null,r,i,u,a));else{if(i!=null){var g=i.$$typeof;if(g===U){r.tag=11,r=Tp(null,r,i,u,a);break e}else if(g===F){r.tag=14,r=Cp(null,r,i,u,a);break e}}throw r=Te(i)||i,Error(s(306,r,""))}}return r;case 0:return tc(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,g=Ki(u,r.pendingProps),kp(i,r,u,g,a);case 3:e:{if(he(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;g=y.element,Ru(i,r),Br(r,u,null,a);var S=r.memoizedState;if(u=S.cache,ui(r,ot,u),u!==y.cache&&Su(r,[ot],a,!0),Lr(),u=S.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Dp(i,r,u,a);break e}else if(u!==g){g=an(Error(s(424)),r),Mr(g),r=Dp(i,r,u,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ke=fn(i.firstChild),yt=r,Ie=!0,ai=null,cn=!0,a=Rh(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gi(),u===g){r=Gn(i,r,a);break e}bt(i,r,u,a)}r=r.child}return r;case 26:return va(i,r),i===null?(a=Ym(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ie||(a=r.type,i=r.pendingProps,u=Ua(re.current).createElement(a),u[vt]=r,u[Dt]=i,wt(u,a,i),pt(u),r.stateNode=u):r.memoizedState=Ym(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return He(r),i===null&&Ie&&(u=r.stateNode=Fm(r.type,r.pendingProps,re.current),yt=r,cn=!0,g=Ke,Si(r.type)?(Gc=g,Ke=fn(u.firstChild)):Ke=g),bt(i,r,r.pendingProps.children,a),va(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ie&&((g=u=Ke)&&(u=cw(u,r.type,r.pendingProps,cn),u!==null?(r.stateNode=u,yt=r,Ke=fn(u.firstChild),cn=!1,g=!0):g=!1),g||li(r)),He(r),g=r.type,y=r.pendingProps,S=i!==null?i.memoizedProps:null,u=y.children,Pc(g,y)?u=null:S!==null&&Pc(g,S)&&(r.flags|=32),r.memoizedState!==null&&(g=Ou(i,r,Tb,null,null,a),so._currentValue=g),va(i,r),bt(i,r,u,a),r.child;case 6:return i===null&&Ie&&((i=a=Ke)&&(a=dw(a,r.pendingProps,cn),a!==null?(r.stateNode=a,yt=r,Ke=null,i=!0):i=!1),i||li(r)),null;case 13:return Up(i,r,a);case 4:return he(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ji(r,null,u,a):bt(i,r,u,a),r.child;case 11:return Tp(i,r,r.type,r.pendingProps,a);case 7:return bt(i,r,r.pendingProps,a),r.child;case 8:return bt(i,r,r.pendingProps.children,a),r.child;case 12:return bt(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ui(r,r.type,u.value),bt(i,r,u.children,a),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Vi(r),g=_t(g),u=u(g),r.flags|=1,bt(i,r,u,a),r.child;case 14:return Cp(i,r,r.type,r.pendingProps,a);case 15:return Ap(i,r,r.type,r.pendingProps,a);case 19:return Pp(i,r,a);case 31:return Db(i,r,a);case 22:return Rp(i,r,a,r.pendingProps);case 24:return Vi(r),u=_t(ot),i===null?(g=Tu(),g===null&&(g=Fe,y=Eu(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=a),g=y),r.memoizedState={parent:u,cache:g},Au(r),ui(r,ot,g)):((i.lanes&a)!==0&&(Ru(i,r),Br(r,null,null,a),Lr()),g=i.memoizedState,y=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),ui(r,ot,u)):(u=y.cache,ui(r,ot,u),u!==g.cache&&Su(r,[ot],a,!0))),bt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function zn(i){i.flags|=4}function uc(i,r,a,u,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(cm())i.flags|=8192;else throw ji=na,Cu}else i.flags&=-16777217}function Bp(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Zm(r))if(cm())i.flags|=8192;else throw ji=na,Cu}function _a(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?vf():536870912,i.lanes|=r,Bs|=r)}function $r(i,r){if(!Ie)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function We(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function Ob(i,r,a){var u=r.pendingProps;switch(vu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(r),null;case 1:return We(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Bn(ot),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ts(r)?zn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_u())),We(r),null;case 26:var g=r.type,y=r.memoizedState;return i===null?(zn(r),y!==null?(We(r),Bp(r,y)):(We(r),uc(r,g,null,u,a))):y?y!==i.memoizedState?(zn(r),We(r),Bp(r,y)):(We(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&zn(r),We(r),uc(r,g,i,u,a)),null;case 27:if(Le(r),a=re.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return We(r),null}i=Q.current,Ts(r)?vh(r):(i=Fm(g,u,a),r.stateNode=i,zn(r))}return We(r),null;case 5:if(Le(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return We(r),null}if(y=Q.current,Ts(r))vh(r);else{var S=Ua(re.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?S.createElement(g,{is:u.is}):S.createElement(g)}}y[vt]=r,y[Dt]=u;e:for(S=r.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===r)break e;for(;S.sibling===null;){if(S.return===null||S.return===r)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}r.stateNode=y;e:switch(wt(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&zn(r)}}return We(r),uc(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=re.current,Ts(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,g=yt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[vt]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Um(i.nodeValue,a)),i||li(r,!0)}else i=Ua(i).createTextNode(u),i[vt]=r,r.stateNode=i}return We(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(u=Ts(r),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[vt]=r}else Gi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;We(r),i=!1}else a=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Jt(r),r):(Jt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return We(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ts(r),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[vt]=r}else Gi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;We(r),g=!1}else g=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Jt(r),r):(Jt(r),null)}return Jt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),_a(r,r.updateQueue),We(r),null);case 4:return _e(),i===null&&Mc(r.stateNode.containerInfo),We(r),null;case 10:return Bn(r.type),We(r),null;case 19:if(B(it),u=r.memoizedState,u===null)return We(r),null;if(g=(r.flags&128)!==0,y=u.rendering,y===null)if(g)$r(u,!1);else{if(tt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=oa(i),y!==null){for(r.flags|=128,$r(u,!1),i=y.updateQueue,r.updateQueue=i,_a(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)fh(a,i),a=a.sibling;return J(it,it.current&1|2),Ie&&Pn(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&xt()>xa&&(r.flags|=128,g=!0,$r(u,!1),r.lanes=4194304)}else{if(!g)if(i=oa(y),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,_a(r,i),$r(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ie)return We(r),null}else 2*xt()-u.renderingStartTime>xa&&a!==536870912&&(r.flags|=128,g=!0,$r(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(i=u.last,i!==null?i.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=xt(),i.sibling=null,a=it.current,J(it,g?a&1|2:a&1),Ie&&Pn(r,u.treeForkCount),i):(We(r),null);case 22:case 23:return Jt(r),ku(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(We(r),r.subtreeFlags&6&&(r.flags|=8192)):We(r),a=r.updateQueue,a!==null&&_a(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&B($i),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bn(ot),We(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Pb(i,r){switch(vu(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Bn(ot),_e(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Le(r),null;case 31:if(r.memoizedState!==null){if(Jt(r),r.alternate===null)throw Error(s(340));Gi()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Jt(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Gi()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return B(it),null;case 4:return _e(),null;case 10:return Bn(r.type),null;case 22:case 23:return Jt(r),ku(),i!==null&&B($i),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Bn(ot),null;case 25:return null;default:return null}}function qp(i,r){switch(vu(r),r.tag){case 3:Bn(ot),_e();break;case 26:case 27:case 5:Le(r);break;case 4:_e();break;case 31:r.memoizedState!==null&&Jt(r);break;case 13:Jt(r);break;case 19:B(it);break;case 10:Bn(r.type);break;case 22:case 23:Jt(r),ku(),i!==null&&B($i);break;case 24:Bn(ot)}}function Fr(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&i)===i){u=void 0;var y=a.create,S=a.inst;u=y(),S.destroy=u}a=a.next}while(a!==g)}}catch(T){qe(r,r.return,T)}}function mi(i,r,a){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&i)===i){var S=u.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,g=r;var N=a,H=T;try{H()}catch(j){qe(g,N,j)}}}u=u.next}while(u!==y)}}catch(j){qe(r,r.return,j)}}function Hp(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Ih(r,a)}catch(u){qe(i,i.return,u)}}}function Gp(i,r,a){a.props=Ki(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){qe(i,r,u)}}function jr(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(g){qe(i,r,g)}}function Nn(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){qe(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){qe(i,r,g)}else a.current=null}function zp(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){qe(i,i.return,g)}}function cc(i,r,a){try{var u=i.stateNode;sw(u,i.type,a,r),u[Dt]=r}catch(g){qe(i,i.return,g)}}function Vp(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Si(i.type)||i.tag===4}function dc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Vp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Si(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fc(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dn));else if(u!==4&&(u===27&&Si(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(fc(i,r,a),i=i.sibling;i!==null;)fc(i,r,a),i=i.sibling}function ba(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&(u===27&&Si(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(ba(i,r,a),i=i.sibling;i!==null;)ba(i,r,a),i=i.sibling}function $p(i){var r=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);wt(r,u,a),r[vt]=i,r[Dt]=a}catch(y){qe(i,i.return,y)}}var Vn=!1,ut=!1,hc=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Lb(i,r){if(i=i.containerInfo,Uc=Ga,i=ih(i),ou(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var S=0,T=-1,N=-1,H=0,j=0,K=i,G=null;t:for(;;){for(var $;K!==a||g!==0&&K.nodeType!==3||(T=S+g),K!==y||u!==0&&K.nodeType!==3||(N=S+u),K.nodeType===3&&(S+=K.nodeValue.length),($=K.firstChild)!==null;)G=K,K=$;for(;;){if(K===i)break t;if(G===a&&++H===g&&(T=S),G===y&&++j===u&&(N=S),($=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=$}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Oc={focusedElem:i,selectionRange:a},Ga=!1,mt=r;mt!==null;)if(r=mt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,mt=i;else for(;mt!==null;){switch(r=mt,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)g=i[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,a=r,g=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var le=Ki(a.type,g);i=u.getSnapshotBeforeUpdate(le,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(pe){qe(a,a.return,pe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Bc(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,mt=i;break}mt=r.return}}function jp(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(i,a),u&4&&Fr(5,a);break;case 1:if(Fn(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(S){qe(a,a.return,S)}else{var g=Ki(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(S){qe(a,a.return,S)}}u&64&&Hp(a),u&512&&jr(a,a.return);break;case 3:if(Fn(i,a),u&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ih(i,r)}catch(S){qe(a,a.return,S)}}break;case 27:r===null&&u&4&&$p(a);case 26:case 5:Fn(i,a),r===null&&u&4&&zp(a),u&512&&jr(a,a.return);break;case 12:Fn(i,a);break;case 31:Fn(i,a),u&4&&Kp(i,a);break;case 13:Fn(i,a),u&4&&Wp(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=jb.bind(null,a),fw(i,a))));break;case 22:if(u=a.memoizedState!==null||Vn,!u){r=r!==null&&r.memoizedState!==null||ut,g=Vn;var y=ut;Vn=u,(ut=r)&&!y?jn(i,a,(a.subtreeFlags&8772)!==0):Fn(i,a),Vn=g,ut=y}break;case 30:break;default:Fn(i,a)}}function Jp(i){var r=i.alternate;r!==null&&(i.alternate=null,Jp(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Vl(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Xe=null,Ot=!1;function $n(i,r,a){for(a=a.child;a!==null;)Yp(i,r,a),a=a.sibling}function Yp(i,r,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Di,a)}catch{}switch(a.tag){case 26:ut||Nn(a,r),$n(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Nn(a,r);var u=Xe,g=Ot;Si(a.type)&&(Xe=a.stateNode,Ot=!1),$n(i,r,a),to(a.stateNode),Xe=u,Ot=g;break;case 5:ut||Nn(a,r);case 6:if(u=Xe,g=Ot,Xe=null,$n(i,r,a),Xe=u,Ot=g,Xe!==null)if(Ot)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(y){qe(a,r,y)}else try{Xe.removeChild(a.stateNode)}catch(y){qe(a,r,y)}break;case 18:Xe!==null&&(Ot?(i=Xe,Hm(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),js(i)):Hm(Xe,a.stateNode));break;case 4:u=Xe,g=Ot,Xe=a.stateNode.containerInfo,Ot=!0,$n(i,r,a),Xe=u,Ot=g;break;case 0:case 11:case 14:case 15:mi(2,a,r),ut||mi(4,a,r),$n(i,r,a);break;case 1:ut||(Nn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Gp(a,r,u)),$n(i,r,a);break;case 21:$n(i,r,a);break;case 22:ut=(u=ut)||a.memoizedState!==null,$n(i,r,a),ut=u;break;default:$n(i,r,a)}}function Kp(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{js(i)}catch(a){qe(r,r.return,a)}}}function Wp(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{js(i)}catch(a){qe(r,r.return,a)}}function Bb(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Fp),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Fp),r;default:throw Error(s(435,i.tag))}}function wa(i,r){var a=Bb(i);r.forEach(function(u){if(!a.has(u)){a.add(u);var g=Jb.bind(null,i,u);u.then(g,g)}})}function Pt(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],y=i,S=r,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(Si(T.type)){Xe=T.stateNode,Ot=!1;break e}break;case 5:Xe=T.stateNode,Ot=!1;break e;case 3:case 4:Xe=T.stateNode.containerInfo,Ot=!0;break e}T=T.return}if(Xe===null)throw Error(s(160));Yp(y,S,g),Xe=null,Ot=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xp(r,i),r=r.sibling}var _n=null;function Xp(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pt(r,i),Lt(i),u&4&&(mi(3,i,i.return),Fr(3,i),mi(5,i,i.return));break;case 1:Pt(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),u&64&&Vn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=_n;if(Pt(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[_r]||y[vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),wt(y,u,a),y[vt]=i,pt(y),u=y;break e;case"link":var S=Xm("link","href",g).get(u+(a.href||""));if(S){for(var T=0;T<S.length;T++)if(y=S[T],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(T,1);break t}}y=g.createElement(u),wt(y,u,a),g.head.appendChild(y);break;case"meta":if(S=Xm("meta","content",g).get(u+(a.content||""))){for(T=0;T<S.length;T++)if(y=S[T],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(T,1);break t}}y=g.createElement(u),wt(y,u,a),g.head.appendChild(y);break;default:throw Error(s(468,u))}y[vt]=i,pt(y),u=y}i.stateNode=u}else Qm(g,i.type,i.stateNode);else i.stateNode=Wm(g,u,i.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?Qm(g,i.type,i.stateNode):Wm(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&cc(i,i.memoizedProps,a.memoizedProps)}break;case 27:Pt(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),a!==null&&u&4&&cc(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Pt(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),i.flags&32){g=i.stateNode;try{ms(g,"")}catch(le){qe(i,i.return,le)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,cc(i,g,a!==null?a.memoizedProps:g)),u&1024&&(hc=!0);break;case 6:if(Pt(r,i),Lt(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(le){qe(i,i.return,le)}}break;case 3:if(La=null,g=_n,_n=Oa(r.containerInfo),Pt(r,i),_n=g,Lt(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{js(r.containerInfo)}catch(le){qe(i,i.return,le)}hc&&(hc=!1,Qp(i));break;case 4:u=_n,_n=Oa(i.stateNode.containerInfo),Pt(r,i),Lt(i),_n=u;break;case 12:Pt(r,i),Lt(i);break;case 31:Pt(r,i),Lt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wa(i,u)));break;case 13:Pt(r,i),Lt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ea=xt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wa(i,u)));break;case 22:g=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=Vn,j=ut;if(Vn=H||g,ut=j||N,Pt(r,i),ut=j,Vn=H,Lt(i),u&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(a===null||N||Vn||ut||Wi(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(y=N.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=N.stateNode;var K=N.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(le){qe(N,N.return,le)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(le){qe(N,N.return,le)}}}else if(r.tag===18){if(a===null){N=r;try{var $=N.stateNode;g?Gm($,!0):Gm(N.stateNode,!1)}catch(le){qe(N,N.return,le)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,wa(i,a))));break;case 19:Pt(r,i),Lt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wa(i,u)));break;case 30:break;case 21:break;default:Pt(r,i),Lt(i)}}function Lt(i){var r=i.flags;if(r&2){try{for(var a,u=i.return;u!==null;){if(Vp(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,y=dc(i);ba(i,y,g);break;case 5:var S=a.stateNode;a.flags&32&&(ms(S,""),a.flags&=-33);var T=dc(i);ba(i,T,S);break;case 3:case 4:var N=a.stateNode.containerInfo,H=dc(i);fc(i,H,N);break;default:throw Error(s(161))}}catch(j){qe(i,i.return,j)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Qp(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Qp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Fn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)jp(i,r.alternate,r),r=r.sibling}function Wi(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:mi(4,r,r.return),Wi(r);break;case 1:Nn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Gp(r,r.return,a),Wi(r);break;case 27:to(r.stateNode);case 26:case 5:Nn(r,r.return),Wi(r);break;case 22:r.memoizedState===null&&Wi(r);break;case 30:Wi(r);break;default:Wi(r)}i=i.sibling}}function jn(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=i,y=r,S=y.flags;switch(y.tag){case 0:case 11:case 15:jn(g,y,a),Fr(4,y);break;case 1:if(jn(g,y,a),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){qe(u,u.return,H)}if(u=y,g=u.updateQueue,g!==null){var T=u.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)Nh(N[g],T)}catch(H){qe(u,u.return,H)}}a&&S&64&&Hp(y),jr(y,y.return);break;case 27:$p(y);case 26:case 5:jn(g,y,a),a&&u===null&&S&4&&zp(y),jr(y,y.return);break;case 12:jn(g,y,a);break;case 31:jn(g,y,a),a&&S&4&&Kp(g,y);break;case 13:jn(g,y,a),a&&S&4&&Wp(g,y);break;case 22:y.memoizedState===null&&jn(g,y,a),jr(y,y.return);break;case 30:break;default:jn(g,y,a)}r=r.sibling}}function pc(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&kr(a))}function mc(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kr(i))}function bn(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zp(i,r,a,u),r=r.sibling}function Zp(i,r,a,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:bn(i,r,a,u),g&2048&&Fr(9,r);break;case 1:bn(i,r,a,u);break;case 3:bn(i,r,a,u),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kr(i)));break;case 12:if(g&2048){bn(i,r,a,u),i=r.stateNode;try{var y=r.memoizedProps,S=y.id,T=y.onPostCommit;typeof T=="function"&&T(S,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){qe(r,r.return,N)}}else bn(i,r,a,u);break;case 31:bn(i,r,a,u);break;case 13:bn(i,r,a,u);break;case 23:break;case 22:y=r.stateNode,S=r.alternate,r.memoizedState!==null?y._visibility&2?bn(i,r,a,u):Jr(i,r):y._visibility&2?bn(i,r,a,u):(y._visibility|=2,Os(i,r,a,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&pc(S,r);break;case 24:bn(i,r,a,u),g&2048&&mc(r.alternate,r);break;default:bn(i,r,a,u)}}function Os(i,r,a,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,S=r,T=a,N=u,H=S.flags;switch(S.tag){case 0:case 11:case 15:Os(y,S,T,N,g),Fr(8,S);break;case 23:break;case 22:var j=S.stateNode;S.memoizedState!==null?j._visibility&2?Os(y,S,T,N,g):Jr(y,S):(j._visibility|=2,Os(y,S,T,N,g)),g&&H&2048&&pc(S.alternate,S);break;case 24:Os(y,S,T,N,g),g&&H&2048&&mc(S.alternate,S);break;default:Os(y,S,T,N,g)}r=r.sibling}}function Jr(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,g=u.flags;switch(u.tag){case 22:Jr(a,u),g&2048&&pc(u.alternate,u);break;case 24:Jr(a,u),g&2048&&mc(u.alternate,u);break;default:Jr(a,u)}r=r.sibling}}var Yr=8192;function Ps(i,r,a){if(i.subtreeFlags&Yr)for(i=i.child;i!==null;)em(i,r,a),i=i.sibling}function em(i,r,a){switch(i.tag){case 26:Ps(i,r,a),i.flags&Yr&&i.memoizedState!==null&&xw(a,_n,i.memoizedState,i.memoizedProps);break;case 5:Ps(i,r,a);break;case 3:case 4:var u=_n;_n=Oa(i.stateNode.containerInfo),Ps(i,r,a),_n=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Yr,Yr=16777216,Ps(i,r,a),Yr=u):Ps(i,r,a));break;default:Ps(i,r,a)}}function tm(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Kr(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];mt=u,im(u,i)}tm(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nm(i),i=i.sibling}function nm(i){switch(i.tag){case 0:case 11:case 15:Kr(i),i.flags&2048&&mi(9,i,i.return);break;case 3:Kr(i);break;case 12:Kr(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Sa(i)):Kr(i);break;default:Kr(i)}}function Sa(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];mt=u,im(u,i)}tm(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:mi(8,r,r.return),Sa(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Sa(r));break;default:Sa(r)}i=i.sibling}}function im(i,r){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:mi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kr(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,mt=u;else e:for(a=i;mt!==null;){u=mt;var g=u.sibling,y=u.return;if(Jp(u),u===a){mt=null;break e}if(g!==null){g.return=y,mt=g;break e}mt=y}}}var qb={getCacheForType:function(i){var r=_t(ot),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return _t(ot).controller.signal}},Hb=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Fe=null,Ce=null,Re=0,Be=0,Yt=null,gi=!1,Ls=!1,gc=!1,Jn=0,tt=0,vi=0,Xi=0,vc=0,Kt=0,Bs=0,Wr=null,Bt=null,yc=!1,Ea=0,sm=0,xa=1/0,Ta=null,yi=null,dt=0,_i=null,qs=null,Yn=0,_c=0,bc=null,rm=null,Xr=0,wc=null;function Wt(){return(Ue&2)!==0&&Re!==0?Re&-Re:V.T!==null?Ac():wf()}function om(){if(Kt===0)if((Re&536870912)===0||Ie){var i=Do;Do<<=1,(Do&3932160)===0&&(Do=262144),Kt=i}else Kt=536870912;return i=jt.current,i!==null&&(i.flags|=32),Kt}function qt(i,r,a){(i===Fe&&(Be===2||Be===9)||i.cancelPendingCommit!==null)&&(Hs(i,0),bi(i,Re,Kt,!1)),yr(i,a),((Ue&2)===0||i!==Fe)&&(i===Fe&&((Ue&2)===0&&(Xi|=a),tt===4&&bi(i,Re,Kt,!1)),In(i))}function am(i,r,a){if((Ue&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&i.expiredLanes)===0||vr(i,r),g=u?Vb(i,r):Ec(i,r,!0),y=u;do{if(g===0){Ls&&!u&&bi(i,r,0,!1);break}else{if(a=i.current.alternate,y&&!Gb(a)){g=Ec(i,r,!1),y=!1;continue}if(g===2){if(y=r,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var T=i;g=Wr;var N=T.current.memoizedState.isDehydrated;if(N&&(Hs(T,S).flags|=256),S=Ec(T,S,!1),S!==2){if(gc&&!N){T.errorRecoveryDisabledLanes|=y,Xi|=y,g=4;break e}y=Bt,Bt=g,y!==null&&(Bt===null?Bt=y:Bt.push.apply(Bt,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){Hs(i,0),bi(i,r,0,!0);break}e:{switch(u=i,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:bi(u,r,Kt,!gi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=Ea+300-xt(),10<g)){if(bi(u,r,Kt,!gi),Oo(u,0,!0)!==0)break e;Yn=r,u.timeoutHandle=Bm(lm.bind(null,u,a,Bt,Ta,yc,r,Kt,Xi,Bs,gi,y,"Throttled",-0,0),g);break e}lm(u,a,Bt,Ta,yc,r,Kt,Xi,Bs,gi,y,null,-0,0)}}break}while(!0);In(i)}function lm(i,r,a,u,g,y,S,T,N,H,j,K,G,$){if(i.timeoutHandle=-1,K=r.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},em(r,y,K);var le=(y&62914560)===y?Ea-xt():(y&4194048)===y?sm-xt():0;if(le=Tw(K,le),le!==null){Yn=y,i.cancelPendingCommit=le(gm.bind(null,i,r,y,a,u,g,S,T,N,j,K,null,G,$)),bi(i,y,S,!H);return}}gm(i,r,y,a,u,g,S,T,N)}function Gb(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],y=g.getSnapshot;g=g.value;try{if(!$t(y(),g))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bi(i,r,a,u){r&=~vc,r&=~Xi,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var g=r;0<g;){var y=31-Vt(g),S=1<<y;u[y]=-1,g&=~S}a!==0&&yf(i,a,r)}function Ca(){return(Ue&6)===0?(Qr(0),!1):!0}function Sc(){if(Ce!==null){if(Be===0)var i=Ce.return;else i=Ce,Ln=zi=null,Bu(i),Is=null,Ur=0,i=Ce;for(;i!==null;)qp(i.alternate,i),i=i.return;Ce=null}}function Hs(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,aw(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Yn=0,Sc(),Fe=i,Ce=a=On(i.current,null),Re=r,Be=0,Yt=null,gi=!1,Ls=vr(i,r),gc=!1,Bs=Kt=vc=Xi=vi=tt=0,Bt=Wr=null,yc=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var g=31-Vt(u),y=1<<g;r|=i[g],u&=~y}return Jn=r,Jo(),a}function um(i,r){Se=null,V.H=zr,r===Ns||r===ta?(r=Th(),Be=3):r===Cu?(r=Th(),Be=4):Be=r===ec?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yt=r,Ce===null&&(tt=1,ma(i,an(r,i.current)))}function cm(){var i=jt.current;return i===null?!0:(Re&4194048)===Re?dn===null:(Re&62914560)===Re||(Re&536870912)!==0?i===dn:!1}function dm(){var i=V.H;return V.H=zr,i===null?zr:i}function fm(){var i=V.A;return V.A=qb,i}function Aa(){tt=4,gi||(Re&4194048)!==Re&&jt.current!==null||(Ls=!0),(vi&134217727)===0&&(Xi&134217727)===0||Fe===null||bi(Fe,Re,Kt,!1)}function Ec(i,r,a){var u=Ue;Ue|=2;var g=dm(),y=fm();(Fe!==i||Re!==r)&&(Ta=null,Hs(i,r)),r=!1;var S=tt;e:do try{if(Be!==0&&Ce!==null){var T=Ce,N=Yt;switch(Be){case 8:Sc(),S=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(r=!0);var H=Be;if(Be=0,Yt=null,Gs(i,T,N,H),a&&Ls){S=0;break e}break;default:H=Be,Be=0,Yt=null,Gs(i,T,N,H)}}zb(),S=tt;break}catch(j){um(i,j)}while(!0);return r&&i.shellSuspendCounter++,Ln=zi=null,Ue=u,V.H=g,V.A=y,Ce===null&&(Fe=null,Re=0,Jo()),S}function zb(){for(;Ce!==null;)hm(Ce)}function Vb(i,r){var a=Ue;Ue|=2;var u=dm(),g=fm();Fe!==i||Re!==r?(Ta=null,xa=xt()+500,Hs(i,r)):Ls=vr(i,r);e:do try{if(Be!==0&&Ce!==null){r=Ce;var y=Yt;t:switch(Be){case 1:Be=0,Yt=null,Gs(i,r,y,1);break;case 2:case 9:if(Eh(y)){Be=0,Yt=null,pm(r);break}r=function(){Be!==2&&Be!==9||Fe!==i||(Be=7),In(i)},y.then(r,r);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Eh(y)?(Be=0,Yt=null,pm(r)):(Be=0,Yt=null,Gs(i,r,y,7));break;case 5:var S=null;switch(Ce.tag){case 26:S=Ce.memoizedState;case 5:case 27:var T=Ce;if(S?Zm(S):T.stateNode.complete){Be=0,Yt=null;var N=T.sibling;if(N!==null)Ce=N;else{var H=T.return;H!==null?(Ce=H,Ra(H)):Ce=null}break t}}Be=0,Yt=null,Gs(i,r,y,5);break;case 6:Be=0,Yt=null,Gs(i,r,y,6);break;case 8:Sc(),tt=6;break e;default:throw Error(s(462))}}$b();break}catch(j){um(i,j)}while(!0);return Ln=zi=null,V.H=u,V.A=g,Ue=a,Ce!==null?0:(Fe=null,Re=0,Jo(),tt)}function $b(){for(;Ce!==null&&!Ol();)hm(Ce)}function hm(i){var r=Lp(i.alternate,i,Jn);i.memoizedProps=i.pendingProps,r===null?Ra(i):Ce=r}function pm(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Mp(a,r,r.pendingProps,r.type,void 0,Re);break;case 11:r=Mp(a,r,r.pendingProps,r.type.render,r.ref,Re);break;case 5:Bu(r);default:qp(a,r),r=Ce=fh(r,Jn),r=Lp(a,r,Jn)}i.memoizedProps=i.pendingProps,r===null?Ra(i):Ce=r}function Gs(i,r,a,u){Ln=zi=null,Bu(r),Is=null,Ur=0;var g=r.return;try{if(kb(i,g,r,a,Re)){tt=1,ma(i,an(a,i.current)),Ce=null;return}}catch(y){if(g!==null)throw Ce=g,y;tt=1,ma(i,an(a,i.current)),Ce=null;return}r.flags&32768?(Ie||u===1?i=!0:Ls||(Re&536870912)!==0?i=!1:(gi=i=!0,(u===2||u===9||u===3||u===6)&&(u=jt.current,u!==null&&u.tag===13&&(u.flags|=16384))),mm(r,i)):Ra(r)}function Ra(i){var r=i;do{if((r.flags&32768)!==0){mm(r,gi);return}i=r.return;var a=Ob(r.alternate,r,Jn);if(a!==null){Ce=a;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=i}while(r!==null);tt===0&&(tt=5)}function mm(i,r){do{var a=Pb(i.alternate,i);if(a!==null){a.flags&=32767,Ce=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Ce=i;return}Ce=i=a}while(i!==null);tt=6,Ce=null}function gm(i,r,a,u,g,y,S,T,N){i.cancelPendingCommit=null;do Na();while(dt!==0);if((Ue&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=du,E_(i,a,y,S,T,N),i===Fe&&(Ce=Fe=null,Re=0),qs=r,_i=i,Yn=a,_c=y,bc=g,rm=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Yb(ls,function(){return wm(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=V.T,V.T=null,g=Z.p,Z.p=2,S=Ue,Ue|=4;try{Lb(i,r,a)}finally{Ue=S,Z.p=g,V.T=u}}dt=1,vm(),ym(),_m()}}function vm(){if(dt===1){dt=0;var i=_i,r=qs,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var u=Z.p;Z.p=2;var g=Ue;Ue|=4;try{Xp(r,i);var y=Oc,S=ih(i.containerInfo),T=y.focusedElem,N=y.selectionRange;if(S!==T&&T&&T.ownerDocument&&nh(T.ownerDocument.documentElement,T)){if(N!==null&&ou(T)){var H=N.start,j=N.end;if(j===void 0&&(j=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(j,T.value.length);else{var K=T.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var $=G.getSelection(),le=T.textContent.length,pe=Math.min(N.start,le),Ve=N.end===void 0?pe:Math.min(N.end,le);!$.extend&&pe>Ve&&(S=Ve,Ve=pe,pe=S);var O=th(T,pe),k=th(T,Ve);if(O&&k&&($.rangeCount!==1||$.anchorNode!==O.node||$.anchorOffset!==O.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var q=K.createRange();q.setStart(O.node,O.offset),$.removeAllRanges(),pe>Ve?($.addRange(q),$.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),$.addRange(q))}}}}for(K=[],$=T;$=$.parentNode;)$.nodeType===1&&K.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Y=K[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ga=!!Uc,Oc=Uc=null}finally{Ue=g,Z.p=u,V.T=a}}i.current=r,dt=2}}function ym(){if(dt===2){dt=0;var i=_i,r=qs,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var u=Z.p;Z.p=2;var g=Ue;Ue|=4;try{jp(i,r.alternate,r)}finally{Ue=g,Z.p=u,V.T=a}}dt=3}}function _m(){if(dt===4||dt===3){dt=0,Pl();var i=_i,r=qs,a=Yn,u=rm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?dt=5:(dt=0,qs=_i=null,bm(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(yi=null),Gl(a),r=r.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Di,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=V.T,g=Z.p,Z.p=2,V.T=null;try{for(var y=i.onRecoverableError,S=0;S<u.length;S++){var T=u[S];y(T.value,{componentStack:T.stack})}}finally{V.T=r,Z.p=g}}(Yn&3)!==0&&Na(),In(i),g=i.pendingLanes,(a&261930)!==0&&(g&42)!==0?i===wc?Xr++:(Xr=0,wc=i):Xr=0,Qr(0)}}function bm(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kr(r)))}function Na(){return vm(),ym(),_m(),wm()}function wm(){if(dt!==5)return!1;var i=_i,r=_c;_c=0;var a=Gl(Yn),u=V.T,g=Z.p;try{Z.p=32>a?32:a,V.T=null,a=bc,bc=null;var y=_i,S=Yn;if(dt=0,qs=_i=null,Yn=0,(Ue&6)!==0)throw Error(s(331));var T=Ue;if(Ue|=4,nm(y.current),Zp(y,y.current,S,a),Ue=T,Qr(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Di,y)}catch{}return!0}finally{Z.p=g,V.T=u,bm(i,r)}}function Sm(i,r,a){r=an(a,r),r=Zu(i.stateNode,r,2),i=fi(i,r,2),i!==null&&(yr(i,2),In(i))}function qe(i,r,a){if(i.tag===3)Sm(i,i,a);else for(;r!==null;){if(r.tag===3){Sm(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(yi===null||!yi.has(u))){i=an(a,i),a=Ep(2),u=fi(r,a,2),u!==null&&(xp(a,u,r,i),yr(u,2),In(u));break}}r=r.return}}function xc(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new Hb;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(a)||(gc=!0,g.add(a),i=Fb.bind(null,i,r,a),r.then(i,i))}function Fb(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Fe===i&&(Re&a)===a&&(tt===4||tt===3&&(Re&62914560)===Re&&300>xt()-Ea?(Ue&2)===0&&Hs(i,0):vc|=a,Bs===Re&&(Bs=0)),In(i)}function Em(i,r){r===0&&(r=vf()),i=qi(i,r),i!==null&&(yr(i,r),In(i))}function jb(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Em(i,a)}function Jb(i,r){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Em(i,a)}function Yb(i,r){return kt(i,r)}var Ia=null,zs=null,Tc=!1,Ma=!1,Cc=!1,wi=0;function In(i){i!==zs&&i.next===null&&(zs===null?Ia=zs=i:zs=zs.next=i),Ma=!0,Tc||(Tc=!0,Wb())}function Qr(i,r){if(!Cc&&Ma){Cc=!0;do for(var a=!1,u=Ia;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var S=u.suspendedLanes,T=u.pingedLanes;y=(1<<31-Vt(42|i)+1)-1,y&=g&~(S&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Am(u,y))}else y=Re,y=Oo(u,u===Fe?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||vr(u,y)||(a=!0,Am(u,y));u=u.next}while(a);Cc=!1}}function Kb(){xm()}function xm(){Ma=Tc=!1;var i=0;wi!==0&&ow()&&(i=wi);for(var r=xt(),a=null,u=Ia;u!==null;){var g=u.next,y=Tm(u,r);y===0?(u.next=null,a===null?Ia=g:a.next=g,g===null&&(zs=a)):(a=u,(i!==0||(y&3)!==0)&&(Ma=!0)),u=g}dt!==0&&dt!==5||Qr(i),wi!==0&&(wi=0)}function Tm(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Vt(y),T=1<<S,N=g[S];N===-1?((T&a)===0||(T&u)!==0)&&(g[S]=S_(T,r)):N<=r&&(i.expiredLanes|=T),y&=~T}if(r=Fe,a=Re,a=Oo(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===r&&(Be===2||Be===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&hr(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||vr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&hr(u),Gl(a)){case 2:case 8:a=Io;break;case 32:a=ls;break;case 268435456:a=mr;break;default:a=ls}return u=Cm.bind(null,i),a=kt(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&hr(u),i.callbackPriority=2,i.callbackNode=null,2}function Cm(i,r){if(dt!==0&&dt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Na()&&i.callbackNode!==a)return null;var u=Re;return u=Oo(i,i===Fe?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(am(i,u,r),Tm(i,xt()),i.callbackNode!=null&&i.callbackNode===a?Cm.bind(null,i):null)}function Am(i,r){if(Na())return null;am(i,r,!0)}function Wb(){lw(function(){(Ue&6)!==0?kt(pr,Kb):xm()})}function Ac(){if(wi===0){var i=As;i===0&&(i=ko,ko<<=1,(ko&261888)===0&&(ko=256)),wi=i}return wi}function Rm(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qo(""+i)}function Nm(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function Xb(i,r,a,u,g){if(r==="submit"&&a&&a.stateNode===g){var y=Rm((g[Dt]||null).action),S=u.submitter;S&&(r=(r=S[Dt]||null)?Rm(r.formAction):S.getAttribute("formAction"),r!==null&&(y=r,S=null));var T=new Vo("action","action",null,u,g);i.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wi!==0){var N=S?Nm(g,S):new FormData(g);Ju(a,{pending:!0,data:N,method:g.method,action:y},null,N)}}else typeof y=="function"&&(T.preventDefault(),N=S?Nm(g,S):new FormData(g),Ju(a,{pending:!0,data:N,method:g.method,action:y},y,N))},currentTarget:g}]})}}for(var Rc=0;Rc<cu.length;Rc++){var Nc=cu[Rc],Qb=Nc.toLowerCase(),Zb=Nc[0].toUpperCase()+Nc.slice(1);yn(Qb,"on"+Zb)}yn(oh,"onAnimationEnd"),yn(ah,"onAnimationIteration"),yn(lh,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(mb,"onTransitionRun"),yn(gb,"onTransitionStart"),yn(vb,"onTransitionCancel"),yn(uh,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ew=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zr));function Im(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],g=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var S=u.length-1;0<=S;S--){var T=u[S],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=H;try{y(g)}catch(j){jo(j)}g.currentTarget=null,y=N}else for(S=0;S<u.length;S++){if(T=u[S],N=T.instance,H=T.currentTarget,T=T.listener,N!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=H;try{y(g)}catch(j){jo(j)}g.currentTarget=null,y=N}}}}function Ae(i,r){var a=r[zl];a===void 0&&(a=r[zl]=new Set);var u=i+"__bubble";a.has(u)||(Mm(r,i,2,!1),a.add(u))}function Ic(i,r,a){var u=0;r&&(u|=4),Mm(a,i,u,r)}var ka="_reactListening"+Math.random().toString(36).slice(2);function Mc(i){if(!i[ka]){i[ka]=!0,xf.forEach(function(a){a!=="selectionchange"&&(ew.has(a)||Ic(a,!1,i),Ic(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ka]||(r[ka]=!0,Ic("selectionchange",!1,r))}}function Mm(i,r,a,u){switch(og(r)){case 2:var g=Rw;break;case 8:g=Nw;break;default:g=jc}a=g.bind(null,r,a,i),g=void 0,!Xl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(r,a,{capture:!0,passive:g}):i.addEventListener(r,a,!0):g!==void 0?i.addEventListener(r,a,{passive:g}):i.addEventListener(r,a,!1)}function kc(i,r,a,u,g){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var T=u.stateNode.containerInfo;if(T===g)break;if(S===4)for(S=u.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;T!==null;){if(S=cs(T),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){u=y=S;continue e}T=T.parentNode}}u=u.return}Pf(function(){var H=y,j=Kl(a),K=[];e:{var G=ch.get(i);if(G!==void 0){var $=Vo,le=i;switch(i){case"keypress":if(Go(a)===0)break e;case"keydown":case"keyup":$=J_;break;case"focusin":le="focus",$=tu;break;case"focusout":le="blur",$=tu;break;case"beforeblur":case"afterblur":$=tu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=O_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=W_;break;case oh:case ah:case lh:$=B_;break;case uh:$=Q_;break;case"scroll":case"scrollend":$=D_;break;case"wheel":$=eb;break;case"copy":case"cut":case"paste":$=H_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Gf;break;case"toggle":case"beforetoggle":$=nb}var pe=(r&4)!==0,Ve=!pe&&(i==="scroll"||i==="scrollend"),O=pe?G!==null?G+"Capture":null:G;pe=[];for(var k=H,q;k!==null;){var Y=k;if(q=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||q===null||O===null||(Y=wr(k,O),Y!=null&&pe.push(eo(k,Y,q))),Ve)break;k=k.return}0<pe.length&&(G=new $(G,le,null,a,j),K.push({event:G,listeners:pe}))}}if((r&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",G&&a!==Yl&&(le=a.relatedTarget||a.fromElement)&&(cs(le)||le[us]))break e;if(($||G)&&(G=j.window===j?j:(G=j.ownerDocument)?G.defaultView||G.parentWindow:window,$?(le=a.relatedTarget||a.toElement,$=H,le=le?cs(le):null,le!==null&&(Ve=l(le),pe=le.tag,le!==Ve||pe!==5&&pe!==27&&pe!==6)&&(le=null)):($=null,le=H),$!==le)){if(pe=qf,Y="onMouseLeave",O="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(pe=Gf,Y="onPointerLeave",O="onPointerEnter",k="pointer"),Ve=$==null?G:br($),q=le==null?G:br(le),G=new pe(Y,k+"leave",$,a,j),G.target=Ve,G.relatedTarget=q,Y=null,cs(j)===H&&(pe=new pe(O,k+"enter",le,a,j),pe.target=q,pe.relatedTarget=Ve,Y=pe),Ve=Y,$&&le)t:{for(pe=tw,O=$,k=le,q=0,Y=O;Y;Y=pe(Y))q++;Y=0;for(var de=k;de;de=pe(de))Y++;for(;0<q-Y;)O=pe(O),q--;for(;0<Y-q;)k=pe(k),Y--;for(;q--;){if(O===k||k!==null&&O===k.alternate){pe=O;break t}O=pe(O),k=pe(k)}pe=null}else pe=null;$!==null&&km(K,G,$,pe,!1),le!==null&&Ve!==null&&km(K,Ve,le,pe,!0)}}e:{if(G=H?br(H):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Me=Kf;else if(Jf(G))if(Wf)Me=fb;else{Me=cb;var ue=ub}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Jl(H.elementType)&&(Me=Kf):Me=db;if(Me&&(Me=Me(i,H))){Yf(K,Me,a,j);break e}ue&&ue(i,G,H),i==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&jl(G,"number",G.value)}switch(ue=H?br(H):window,i){case"focusin":(Jf(ue)||ue.contentEditable==="true")&&(_s=ue,au=H,Nr=null);break;case"focusout":Nr=au=_s=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,sh(K,a,j);break;case"selectionchange":if(pb)break;case"keydown":case"keyup":sh(K,a,j)}var xe;if(iu)e:{switch(i){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ys?Ff(i,a)&&(Ne="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(zf&&a.locale!=="ko"&&(ys||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ys&&(xe=Lf()):(ri=j,Ql="value"in ri?ri.value:ri.textContent,ys=!0)),ue=Da(H,Ne),0<ue.length&&(Ne=new Hf(Ne,i,null,a,j),K.push({event:Ne,listeners:ue}),xe?Ne.data=xe:(xe=jf(a),xe!==null&&(Ne.data=xe)))),(xe=sb?rb(i,a):ob(i,a))&&(Ne=Da(H,"onBeforeInput"),0<Ne.length&&(ue=new Hf("onBeforeInput","beforeinput",null,a,j),K.push({event:ue,listeners:Ne}),ue.data=xe)),Xb(K,i,H,a,j)}Im(K,r)})}function eo(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Da(i,r){for(var a=r+"Capture",u=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=wr(i,a),g!=null&&u.unshift(eo(i,g,y)),g=wr(i,r),g!=null&&u.push(eo(i,g,y))),i.tag===3)return u;i=i.return}return[]}function tw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function km(i,r,a,u,g){for(var y=r._reactName,S=[];a!==null&&a!==u;){var T=a,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===u)break;T!==5&&T!==26&&T!==27||H===null||(N=H,g?(H=wr(a,y),H!=null&&S.unshift(eo(a,H,N))):g||(H=wr(a,y),H!=null&&S.push(eo(a,H,N)))),a=a.return}S.length!==0&&i.push({event:r,listeners:S})}var nw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function Dm(i){return(typeof i=="string"?i:""+i).replace(nw,`
`).replace(iw,"")}function Um(i,r){return r=Dm(r),Dm(i)===r}function ze(i,r,a,u,g,y){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ms(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ms(i,""+u);break;case"className":Lo(i,"class",u);break;case"tabIndex":Lo(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(i,a,u);break;case"style":Uf(i,u,y);break;case"data":if(r!=="object"){Lo(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=qo(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(r!=="input"&&ze(i,r,"name",g.name,g,null),ze(i,r,"formEncType",g.formEncType,g,null),ze(i,r,"formMethod",g.formMethod,g,null),ze(i,r,"formTarget",g.formTarget,g,null)):(ze(i,r,"encType",g.encType,g,null),ze(i,r,"method",g.method,g,null),ze(i,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=qo(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Dn);break;case"onScroll":u!=null&&Ae("scroll",i);break;case"onScrollEnd":u!=null&&Ae("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=qo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Ae("beforetoggle",i),Ae("toggle",i),Po(i,"popover",u);break;case"xlinkActuate":kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":kn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":kn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":kn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":kn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Po(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=M_.get(a)||a,Po(i,a,u))}}function Dc(i,r,a,u,g,y){switch(a){case"style":Uf(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?ms(i,u):(typeof u=="number"||typeof u=="bigint")&&ms(i,""+u);break;case"onScroll":u!=null&&Ae("scroll",i);break;case"onScrollEnd":u!=null&&Ae("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),r=a.slice(2,g?a.length-7:void 0),y=i[Dt]||null,y=y!=null?y[a]:null,typeof y=="function"&&i.removeEventListener(r,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,g);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Po(i,a,u)}}}function wt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",i),Ae("load",i);var u=!1,g=!1,y;for(y in a)if(a.hasOwnProperty(y)){var S=a[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ze(i,r,y,S,a,null)}}g&&ze(i,r,"srcSet",a.srcSet,a,null),u&&ze(i,r,"src",a.src,a,null);return;case"input":Ae("invalid",i);var T=y=S=g=null,N=null,H=null;for(u in a)if(a.hasOwnProperty(u)){var j=a[u];if(j!=null)switch(u){case"name":g=j;break;case"type":S=j;break;case"checked":N=j;break;case"defaultChecked":H=j;break;case"value":y=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:ze(i,r,u,j,a,null)}}If(i,y,T,N,H,S,g,!1);return;case"select":Ae("invalid",i),u=S=y=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":y=T;break;case"defaultValue":S=T;break;case"multiple":u=T;default:ze(i,r,g,T,a,null)}r=y,a=S,i.multiple=!!u,r!=null?ps(i,!!u,r,!1):a!=null&&ps(i,!!u,a,!0);return;case"textarea":Ae("invalid",i),y=g=u=null;for(S in a)if(a.hasOwnProperty(S)&&(T=a[S],T!=null))switch(S){case"value":u=T;break;case"defaultValue":g=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ze(i,r,S,T,a,null)}kf(i,u,g,y);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ze(i,r,N,u,a,null)}return;case"dialog":Ae("beforetoggle",i),Ae("toggle",i),Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":Ae("load",i);break;case"video":case"audio":for(u=0;u<Zr.length;u++)Ae(Zr[u],i);break;case"image":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"embed":case"source":case"link":Ae("error",i),Ae("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(u=a[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ze(i,r,H,u,a,null)}return;default:if(Jl(r)){for(j in a)a.hasOwnProperty(j)&&(u=a[j],u!==void 0&&Dc(i,r,j,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&ze(i,r,T,u,a,null))}function sw(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,T=null,N=null,H=null,j=null;for($ in a){var K=a[$];if(a.hasOwnProperty($)&&K!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=K;default:u.hasOwnProperty($)||ze(i,r,$,null,u,K)}}for(var G in u){var $=u[G];if(K=a[G],u.hasOwnProperty(G)&&($!=null||K!=null))switch(G){case"type":y=$;break;case"name":g=$;break;case"checked":H=$;break;case"defaultChecked":j=$;break;case"value":S=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==K&&ze(i,r,G,$,u,K)}}Fl(i,S,T,N,H,j,y,g);return;case"select":$=S=T=G=null;for(y in a)if(N=a[y],a.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(y)||ze(i,r,y,null,u,N)}for(g in u)if(y=u[g],N=a[g],u.hasOwnProperty(g)&&(y!=null||N!=null))switch(g){case"value":G=y;break;case"defaultValue":T=y;break;case"multiple":S=y;default:y!==N&&ze(i,r,g,y,u,N)}r=T,a=S,u=$,G!=null?ps(i,!!a,G,!1):!!u!=!!a&&(r!=null?ps(i,!!a,r,!0):ps(i,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(T in a)if(g=a[T],a.hasOwnProperty(T)&&g!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ze(i,r,T,null,u,g)}for(S in u)if(g=u[S],y=a[S],u.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":G=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&ze(i,r,S,g,u,y)}Mf(i,G,$);return;case"option":for(var le in a)if(G=a[le],a.hasOwnProperty(le)&&G!=null&&!u.hasOwnProperty(le))switch(le){case"selected":i.selected=!1;break;default:ze(i,r,le,null,u,G)}for(N in u)if(G=u[N],$=a[N],u.hasOwnProperty(N)&&G!==$&&(G!=null||$!=null))switch(N){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ze(i,r,N,G,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!u.hasOwnProperty(pe)&&ze(i,r,pe,null,u,G);for(H in u)if(G=u[H],$=a[H],u.hasOwnProperty(H)&&G!==$&&(G!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:ze(i,r,H,G,u,$)}return;default:if(Jl(r)){for(var Ve in a)G=a[Ve],a.hasOwnProperty(Ve)&&G!==void 0&&!u.hasOwnProperty(Ve)&&Dc(i,r,Ve,void 0,u,G);for(j in u)G=u[j],$=a[j],!u.hasOwnProperty(j)||G===$||G===void 0&&$===void 0||Dc(i,r,j,G,u,$);return}}for(var O in a)G=a[O],a.hasOwnProperty(O)&&G!=null&&!u.hasOwnProperty(O)&&ze(i,r,O,null,u,G);for(K in u)G=u[K],$=a[K],!u.hasOwnProperty(K)||G===$||G==null&&$==null||ze(i,r,K,G,u,$)}function Om(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rw(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],y=g.transferSize,S=g.initiatorType,T=g.duration;if(y&&T&&Om(S)){for(S=0,T=g.responseEnd,u+=1;u<a.length;u++){var N=a[u],H=N.startTime;if(H>T)break;var j=N.transferSize,K=N.initiatorType;j&&Om(K)&&(N=N.responseEnd,S+=j*(N<T?1:(T-H)/(N-H)))}if(--u,r+=8*(y+S)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Uc=null,Oc=null;function Ua(i){return i.nodeType===9?i:i.ownerDocument}function Pm(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lm(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Pc(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lc=null;function ow(){var i=window.event;return i&&i.type==="popstate"?i===Lc?!1:(Lc=i,!0):(Lc=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(i){return qm.resolve(null).then(i).catch(uw)}:Bm;function uw(i){setTimeout(function(){throw i})}function Si(i){return i==="head"}function Hm(i,r){var a=r,u=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(g),js(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")to(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,to(a);for(var y=a.firstChild;y;){var S=y.nextSibling,T=y.nodeName;y[_r]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}else a==="body"&&to(i.ownerDocument.body);a=g}while(a);js(r)}function Gm(i,r){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function Bc(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bc(a),Vl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function cw(i,r,a,u){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[_r])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=fn(i.nextSibling),i===null)break}return null}function dw(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=fn(i.nextSibling),i===null))return null;return i}function zm(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=fn(i.nextSibling),i===null))return null;return i}function qc(i){return i.data==="$?"||i.data==="$~"}function Hc(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function fw(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function fn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Gc=null;function Vm(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return fn(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function $m(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function Fm(i,r,a){switch(r=Ua(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function to(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Vl(i)}var hn=new Map,jm=new Set;function Oa(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Kn=Z.d;Z.d={f:hw,r:pw,D:mw,C:gw,L:vw,m:yw,X:bw,S:_w,M:ww};function hw(){var i=Kn.f(),r=Ca();return i||r}function pw(i){var r=ds(i);r!==null&&r.tag===5&&r.type==="form"?up(r):Kn.r(i)}var Vs=typeof document>"u"?null:document;function Jm(i,r,a){var u=Vs;if(u&&typeof r=="string"&&r){var g=rn(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),jm.has(g)||(jm.add(g),i={rel:i,crossOrigin:a,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),wt(r,"link",i),pt(r),u.head.appendChild(r)))}}function mw(i){Kn.D(i),Jm("dns-prefetch",i,null)}function gw(i,r){Kn.C(i,r),Jm("preconnect",i,r)}function vw(i,r,a){Kn.L(i,r,a);var u=Vs;if(u&&i&&r){var g='link[rel="preload"][as="'+rn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+rn(a.imageSizes)+'"]')):g+='[href="'+rn(i)+'"]';var y=g;switch(r){case"style":y=$s(i);break;case"script":y=Fs(i)}hn.has(y)||(i=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),hn.set(y,i),u.querySelector(g)!==null||r==="style"&&u.querySelector(no(y))||r==="script"&&u.querySelector(io(y))||(r=u.createElement("link"),wt(r,"link",i),pt(r),u.head.appendChild(r)))}}function yw(i,r){Kn.m(i,r);var a=Vs;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(i)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Fs(i)}if(!hn.has(y)&&(i=b({rel:"modulepreload",href:i},r),hn.set(y,i),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(io(y)))return}u=a.createElement("link"),wt(u,"link",i),pt(u),a.head.appendChild(u)}}}function _w(i,r,a){Kn.S(i,r,a);var u=Vs;if(u&&i){var g=fs(u).hoistableStyles,y=$s(i);r=r||"default";var S=g.get(y);if(!S){var T={loading:0,preload:null};if(S=u.querySelector(no(y)))T.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},a),(a=hn.get(y))&&zc(i,a);var N=S=u.createElement("link");pt(N),wt(N,"link",i),N._p=new Promise(function(H,j){N.onload=H,N.onerror=j}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pa(S,r,u)}S={type:"stylesheet",instance:S,count:1,state:T},g.set(y,S)}}}function bw(i,r){Kn.X(i,r);var a=Vs;if(a&&i){var u=fs(a).hoistableScripts,g=Fs(i),y=u.get(g);y||(y=a.querySelector(io(g)),y||(i=b({src:i,async:!0},r),(r=hn.get(g))&&Vc(i,r),y=a.createElement("script"),pt(y),wt(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function ww(i,r){Kn.M(i,r);var a=Vs;if(a&&i){var u=fs(a).hoistableScripts,g=Fs(i),y=u.get(g);y||(y=a.querySelector(io(g)),y||(i=b({src:i,async:!0,type:"module"},r),(r=hn.get(g))&&Vc(i,r),y=a.createElement("script"),pt(y),wt(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function Ym(i,r,a,u){var g=(g=re.current)?Oa(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=$s(a.href),a=fs(g).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=$s(a.href);var y=fs(g).hoistableStyles,S=y.get(i);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=g.querySelector(no(i)))&&!y._p&&(S.instance=y,S.state.loading=5),hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(i,a),y||Sw(g,i,a,S.state))),r&&u===null)throw Error(s(528,""));return S}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fs(a),a=fs(g).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function $s(i){return'href="'+rn(i)+'"'}function no(i){return'link[rel="stylesheet"]['+i+"]"}function Km(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function Sw(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),wt(r,"link",a),pt(r),i.head.appendChild(r))}function Fs(i){return'[src="'+rn(i)+'"]'}function io(i){return"script[async]"+i}function Wm(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+rn(a.href)+'"]');if(u)return r.instance=u,pt(u),u;var g=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pt(u),wt(u,"style",g),Pa(u,a.precedence,i),r.instance=u;case"stylesheet":g=$s(a.href);var y=i.querySelector(no(g));if(y)return r.state.loading|=4,r.instance=y,pt(y),y;u=Km(a),(g=hn.get(g))&&zc(u,g),y=(i.ownerDocument||i).createElement("link"),pt(y);var S=y;return S._p=new Promise(function(T,N){S.onload=T,S.onerror=N}),wt(y,"link",u),r.state.loading|=4,Pa(y,a.precedence,i),r.instance=y;case"script":return y=Fs(a.src),(g=i.querySelector(io(y)))?(r.instance=g,pt(g),g):(u=a,(g=hn.get(y))&&(u=b({},a),Vc(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),pt(g),wt(g,"link",u),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Pa(u,a.precedence,i));return r.instance}function Pa(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,S=0;S<u.length;S++){var T=u[S];if(T.dataset.precedence===r)y=T;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function zc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Vc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var La=null;function Xm(i,r,a){if(La===null){var u=new Map,g=La=new Map;g.set(a,u)}else g=La,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var y=a[g];if(!(y[_r]||y[vt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(r)||"";S=i+S;var T=u.get(S);T?T.push(y):u.set(S,[y])}}return u}function Qm(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function Ew(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zm(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function xw(i,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=$s(u.href),y=r.querySelector(no(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Ba.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=y,pt(y);return}y=r.ownerDocument||r,u=Km(u),(g=hn.get(g))&&zc(u,g),y=y.createElement("link"),pt(y);var S=y;S._p=new Promise(function(T,N){S.onload=T,S.onerror=N}),wt(y,"link",u),a.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Ba.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var $c=0;function Tw(i,r){return i.stylesheets&&i.count===0&&Ha(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&Ha(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&$c===0&&($c=62500*rw());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ha(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>$c?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Ba(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ha(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qa=null;function Ha(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qa=new Map,r.forEach(Cw,i),qa=null,Ba.call(i))}function Cw(i,r){if(!(r.state.loading&4)){var a=qa.get(i);if(a)var u=a.get(null);else{a=new Map,qa.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),u=S)}u&&a.set(null,u)}g=r.instance,S=g.getAttribute("data-precedence"),y=a.get(S)||u,y===u&&a.set(null,g),a.set(S,g),this.count++,u=Ba.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var so={$$typeof:I,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Aw(i,r,a,u,g,y,S,T,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.hiddenUpdates=ql(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function eg(i,r,a,u,g,y,S,T,N,H,j,K){return i=new Aw(i,r,a,S,N,H,j,K,T),r=1,y===!0&&(r|=24),y=Ft(3,null,null,r),i.current=y,y.stateNode=i,r=Eu(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:r},Au(y),i}function tg(i){return i?(i=Ss,i):Ss}function ng(i,r,a,u,g,y){g=tg(g),u.context===null?u.context=g:u.pendingContext=g,u=di(r),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=fi(i,u,r),a!==null&&(qt(a,i,r),Pr(a,i,r))}function ig(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Fc(i,r){ig(i,r),(i=i.alternate)&&ig(i,r)}function sg(i){if(i.tag===13||i.tag===31){var r=qi(i,67108864);r!==null&&qt(r,i,67108864),Fc(i,67108864)}}function rg(i){if(i.tag===13||i.tag===31){var r=Wt();r=Hl(r);var a=qi(i,r);a!==null&&qt(a,i,r),Fc(i,r)}}var Ga=!0;function Rw(i,r,a,u){var g=V.T;V.T=null;var y=Z.p;try{Z.p=2,jc(i,r,a,u)}finally{Z.p=y,V.T=g}}function Nw(i,r,a,u){var g=V.T;V.T=null;var y=Z.p;try{Z.p=8,jc(i,r,a,u)}finally{Z.p=y,V.T=g}}function jc(i,r,a,u){if(Ga){var g=Jc(u);if(g===null)kc(i,r,u,za,a),ag(i,u);else if(Mw(g,i,r,a,u))u.stopPropagation();else if(ag(i,u),r&4&&-1<Iw.indexOf(i)){for(;g!==null;){var y=ds(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ui(y.pendingLanes);if(S!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var N=1<<31-Vt(S);T.entanglements[1]|=N,S&=~N}In(y),(Ue&6)===0&&(xa=xt()+500,Qr(0))}}break;case 31:case 13:T=qi(y,2),T!==null&&qt(T,y,2),Ca(),Fc(y,2)}if(y=Jc(u),y===null&&kc(i,r,u,za,a),y===g)break;g=y}g!==null&&u.stopPropagation()}else kc(i,r,u,null,a)}}function Jc(i){return i=Kl(i),Yc(i)}var za=null;function Yc(i){if(za=null,i=cs(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=f(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return za=i,null}function og(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ll()){case pr:return 2;case Io:return 8;case ls:case Mo:return 32;case mr:return 268435456;default:return 32}default:return 32}}var Kc=!1,Ei=null,xi=null,Ti=null,ro=new Map,oo=new Map,Ci=[],Iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(i,r){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":ro.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(r.pointerId)}}function ao(i,r,a,u,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},r!==null&&(r=ds(r),r!==null&&sg(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function Mw(i,r,a,u,g){switch(r){case"focusin":return Ei=ao(Ei,i,r,a,u,g),!0;case"dragenter":return xi=ao(xi,i,r,a,u,g),!0;case"mouseover":return Ti=ao(Ti,i,r,a,u,g),!0;case"pointerover":var y=g.pointerId;return ro.set(y,ao(ro.get(y)||null,i,r,a,u,g)),!0;case"gotpointercapture":return y=g.pointerId,oo.set(y,ao(oo.get(y)||null,i,r,a,u,g)),!0}return!1}function lg(i){var r=cs(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Sf(i.priority,function(){rg(a)});return}}else if(r===31){if(r=f(a),r!==null){i.blockedOn=r,Sf(i.priority,function(){rg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Va(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Jc(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Yl=u,a.target.dispatchEvent(u),Yl=null}else return r=ds(a),r!==null&&sg(r),i.blockedOn=a,!1;r.shift()}return!0}function ug(i,r,a){Va(i)&&a.delete(r)}function kw(){Kc=!1,Ei!==null&&Va(Ei)&&(Ei=null),xi!==null&&Va(xi)&&(xi=null),Ti!==null&&Va(Ti)&&(Ti=null),ro.forEach(ug),oo.forEach(ug)}function $a(i,r){i.blockedOn===r&&(i.blockedOn=null,Kc||(Kc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kw)))}var Fa=null;function cg(i){Fa!==i&&(Fa=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fa===i&&(Fa=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],g=i[r+2];if(typeof u!="function"){if(Yc(u||a)===null)continue;break}var y=ds(a);y!==null&&(i.splice(r,3),r-=3,Ju(y,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function js(i){function r(N){return $a(N,i)}Ei!==null&&$a(Ei,i),xi!==null&&$a(xi,i),Ti!==null&&$a(Ti,i),ro.forEach(r),oo.forEach(r);for(var a=0;a<Ci.length;a++){var u=Ci[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ci.length&&(a=Ci[0],a.blockedOn===null);)lg(a),a.blockedOn===null&&Ci.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],y=a[u+1],S=g[Dt]||null;if(typeof y=="function")S||cg(a);else if(S){var T=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[Dt]||null)T=S.formAction;else if(Yc(g)!==null)continue}else T=S.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),cg(a)}}}function dg(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Wc(i){this._internalRoot=i}ja.prototype.render=Wc.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Wt();ng(a,u,i,r,null,null)},ja.prototype.unmount=Wc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ng(i.current,2,null,i,null,null),Ca(),r[us]=null}};function ja(i){this._internalRoot=i}ja.prototype.unstable_scheduleHydration=function(i){if(i){var r=wf();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Ci.length&&r!==0&&r<Ci[a].priority;a++);Ci.splice(a,0,i),a===0&&lg(i)}};var fg=e.version;if(fg!=="19.2.3")throw Error(s(527,fg,"19.2.3"));Z.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=h(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var Dw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{Di=Ja.inject(Dw),zt=Ja}catch{}}return uo.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",g=_p,y=bp,S=wp;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),r=eg(i,1,!1,null,null,a,u,null,g,y,S,dg),i[us]=r.current,Mc(i),new Wc(r)},uo.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,g="",y=_p,S=bp,T=wp,N=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=eg(i,1,!0,r,a??null,u,g,N,y,S,T,dg),r.context=tg(null),a=r.current,u=Wt(),u=Hl(u),g=di(u),g.callback=null,fi(a,g,u),a=u,r.current.lanes=a,yr(r,a),In(r),i[us]=r.current,Mc(i),new ja(r)},uo.version="19.2.3",uo}var Sg;function Vw(){if(Sg)return Zc.exports;Sg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zc.exports=zw(),Zc.exports}var $w=Vw();const Fw=Uy($w);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Eg="popstate";function jw(t={}){function e(o,l){let{pathname:c="/",search:f="",hash:p=""}=os(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),vd("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=o.location.href,h=p.indexOf("#");f=h===-1?p:p.slice(0,h)}return f+"#"+(typeof l=="string"?l:_o(l))}function s(o,l){en(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Yw(e,n,s,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function en(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jw(){return Math.random().toString(36).substring(2,10)}function xg(t,e){return{usr:t.state,key:t.key,idx:e}}function vd(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?os(e):e,state:n,key:e&&e.key||s||Jw()}}function _o({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function os(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Yw(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,f="POP",p=null,h=v();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let C=v(),M=C==null?null:C-h;h=C,p&&p({action:f,location:R.location,delta:M})}function w(C,M){f="PUSH";let P=vd(R.location,C,M);n&&n(P,C),h=v()+1;let I=xg(P,h),U=R.createHref(P);try{c.pushState(I,"",U)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(U)}l&&p&&p({action:f,location:R.location,delta:1})}function E(C,M){f="REPLACE";let P=vd(R.location,C,M);n&&n(P,C),h=v();let I=xg(P,h),U=R.createHref(P);c.replaceState(I,"",U),l&&p&&p({action:f,location:R.location,delta:0})}function A(C){return Kw(C)}let R={get action(){return f},get location(){return t(o,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Eg,b),p=C,()=>{o.removeEventListener(Eg,b),p=null}},createHref(C){return e(o,C)},createURL:A,encodeLocation(C){let M=A(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:E,go(C){return c.go(C)}};return R}function Kw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:_o(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Py(t,e,n="/"){return Ww(t,e,n,!1)}function Ww(t,e,n,s){let o=typeof e=="string"?os(e):e,l=Qn(o.pathname||"/",n);if(l==null)return null;let c=Ly(t);Xw(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let h=lS(l);f=oS(c[p],h,s)}return f}function Ly(t,e=[],n=[],s="",o=!1){let l=(c,f,p=o,h)=>{let v={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Ze(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Xn([s,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(Ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Ly(c.children,e,w,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:sS(b,c.index),routesMeta:w})};return t.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,f);else for(let h of By(c.path))l(c,f,!0,h)}),e}function By(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=By(s.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function Xw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Qw=/^:[\w-]+$/,Zw=3,eS=2,tS=1,nS=10,iS=-2,Tg=t=>t==="*";function sS(t,e){let n=t.split("/"),s=n.length;return n.some(Tg)&&(s+=iS),e&&(s+=eS),n.filter(o=>!Tg(o)).reduce((o,l)=>o+(Qw.test(l)?Zw:l===""?tS:nS),s)}function rS(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function oS(t,e,n=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let f=0;f<s.length;++f){let p=s[f],h=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},v),w=p.route;if(!b&&h&&n&&!s[s.length-1].route.index&&(b=cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Xn([l,b.pathname]),pathnameBase:fS(Xn([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Xn([l,b.pathnameBase]))}return c}function cl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=aS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((h,{paramName:v,isOptional:b},w)=>{if(v==="*"){let A=f[w]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const E=f[w];return b&&!E?h[v]=void 0:h[v]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function aS(t,e=!1,n=!0){en(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function lS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var qy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uS=t=>qy.test(t);function cS(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?os(t):t,l;if(n)if(uS(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),en(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Cg(n.substring(1),"/"):l=Cg(n,e)}else l=e;return{pathname:l,search:hS(s),hash:pS(o)}}function Cg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function id(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hy(t){let e=dS(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gy(t,e,n,s=!1){let o;typeof t=="string"?o=os(t):(o={...t},Ze(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}f=b>=0?e[b]:"/"}let p=cS(o,f),h=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(h||v)&&(p.pathname+="/"),p}var Xn=t=>t.join("/").replace(/\/\/+/g,"/"),fS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,mS=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function gS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function vS(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vy(t,e){let n=t;if(typeof n!="string"||!qy.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(zy)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Qn(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:o=!0}catch{en(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $y=["POST","PUT","PATCH","DELETE"];new Set($y);var yS=["GET",...$y];new Set(yS);var ur=D.createContext(null);ur.displayName="DataRouter";var Sl=D.createContext(null);Sl.displayName="DataRouterState";var _S=D.createContext(!1),Fy=D.createContext({isTransitioning:!1});Fy.displayName="ViewTransition";var bS=D.createContext(new Map);bS.displayName="Fetchers";var wS=D.createContext(null);wS.displayName="Await";var gn=D.createContext(null);gn.displayName="Navigation";var Co=D.createContext(null);Co.displayName="Location";var Mn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var Jd=D.createContext(null);Jd.displayName="RouteError";var jy="REACT_ROUTER_ERROR",SS="REDIRECT",ES="ROUTE_ERROR_RESPONSE";function xS(t){if(t.startsWith(`${jy}:${SS}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function TS(t){if(t.startsWith(`${jy}:${ES}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new mS(e.status,e.statusText,e.data)}catch{}}function CS(t,{relative:e}={}){Ze(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(gn),{hash:o,pathname:l,search:c}=Ro(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Xn([n,l])),s.createHref({pathname:f,search:c,hash:o})}function Ao(){return D.useContext(Co)!=null}function tn(){return Ze(Ao(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Co).location}var Jy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yy(t){D.useContext(gn).static||D.useLayoutEffect(t)}function Mi(){let{isDataRoute:t}=D.useContext(Mn);return t?qS():AS()}function AS(){Ze(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(ur),{basename:e,navigator:n}=D.useContext(gn),{matches:s}=D.useContext(Mn),{pathname:o}=tn(),l=JSON.stringify(Hy(s)),c=D.useRef(!1);return Yy(()=>{c.current=!0}),D.useCallback((p,h={})=>{if(en(c.current,Jy),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=Gy(p,JSON.parse(l),o,h.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xn([e,v.pathname])),(h.replace?n.replace:n.push)(v,h.state,h)},[e,n,l,o,t])}D.createContext(null);function Ky(){let{matches:t}=D.useContext(Mn),e=t[t.length-1];return e?e.params:{}}function Ro(t,{relative:e}={}){let{matches:n}=D.useContext(Mn),{pathname:s}=tn(),o=JSON.stringify(Hy(n));return D.useMemo(()=>Gy(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function RS(t,e){return Wy(t,e)}function Wy(t,e,n,s,o){var P;Ze(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(gn),{matches:c}=D.useContext(Mn),f=c[c.length-1],p=f?f.params:{},h=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let I=b&&b.path||"";Qy(h,!b||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let w=tn(),E;if(e){let I=typeof e=="string"?os(e):e;Ze(v==="/"||((P=I.pathname)==null?void 0:P.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${I.pathname}" was given in the \`location\` prop.`),E=I}else E=w;let A=E.pathname||"/",R=A;if(v!=="/"){let I=v.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=Py(t,{pathname:R});en(b||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),en(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=DS(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:Xn([v,l.encodeLocation?l.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?v:Xn([v,l.encodeLocation?l.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),c,n,s,o);return e&&M?D.createElement(Co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function NS(){let t=BS(),e=gS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,c)}var IS=D.createElement(NS,null),Xy=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=TS(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(Mn.Provider,{value:this.props.routeContext},D.createElement(Jd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(MS,{error:t},e):e}};Xy.contextType=_S;var sd=new WeakMap;function MS({children:t,error:e}){let{basename:n}=D.useContext(gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=xS(e.digest);if(s){let o=sd.get(e);if(o)throw o;let l=Vy(s.location,n);if(zy&&!sd.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw sd.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function kS({routeContext:t,match:e,children:n}){let s=D.useContext(ur);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Mn.Provider,{value:t},n)}function DS(t,e=[],n=null,s=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);Ze(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:w,errors:E}=n,A=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||A){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let h=n&&s?(v,b)=>{var w,E;s(v,{location:n.location,params:((E=(w=n.matches)==null?void 0:w[0])==null?void 0:E.params)??{},unstable_pattern:vS(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,w)=>{let E,A=!1,R=null,C=null;n&&(E=c&&b.route.id?c[b.route.id]:void 0,R=b.route.errorElement||IS,f&&(p<0&&w===0?(Qy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):p===w&&(A=!0,C=b.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,w+1)),P=()=>{let I;return E?I=R:A?I=C:b.route.Component?I=D.createElement(b.route.Component,null):b.route.element?I=b.route.element:I=v,D.createElement(kS,{match:b,routeContext:{outlet:v,matches:M,isDataRoute:n!=null},children:I})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?D.createElement(Xy,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:h}):P()},null)}function Yd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(t){let e=D.useContext(ur);return Ze(e,Yd(t)),e}function OS(t){let e=D.useContext(Sl);return Ze(e,Yd(t)),e}function PS(t){let e=D.useContext(Mn);return Ze(e,Yd(t)),e}function Kd(t){let e=PS(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LS(){return Kd("useRouteId")}function BS(){var s;let t=D.useContext(Jd),e=OS("useRouteError"),n=Kd("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function qS(){let{router:t}=US("useNavigate"),e=Kd("useNavigate"),n=D.useRef(!1);return Yy(()=>{n.current=!0}),D.useCallback(async(o,l={})=>{en(n.current,Jy),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Ag={};function Qy(t,e,n){!e&&!Ag[t]&&(Ag[t]=!0,en(!1,n))}D.memo(HS);function HS({routes:t,future:e,state:n,onError:s}){return Wy(t,void 0,n,s,e)}function Ht(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GS({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){Ze(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[f,o,l,c]);typeof n=="string"&&(n=os(n));let{pathname:h="/",search:v="",hash:b="",state:w=null,key:E="default"}=n,A=D.useMemo(()=>{let R=Qn(h,f);return R==null?null:{location:{pathname:R,search:v,hash:b,state:w,key:E},navigationType:s}},[f,h,v,b,w,E,s]);return en(A!=null,`<Router basename="${f}"> is not able to match the URL "${h}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:D.createElement(gn.Provider,{value:p},D.createElement(Co.Provider,{children:e,value:A}))}function Zy({children:t,location:e}){return RS(yd(t),e)}function yd(t,e=[]){let n=[];return D.Children.forEach(t,(s,o)=>{if(!D.isValidElement(s))return;let l=[...e,o];if(s.type===D.Fragment){n.push.apply(n,yd(s.props.children,l));return}Ze(s.type===Ht,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=yd(s.props.children,l)),n.push(c)}),n}var ol="get",al="application/x-www-form-urlencoded";function El(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function zS(t){return El(t)&&t.tagName.toLowerCase()==="button"}function VS(t){return El(t)&&t.tagName.toLowerCase()==="form"}function $S(t){return El(t)&&t.tagName.toLowerCase()==="input"}function FS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jS(t,e){return t.button===0&&(!e||e==="_self")&&!FS(t)}function _d(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function JS(t,e){let n=_d(t);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var Ya=null;function YS(){if(Ya===null)try{new FormData(document.createElement("form"),0),Ya=!1}catch{Ya=!0}return Ya}var KS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(t){return t!=null&&!KS.has(t)?(en(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${al}"`),null):t}function WS(t,e){let n,s,o,l,c;if(VS(t)){let f=t.getAttribute("action");s=f?Qn(f,e):null,n=t.getAttribute("method")||ol,o=rd(t.getAttribute("enctype"))||al,l=new FormData(t)}else if(zS(t)||$S(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?Qn(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||ol,o=rd(t.getAttribute("formenctype"))||rd(f.getAttribute("enctype"))||al,l=new FormData(f,t),!YS()){let{name:h,type:v,value:b}=t;if(v==="image"){let w=h?`${h}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else h&&l.append(h,b)}}else{if(El(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ol,s=null,o=al,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XS(t,e,n,s){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Qn(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function QS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eE(t,e,n){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await QS(l,n);return c.links?c.links():[]}return[]}));return sE(s.flat(1).filter(ZS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Rg(t,e,n,s,o,l){let c=(p,h)=>n[h]?p.route.id!==n[h].route.id:!0,f=(p,h)=>{var v;return n[h].pathname!==p.pathname||((v=n[h].route.path)==null?void 0:v.endsWith("*"))&&n[h].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,h)=>c(p,h)||f(p,h)):l==="data"?e.filter((p,h)=>{var b;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function tE(t,e,{includeHydrateFallback:n}={}){return nE(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function nE(t){return[...new Set(t)]}function iE(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function sE(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(iE(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function e0(){let t=D.useContext(ur);return Wd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rE(){let t=D.useContext(Sl);return Wd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xd=D.createContext(void 0);Xd.displayName="FrameworkContext";function t0(){let t=D.useContext(Xd);return Wd(t,"You must render this element inside a <HydratedRouter> element"),t}function oE(t,e){let n=D.useContext(Xd),[s,o]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:v,onTouchStart:b}=e,w=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=M=>{M.forEach(P=>{c(P.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[t]),D.useEffect(()=>{if(s){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[s]);let E=()=>{o(!0)},A=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:co(f,E),onBlur:co(p,A),onMouseEnter:co(h,E),onMouseLeave:co(v,A),onTouchStart:co(b,E)}]:[!1,w,{}]}function co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aE({page:t,...e}){let{router:n}=e0(),s=D.useMemo(()=>Py(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(uE,{page:t,matches:s,...e}):null}function lE(t){let{manifest:e,routeModules:n}=t0(),[s,o]=D.useState([]);return D.useEffect(()=>{let l=!1;return eE(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),s}function uE({page:t,matches:e,...n}){let s=tn(),{future:o,manifest:l,routeModules:c}=t0(),{basename:f}=e0(),{loaderData:p,matches:h}=rE(),v=D.useMemo(()=>Rg(t,e,h,l,s,"data"),[t,e,h,l,s]),b=D.useMemo(()=>Rg(t,e,h,l,s,"assets"),[t,e,h,l,s]),w=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let R=new Set,C=!1;if(e.forEach(P=>{var U;let I=l.routes[P.route.id];!I||!I.hasLoader||(!v.some(W=>W.route.id===P.route.id)&&P.route.id in p&&((U=c[P.route.id])!=null&&U.shouldRevalidate)||I.hasClientLoader?C=!0:R.add(P.route.id))}),R.size===0)return[];let M=XS(t,f,o.unstable_trailingSlashAwareDataRequests,"data");return C&&R.size>0&&M.searchParams.set("_routes",e.filter(P=>R.has(P.route.id)).map(P=>P.route.id).join(",")),[M.pathname+M.search]},[f,o.unstable_trailingSlashAwareDataRequests,p,s,l,v,e,t,c]),E=D.useMemo(()=>tE(b,l),[b,l]),A=lE(b);return D.createElement(D.Fragment,null,w.map(R=>D.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),E.map(R=>D.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),A.map(({key:R,link:C})=>D.createElement("link",{key:R,nonce:n.nonce,...C})))}function cE(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dE&&(window.__reactRouterVersion="7.12.0")}catch{}function fE({basename:t,children:e,unstable_useTransitions:n,window:s}){let o=D.useRef();o.current==null&&(o.current=jw({window:s,v5Compat:!0}));let l=o.current,[c,f]=D.useState({action:l.action,location:l.location}),p=D.useCallback(h=>{n===!1?f(h):D.startTransition(()=>f(h))},[n]);return D.useLayoutEffect(()=>l.listen(p),[l,p]),D.createElement(GS,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var n0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:f,target:p,to:h,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},A){let{basename:R,unstable_useTransitions:C}=D.useContext(gn),M=typeof h=="string"&&n0.test(h),P=Vy(h,R);h=P.to;let I=CS(h,{relative:o}),[U,W,X]=oE(s,E),F=gE(h,{replace:c,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:C});function ae(te){e&&e(te),te.defaultPrevented||F(te)}let z=D.createElement("a",{...E,...X,href:P.absoluteURL||I,onClick:P.isExternal||l?e:ae,ref:cE(A,W),target:p,"data-discover":!M&&n==="render"?"true":void 0});return U&&!M?D.createElement(D.Fragment,null,z,D.createElement(aE,{page:I})):z});$e.displayName="Link";var hE=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:f,children:p,...h},v){let b=Ro(c,{relative:h.relative}),w=tn(),E=D.useContext(Sl),{navigator:A,basename:R}=D.useContext(gn),C=E!=null&&SE(b)&&f===!0,M=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,P=w.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(P=P.toLowerCase(),I=I?I.toLowerCase():null,M=M.toLowerCase()),I&&R&&(I=Qn(I,R)||I);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let W=P===M||!o&&P.startsWith(M)&&P.charAt(U)==="/",X=I!=null&&(I===M||!o&&I.startsWith(M)&&I.charAt(M.length)==="/"),F={isActive:W,isPending:X,isTransitioning:C},ae=W?e:void 0,z;typeof s=="function"?z=s(F):z=[s,W?"active":null,X?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let te=typeof l=="function"?l(F):l;return D.createElement($e,{...h,"aria-current":ae,className:z,ref:v,style:te,to:c,viewTransition:f},typeof p=="function"?p(F):p)});hE.displayName="NavLink";var pE=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=ol,action:f,onSubmit:p,relative:h,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},A)=>{let{unstable_useTransitions:R}=D.useContext(gn),C=bE(),M=wE(f,{relative:h}),P=c.toLowerCase()==="get"?"get":"post",I=typeof f=="string"&&n0.test(f),U=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let X=W.nativeEvent.submitter,F=(X==null?void 0:X.getAttribute("formmethod"))||c,ae=()=>C(X||W.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:o,state:l,relative:h,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});R&&n!==!1?D.startTransition(()=>ae()):ae()};return D.createElement("form",{ref:A,method:P,action:M,onSubmit:s?p:U,...E,"data-discover":!I&&t==="render"?"true":void 0})});pE.displayName="Form";function mE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(t){let e=D.useContext(ur);return Ze(e,mE(t)),e}function gE(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let h=Mi(),v=tn(),b=Ro(t,{relative:l});return D.useCallback(w=>{if(jS(w,e)){w.preventDefault();let E=n!==void 0?n:_o(v)===_o(b),A=()=>h(t,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});p?D.startTransition(()=>A()):A()}},[v,h,b,n,s,e,t,o,l,c,f,p])}function vE(t){en(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(_d(t)),n=D.useRef(!1),s=tn(),o=D.useMemo(()=>JS(s.search,n.current?null:e.current),[s.search]),l=Mi(),c=D.useCallback((f,p)=>{const h=_d(typeof f=="function"?f(new URLSearchParams(o)):f);n.current=!0,l("?"+h,p)},[l,o]);return[o,c]}var yE=0,_E=()=>`__${String(++yE)}__`;function bE(){let{router:t}=i0("useSubmit"),{basename:e}=D.useContext(gn),n=LS(),s=t.fetch,o=t.navigate;return D.useCallback(async(l,c={})=>{let{action:f,method:p,encType:h,formData:v,body:b}=WS(l,e);if(c.navigate===!1){let w=c.fetcherKey||_E();await s(w,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||h,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||p,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function wE(t,{relative:e}={}){let{basename:n}=D.useContext(gn),s=D.useContext(Mn);Ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ro(t||".",{relative:e})},c=tn();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Xn([n,l.pathname])),_o(l)}function SE(t,{relative:e}={}){let n=D.useContext(Fy);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i0("useViewTransitionState"),o=Ro(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qn(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Qn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return cl(o.pathname,c)!=null||cl(o.pathname,l)!=null}var ee=(t=>(t.AR="ar",t.EN="en",t))(ee||{}),rs=(t=>(t.PENDING=" ",t.ACCEPTED="",t.DELIVERING=" ",t.DELIVERED=" ",t.REJECTED="",t))(rs||{});const EE="+962798739259",go=3,Qd=["","  ","  ","  (Denim Suits)","  ","  ",""," "," "," "," - Blazer Jacket","","",""," "," "," "," ",""," ",""," ",""," - Kimono"],Ng=["","","","","","","","","","","",""],Ig={[ee.AR]:{marquee:"   TaliaMode7 |      |       |         |     |  : 0798739259",heroTitle:"Luxury Collection 2026",heroSubtitle:"  ",heroDesc:"        .       .",shopNow:" ",viewOffers:" ",newArrivals:"  ",bestSellers:"  ",topRated:"  ",allProducts:" ",cart:" ",wishlist:"",checkout:" ",addToCart:" ",buyNow:" ",outOfStock:" ",size:"",total:"",deliveryFee:" ",grandTotal:" ",fullName:" ",phone:" ",city:"",address:" ",confirmOrder:" ",searchPlaceholder:"  ...",couponCode:" ",apply:"",categoriesLabel:"",itemsAvailable:" ",orderSummary:" ",discount:"",secureCheckout:"    .",orderContent:" ",additionalNotes:"  ()",sizeGuide:" ",loading:" ...",backToHome:"",emptyWishlist:"   .",categories:{all:" ",:"","  ":"  ","  ":"  ","  (Denim Suits)":" ","  ":" ","  ":" ",:""," ":" "," ":" "," ":" "," - Blazer Jacket":"",:"",:"",:""," ":" "," ":" "," ":" "," ":" ",:""," ":" ",:""," ":" ",:""," - Kimono":""}},[ee.EN]:{marquee:"Welcome to TaliaMode7 | Inspection available before representative leaves | Premium Turkish Brands Specialist | No exchange or return after delivery | Cash on Delivery only | Contact: 0798739259",heroTitle:"Luxury Collection 2026",heroSubtitle:"Elegance That Speaks For You",heroDesc:"Discover the latest carefully selected Turkish fashion trends. Unique pieces that give you the confidence and luxury you deserve.",shopNow:"Shop Now",viewOffers:"View Offers",newArrivals:"New Arrivals ",bestSellers:"Best Sellers ",topRated:"Top Rated ",allProducts:"All Products",cart:"Shopping Cart",wishlist:"Wishlist",checkout:"Checkout",addToCart:"Add to Cart",buyNow:"Buy Now",outOfStock:"Out of Stock",size:"Size",total:"Total",deliveryFee:"Delivery Fee",grandTotal:"Grand Total",fullName:"Full Name",phone:"Phone Number",city:"City",address:"Detailed Address",confirmOrder:"Confirm Order",searchPlaceholder:"Search for your elegance...",couponCode:"Coupon Code",apply:"Apply",categoriesLabel:"Categories",itemsAvailable:"items available",orderSummary:"Order Summary",discount:"Discount",secureCheckout:"Secure checkout. Cash on Delivery only.",orderContent:"Order Items",additionalNotes:"Additional Notes (Optional)",sizeGuide:"Size Guide",loading:"Loading...",backToHome:"Home",emptyWishlist:"Your wishlist is currently empty.",categories:{all:"All Products",:"New In","  ":"Best Sellers","  ":"Top Rated","  (Denim Suits)":"Denim Suits","  ":"Formal Suits","  ":"Casual Suits",:"Pants"," ":"Jeans"," ":"Fabric Pants"," ":"Tops & Hoodies"," - Blazer Jacket":"Blazers",:"Trench Coats",:"Skirts",:"Jackets"," ":"Leather Jackets"," ":"Wool Jackets"," ":"Denim Jackets"," ":"Knitwear",:"Scarves"," ":"Bags & Accessories",:"Dresses"," ":"Basic Pieces",:"Shirts"," - Kimono":"Kimono"}}},xE="https://res.cloudinary.com/de9xnhjn1/video/upload/q_auto:good,f_auto/v1/IMG_2353_vbb9pg.mp4",TE="https://res.cloudinary.com/de9xnhjn1/video/upload/q_auto,f_auto,so_0/v1/IMG_2353_vbb9pg.jpg",CE=()=>{const{t}=Mt(),e=D.useRef(null);return D.useEffect(()=>{e.current&&e.current.play().catch(n=>{console.log("Video autoplay prevented by browser:",n)})},[]),_.jsxs("section",{className:"relative h-[85vh] w-full overflow-hidden flex items-center justify-center text-center",children:[_.jsxs("div",{className:"absolute inset-0 z-0",children:[_.jsx("video",{ref:e,src:xE,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",poster:TE,className:"w-full h-full object-cover",children:"Your browser does not support the video tag."}),_.jsx("div",{className:"absolute inset-0 bg-pearl/10"})]}),_.jsxs("div",{className:"relative z-10 container mx-auto px-4 flex flex-col items-center gap-6",children:[_.jsx("div",{className:"opacity-0 animate-[fadeIn_1s_ease-out_forwards]",children:_.jsx("span",{className:"font-englishContent text-sm md:text-lg font-bold tracking-[0.3em] uppercase text-gold drop-shadow-md",children:t.heroTitle})}),_.jsx("div",{className:"opacity-0 animate-[fadeInUp_1s_ease-out_0.3s_forwards]",children:_.jsx("h1",{className:"font-englishTitle text-4xl md:text-6xl font-bold text-taliaBlack leading-snug drop-shadow-lg max-w-5xl",children:t.heroSubtitle})}),_.jsx("div",{className:"opacity-0 animate-[fadeInUp_1s_ease-out_0.6s_forwards] max-w-2xl",children:_.jsx("p",{className:"text-sm md:text-base font-bold text-taliaBlack leading-relaxed tracking-wide drop-shadow-md",children:t.heroDesc})}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8 opacity-0 animate-[fadeInUp_1s_ease-out_0.9s_forwards]",children:[_.jsx($e,{to:"/products",className:"bg-blush text-white px-10 py-4 text-xs font-bold tracking-[0.2em] uppercase hover:bg-taliaBlack transition-colors duration-300 shadow-xl",children:t.shopNow}),_.jsx($e,{to:"/category/  ",className:"bg-white/80 backdrop-blur-sm text-taliaBlack px-10 py-4 text-xs font-bold tracking-[0.2em] uppercase hover:bg-white transition-colors duration-300 shadow-xl border border-white",children:t.viewOffers})]})]})]})},dl=({product:t})=>{const{t:e,language:n}=Mt(),[s,o]=D.useState(!1),l=t.sizes.every(p=>p.quantity===0),c=n===ee.AR?"":"JOD";D.useEffect(()=>{const p=JSON.parse(localStorage.getItem("talia_likes")||"[]");o(p.includes(t.id))},[t.id]);const f=p=>{p.preventDefault(),p.stopPropagation();const h=JSON.parse(localStorage.getItem("talia_likes")||"[]");let v;s?v=h.filter(b=>b!==t.id):v=[...h,t.id],localStorage.setItem("talia_likes",JSON.stringify(v)),o(!s),window.dispatchEvent(new Event("wishlistUpdate"))};return _.jsxs("div",{className:"group bg-white border border-gold/10 overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 relative rounded-2xl h-full flex flex-col",children:[_.jsx($e,{to:`/product/${t.id}`,className:"relative block flex-grow",children:_.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[_.jsx("img",{src:t.images[0]||"https://picsum.photos/400/533",alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000 ease-in-out",loading:"lazy"}),_.jsx("button",{onClick:f,className:`absolute top-3 right-3 md:top-4 md:right-4 z-20 p-2 md:p-2.5 rounded-full backdrop-blur-md transition-all duration-300 ${s?"bg-blush text-white scale-110 shadow-lg":"bg-white/70 text-gray-400 hover:text-blush hover:bg-white"}`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 md:h-4 md:w-4",fill:s?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),t.is_new&&_.jsx("span",{className:"absolute top-3 left-3 md:top-4 md:left-4 bg-blush text-white text-[8px] md:text-[9px] font-bold px-2 py-1 md:px-3 md:py-1.5 uppercase tracking-widest shadow-lg rounded-sm",children:n===ee.AR?" ":"New "}),l&&_.jsx("div",{className:"absolute inset-0 bg-pearl/60 backdrop-blur-[2px] flex items-center justify-center",children:_.jsx("span",{className:"bg-taliaBlack text-white text-[10px] font-bold px-5 py-2.5 uppercase tracking-widest",children:e.outOfStock})}),_.jsx("div",{className:"absolute inset-x-0 bottom-0 p-4 md:p-6 translate-y-full group-hover:translate-y-0 transition-transform duration-500 bg-gradient-to-t from-taliaBlack/80 to-transparent flex justify-center hidden md:flex",children:_.jsx("button",{className:"bg-white text-taliaBlack text-[10px] font-bold py-3 px-8 uppercase tracking-[0.2em] hover:bg-gold hover:text-white transition-all shadow-xl",children:e.shopNow})})]})}),_.jsxs("div",{className:"p-3 md:p-5 text-center bg-white flex flex-col justify-end flex-grow-0",children:[_.jsx("h3",{className:`text-xs font-bold mb-2 truncate text-gray-800 group-hover:text-blush transition-colors tracking-wide ${n===ee.EN?"font-englishContent":""}`,children:t.name}),_.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-3 flex-wrap",children:[_.jsxs("span",{className:"text-blush font-bold text-sm",children:[t.price," ",c]}),t.old_price&&_.jsxs("span",{className:"text-gray-300 text-[10px] md:text-[11px] line-through decoration-red-400/30",children:[t.old_price," ",c]})]})]})]})};function xl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function AE(t,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(v){try{h(s.next(v))}catch(b){c(b)}}function p(v){try{h(s.throw(v))}catch(b){c(b)}}function h(v){v.done?l(v.value):o(v.value).then(f,p)}h((s=s.apply(t,e||[])).next())})}const RE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Zd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class NE extends Zd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mg extends Zd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kg extends Zd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bd||(bd={}));class IE{constructor(e,{headers:n={},customFetch:s,region:o=bd.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=RE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return AE(this,arguments,void 0,function*(n,s={}){var o;let l,c;try{const{headers:f,method:p,body:h,signal:v,timeout:b}=s;let w={},{region:E}=s;E||(E=this.region);const A=new URL(`${this.url}/${n}`);E&&E!=="any"&&(w["x-region"]=E,A.searchParams.set("forceFunctionRegion",E));let R;h&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",R=h):typeof h=="string"?(w["Content-Type"]="text/plain",R=h):typeof FormData<"u"&&h instanceof FormData?R=h:(w["Content-Type"]="application/json",R=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?R=JSON.stringify(h):R=h;let C=v;b&&(c=new AbortController,l=setTimeout(()=>c.abort(),b),v?(C=c.signal,v.addEventListener("abort",()=>c.abort())):C=c.signal);const M=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:R,signal:C}).catch(W=>{throw new NE(W)}),P=M.headers.get("x-relay-error");if(P&&P==="true")throw new Mg(M);if(!M.ok)throw new kg(M);let I=((o=M.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),U;return I==="application/json"?U=yield M.json():I==="application/octet-stream"||I==="application/pdf"?U=yield M.blob():I==="text/event-stream"?U=M:I==="multipart/form-data"?U=yield M.formData():U=yield M.text(),{data:U,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof kg||f instanceof Mg?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var ME=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},kE=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,f=null,p=null,h=l.status,v=l.statusText;if(l.ok){var b,w;if(n.method!=="HEAD"){var E;const M=await l.text();M===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((E=n.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=M:f=JSON.parse(M))}const R=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),C=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&C&&C.length>1&&(p=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,h=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var A;const R=await l.text();try{c=JSON.parse(R),Array.isArray(c)&&l.status===404&&(f=[],c=null,h=200,v="OK")}catch{l.status===404&&R===""?(h=204,v="No Content"):c={message:R}}if(c&&n.isMaybeSingle&&(!(c==null||(A=c.details)===null||A===void 0)&&A.includes("0 rows"))&&(c=null,h=200,v="OK"),c&&n.shouldThrowOnError)throw new ME(c)}return{error:c,data:f,count:p,status:h,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let f="";const p=l==null?void 0:l.cause;if(p){var h,v,b,w;const A=(h=p==null?void 0:p.message)!==null&&h!==void 0?h:"",R=(v=p==null?void 0:p.code)!==null&&v!==void 0?v:"";f=`${(b=l==null?void 0:l.name)!==null&&b!==void 0?b:"FetchError"}: ${l==null?void 0:l.message}`,f+=`

Caused by: ${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"Error"}: ${A}`,R&&(f+=` (${R})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var E;f=(E=l==null?void 0:l.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},DE=class extends kE{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var c;const f=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Dg=new RegExp("[,()]");var Zs=class extends DE{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Dg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Dg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},UE=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",c),s&&p.append("Prefer",`count=${s}`),new Zs({method:o,url:f,headers:p,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);l.searchParams.set("columns",p.join(","))}}return new Zs({method:o,url:l,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const c="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),s&&p.append("Prefer",`count=${s}`),o||p.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(h.length>0){const v=[...new Set(h)].map(b=>`"${b}"`);f.searchParams.set("columns",v.join(","))}}return new Zs({method:c,url:f,headers:p,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Zs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Zs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},OE=class s0{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new UE(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var c;let f;const p=new URL(`${this.url}/rpc/${e}`);let h;const v=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(v)),b=s&&Object.values(n).some(v);b?(f="POST",h=n):s||o?(f=s?"HEAD":"GET",Object.entries(n).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{p.searchParams.append(E,A)})):(f="POST",h=n);const w=new Headers(this.headers);return b?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new Zs({method:f,url:p,headers:w,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class PE{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const LE="2.90.1",BE=`realtime-js/${LE}`,r0="1.0.0",qE="2.0.0",Ug=r0,wd=1e4,HE=1e3,GE=100;var Ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ri||(Ri={}));var ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ft||(ft={}));var En;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(En||(En={}));var Sd;(function(t){t.websocket="websocket"})(Sd||(Sd={}));var ns;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ns||(ns={}));class zE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,s){var o,l;const c=e.topic,f=(o=e.ref)!==null&&o!==void 0?o:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",h=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+h.length+b.length,E=new ArrayBuffer(this.HEADER_LENGTH+w);let A=new DataView(E),R=0;A.setUint8(R++,this.KINDS.userBroadcastPush),A.setUint8(R++,p.length),A.setUint8(R++,f.length),A.setUint8(R++,c.length),A.setUint8(R++,h.length),A.setUint8(R++,b.length),A.setUint8(R++,n),Array.from(p,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(f,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(c,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(h,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(b,M=>A.setUint8(R++,M.charCodeAt(0)));var C=new Uint8Array(E.byteLength+s.byteLength);return C.set(new Uint8Array(E),0),C.set(new Uint8Array(s),E.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,c,f,p]=s;return n({join_ref:o,ref:l,topic:c,event:f,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const h=s.decode(e.slice(p,p+o));p=p+o;const v=s.decode(e.slice(p,p+l));p=p+l;const b=s.decode(e.slice(p,p+c));p=p+c;const w=e.slice(p,e.byteLength),E=f===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,A={type:this.BROADCAST_EVENT,event:v,payload:E};return c>0&&(A.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class o0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Je||(Je={}));const Og=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=VE(c,t,e,o),l),{}):{}},VE=(t,e,n,s)=>{const o=e.find(f=>f.name===t),l=o==null?void 0:o.type,c=n[t];return l&&!s.includes(l)?a0(l,c):Ed(c)},a0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return JE(e,n)}switch(t){case Je.bool:return $E(e);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return FE(e);case Je.json:case Je.jsonb:return jE(e);case Je.timestamp:return YE(e);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Ed(e);default:return Ed(e)}},Ed=t=>t,$E=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},FE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},JE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>a0(e,f))}return t},YE=t=>typeof t=="string"?t.replace(" ","T"):t,l0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class od{constructor(e,n,s={},o=wd){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pg||(Pg={}));class vo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vo.syncState(this.state,o,l,c),this.pendingDiffs.forEach(p=>{this.state=vo.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=vo.syncDiff(this.state,o,l,c),f())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),c=this.transformState(n),f={},p={};return this.map(l,(h,v)=>{c[h]||(p[h]=v)}),this.map(c,(h,v)=>{const b=l[h];if(b){const w=v.map(C=>C.presence_ref),E=b.map(C=>C.presence_ref),A=v.filter(C=>E.indexOf(C.presence_ref)<0),R=b.filter(C=>w.indexOf(C.presence_ref)<0);A.length>0&&(f[h]=A),R.length>0&&(p[h]=R)}else f[h]=v}),this.syncDiff(l,{joins:f,leaves:p},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(f,p)=>{var h;const v=(h=e[f])!==null&&h!==void 0?h:[];if(e[f]=this.cloneDeep(p),v.length>0){const b=e[f].map(E=>E.presence_ref),w=v.filter(E=>b.indexOf(E.presence_ref)<0);e[f].unshift(...w)}s(f,v,p)}),this.map(c,(f,p)=>{let h=e[f];if(!h)return;const v=p.map(b=>b.presence_ref);h=h.filter(b=>v.indexOf(b.presence_ref)<0),e[f]=h,o(f,h,p),h.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Lg||(Lg={}));var yo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yo||(yo={}));var Wn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wn||(Wn={}));class ir{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,En.join,this.params,this.timeout),this.rejoinTimer=new o0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new vo(this),this.broadcastEndpointURL=l0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,h=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[yo.PRESENCE]&&this.bindings[yo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},w={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(Wn.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(Wn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e==null||e(Wn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,C=(A=R==null?void 0:R.length)!==null&&A!==void 0?A:0,M=[];for(let P=0;P<C;P++){const I=R[P],{filter:{event:U,schema:W,table:X,filter:F}}=I,ae=E&&E[P];if(ae&&ae.event===U&&ir.isFilterValueEqual(ae.schema,W)&&ir.isFilterValueEqual(ae.table,X)&&ir.isFilterValueEqual(ae.filter,F))M.push(Object.assign(Object.assign({},I),{id:ae.id}));else{this.unsubscribe(),this.state=ft.errored,e==null||e(Wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(Wn.SUBSCRIBED);return}}).receive("error",E=>{this.state=ft.errored,e==null||e(Wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ft.joined&&e===yo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const h=await f.json();p=h.error||h.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,p;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new od(this,En.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new od(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>GE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const c=e.toLocaleLowerCase(),{close:f,error:p,leave:h,join:v}=En;if(s&&[f,p,h,v].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var A,R,C;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(R=E.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(E=>E.callback(w,s)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var A,R,C,M,P,I,U,W;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const X=E.id,F=(A=E.filter)===null||A===void 0?void 0:A.event;return X&&((R=n.ids)===null||R===void 0?void 0:R.includes(X))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!((M=E.filter)===null||M===void 0)&&M.table)||E.filter.table===((P=n.data)===null||P===void 0?void 0:P.table))}else{const X=(U=(I=E==null?void 0:E.filter)===null||I===void 0?void 0:I.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return X==="*"||X===((W=n==null?void 0:n.event)===null||W===void 0?void 0:W.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:R,table:C,commit_timestamp:M,type:P,errors:I}=A;w=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:M,eventType:P,new:{},old:{},errors:I}),this._getPayloadRecords(A))}E.callback(w,s)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&ir.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(En.close,{},e)}_onError(e){this._on(En.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Og(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Og(e.columns,e.old_record)),n}}const ad=()=>{},Ka={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KE=[1e3,2e3,5e3,1e4],WE=1e4,XE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QE{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wd,this.transport=null,this.heartbeatIntervalMs=Ka.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ad,this.ref=0,this.reconnectTimer=null,this.vsn=Ug,this.logger=ad,this.conn=null,this.sendBuffer=[],this.serializer=new zE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sd.websocket}`,this.httpEndpoint=l0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=PE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return ns.Connecting;case Ri.open:return ns.Open;case Ri.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new ir(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,c=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(HE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ka.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:c}=n,f=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${s} ${o} ${f}`.trim(),l),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ri.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ri.open||this.conn.readyState===Ri.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(En.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([XE],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:BE};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(En.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new o0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ka.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,c,f,p,h,v,b,w,E;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:wd,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Ka.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:ad,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:Ug,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(A=>KE[A-1]||WE),this.vsn){case r0:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((A,R)=>R(JSON.stringify(A))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((A,R)=>R(JSON.parse(A)));break;case qE:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var bo=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ZE(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function ex(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function tx(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:c}){const f=ZE(t.baseUrl,s,o),p=await ex(t.auth),h=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...c},body:l?JSON.stringify(l):void 0}),v=await h.text(),b=(h.headers.get("content-type")||"").includes("application/json"),w=b&&v?JSON.parse(v):v;if(!h.ok){const E=b?w:void 0,A=E==null?void 0:E.error;throw new bo((A==null?void 0:A.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:E})}return{status:h.status,headers:h.headers,data:w}}}}function Wa(t){return t.join("")}var nx=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Wa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`}),!0}catch(e){if(e instanceof bo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof bo&&n.status===409)return;throw n}}};function Js(t){return t.join("")}var ix=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof bo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof bo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},sx=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=tx({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new nx(this.client,e),this.tableOps=new ix(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Tl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var rx=class extends Tl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xd=class extends Tl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const ef=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ox=()=>Response,Td=t=>{if(Array.isArray(t))return t.map(n=>Td(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Td(s)}),e},ax=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lx=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function ux(t,e){if(wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(wo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cx(t){var e=ux(t,"string");return wo(e)=="symbol"?e:e+""}function dx(t,e,n){return(e=cx(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bg(Object(n),!0).forEach(function(s){dx(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const ld=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},fx=async(t,e,n)=>{t instanceof await ox()&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const o=t.status||500,l=(s==null?void 0:s.statusCode)||o+"";e(new rx(ld(s),o,l))}).catch(s=>{e(new xd(ld(s),s))}):e(new xd(ld(t),t))},hx=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(ax(s)?(o.headers=ye({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),ye(ye({},o),n))};async function No(t,e,n,s,o,l){return new Promise((c,f)=>{t(n,hx(e,s,o,l)).then(p=>{if(!p.ok)throw p;return s!=null&&s.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>fx(p,f,s))})}async function So(t,e,n,s){return No(t,"GET",e,n,s)}async function Sn(t,e,n,s,o){return No(t,"POST",e,s,o,n)}async function Cd(t,e,n,s,o){return No(t,"PUT",e,s,o,n)}async function px(t,e,n,s){return No(t,"HEAD",e,ye(ye({},n),{},{noResolveJson:!0}),s)}async function tf(t,e,n,s,o){return No(t,"DELETE",e,s,o,n)}var mx=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};let u0;u0=Symbol.toStringTag;var gx=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[u0]="BlobDownloadBuilder",this.promise=null}asStream(){return new mx(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};const vx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yx=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=ef(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const c=ye(ye({},qg),s);let f=ye(ye({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",o.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),p&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(p))):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(f=ye(ye({},f),s.headers));const h=o._removeEmptyFolders(e),v=o._getFinalPath(h),b=await(t=="PUT"?Cd:Sn)(o.fetch,`${o.url}/object/${v}`,l,ye({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),c=o._getFinalPath(l),f=new URL(o.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let p;const h=ye({upsert:qg.upsert},s),v=ye(ye({},o.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",h.cacheControl)):(p=n,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType),{data:{path:l,fullPath:(await Cd(o.fetch,f.toString(),p,{headers:v})).Key},error:null}}catch(p){if(o.shouldThrowOnError)throw p;if(Qe(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ye({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await Sn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(n.url+l.url),f=c.searchParams.get("token");if(!f)throw new Tl("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await Sn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await Sn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await Sn(s.fetch,`${s.url}/object/sign/${o}`,ye({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await Sn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>ye(ye({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>So(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new gx(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Td(await So(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await px(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Qe(s)&&s instanceof xd){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(t){var e=this;try{return{data:await tf(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ye(ye(ye({},vx),e),{},{prefix:t||""});return{data:await Sn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ye({},t);return{data:await Sn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const c0="2.90.1",d0={"X-Client-Info":`storage-js/${c0}`};var _x=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ye(ye({},d0),e),this.fetch=ef(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await So(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await So(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Cd(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await tf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},bx=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ye(ye({},d0),e),this.fetch=ef(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await So(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await tf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!lx(t))throw new Tl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new sx({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(o,f),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}}}})}};const nf={"X-Client-Info":`storage-js/${c0}`,"Content-Type":"application/json"};var f0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Qt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var ud=class extends f0{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wx=class extends f0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const sf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Sx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ex=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new ud(Hg(l),s,c))}).catch(()=>{const l=s+"";e(new ud(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new ud(o.statusText||`HTTP ${s} error`,s,l))}}else e(new wx(Hg(t),t))},xx=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(Sx(s)?(o.headers=ye({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,ye(ye({},o),n)):o};async function Tx(t,e,n,s,o,l){return new Promise((c,f)=>{t(n,xx(e,s,o,l)).then(p=>{if(!p.ok)throw p;if(s!=null&&s.noResolveJson)return p;const h=p.headers.get("content-type");return!h||!h.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>Ex(p,f,s))})}async function Zt(t,e,n,s,o){return Tx(t,"POST",e,s,o,n)}var Cx=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ye(ye({},nf),e),this.fetch=sf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Zt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Zt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}},Ax=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ye(ye({},nf),e),this.fetch=sf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Zt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Zt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Zt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}},Rx=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ye(ye({},nf),e),this.fetch=sf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}},Nx=class extends Rx{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Ix(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Ix=class extends Cx{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ye(ye({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ye(ye({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Mx(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Mx=class extends Ax{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ye(ye({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ye(ye({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ye(ye({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ye(ye({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ye(ye({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},kx=class extends _x{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new yx(this.url,this.headers,t,this.fetch)}get vectors(){return new Nx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bx(this.url+"/iceberg",this.headers,this.fetch)}};const h0="2.90.1",er=30*1e3,Ad=3,cd=Ad*er,Dx="http://localhost:9999",Ux="supabase.auth.token",Ox={"X-Client-Info":`gotrue-js/${h0}`},Rd="X-Supabase-Api-Version",p0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Px=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lx=600*1e3;class Eo extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Bx extends Eo{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function qx(t){return ce(t)&&t.name==="AuthApiError"}class is extends Eo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ei extends Eo{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Xt extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hx(t){return ce(t)&&t.name==="AuthSessionMissingError"}class Ys extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xa extends ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qa extends ei{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gx(t){return ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gg extends ei{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zx extends ei{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nd extends ei{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function dd(t){return ce(t)&&t.name==="AuthRetryableFetchError"}class zg extends ei{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Id extends ei{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vg=` 	
\r=`.split(""),Vx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vg.length;e+=1)t[Vg[e].charCodeAt(0)]=-2;for(let e=0;e<fl.length;e+=1)t[fl[e].charCodeAt(0)]=e;return t})();function $g(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(fl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(fl[s]),e.queuedBits-=6}}function m0(t,e,n){const s=Vx[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fg(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{jx(c,s,n)};for(let c=0;c<t.length;c+=1)m0(t.charCodeAt(c),o,l);return e.join("")}function $x(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Fx(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}$x(s,e)}}function jx(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function or(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)m0(t.charCodeAt(o),n,s);return new Uint8Array(e)}function Jx(t){const e=[];return Fx(t,n=>e.push(n)),new Uint8Array(e)}function ss(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>$g(o,n,s)),$g(null,n,s),e.join("")}function Yx(t){return Math.round(Date.now()/1e3)+t}function Kx(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",Qi={tested:!1,writable:!1},g0=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qi.tested)return Qi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qi.tested=!0,Qi.writable=!0}catch{Qi.tested=!0,Qi.writable=!1}return Qi.writable};function Wx(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const v0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Xx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},St=async(t,e)=>{await t.removeItem(e)};class Cl{constructor(){this.promise=new Cl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cl.promiseConstructor=Promise;function fd(t){const e=t.split(".");if(e.length!==3)throw new Id("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Px.test(e[s]))throw new Id("JWT not in base64url format");return{header:JSON.parse(Fg(e[0])),payload:JSON.parse(Fg(e[1])),signature:or(e[2]),raw:{header:e[0],payload:e[1]}}}async function Qx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Zx(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function eT(t){return("0"+t.toString(16)).substr(-2)}function tT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,eT).join("")}async function nT(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function iT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ks(t,e,n=!1){const s=tT();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await tr(t,`${e}-code-verifier`,o);const l=await iT(s);return[l,s===l?"plain":"s256"]}const sT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rT(t){const e=t.headers.get(Rd);if(!e||!e.match(sT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function aT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ws(t){if(!lT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uT(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function jg(t){return JSON.parse(JSON.stringify(t))}const es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cT=[502,503,504];async function Jg(t){var e;if(!Xx(t))throw new Nd(es(t),0);if(cT.includes(t.status))throw new Nd(es(t),t.status);let n;try{n=await t.json()}catch(l){throw new is(es(l),l)}let s;const o=rT(t);if(o&&o.getTime()>=p0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new zg(es(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Xt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new zg(es(n),t.status,n.weak_password.reasons);throw new Bx(es(n),t.status||500,s)}const dT=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function ve(t,e,n,s){var o;const l=Object.assign({},s==null?void 0:s.headers);l[Rd]||(l[Rd]=p0["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await fT(t,e,n+f,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(p):{data:Object.assign({},p),error:null}}async function fT(t,e,n,s,o,l){const c=dT(e,s,o,l);let f;try{f=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new Nd(es(p),0)}if(f.ok||await Jg(f),s!=null&&s.noResolveJson)return f;try{return await f.json()}catch(p){await Jg(p)}}function wn(t){var e;let n=null;mT(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Yx(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Yg(t){const e=wn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ni(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hT(t){return{data:t,error:null}}function pT(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,c=xl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function Kg(t){return t}function mT(t){return t.access_token&&t.refresh_token&&t.expires_in}const pd=["global","local","others"];class gT{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=v0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=pd[0]){if(pd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pd.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ni})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=xl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:pT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ni})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,c,f,p;try{const h={nextPage:null,lastPage:0,total:0},v=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Kg});if(v.error)throw v.error;const b=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);h[`${C}Page`]=R}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(ce(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Ws(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ni})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ws(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ni})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Ws(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ni})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ws(e.userId);try{const{data:n,error:s}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ws(e.userId),Ws(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,c,f,p;try{const h={nextPage:null,lastPage:0,total:0},v=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Kg});if(v.error)throw v.error;const b=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);h[`${C}Page`]=R}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(ce(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function Wg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Xs={debug:!!(globalThis&&g0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vT extends y0{}async function yT(t,e,n){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function _T(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function bT(t){return parseInt(t,16)}function wT(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function ST(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:p,resources:h,scheme:v,uri:b,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=_0(t.address),A=v?`${v}://${s}`:s,R=t.statement?`${t.statement}
`:"",C=`${A} wants you to sign in with your Ethereum account:
${E}

${R}`;let M=`URI: ${b}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(M+=`
Expiration Time: ${o.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),p&&(M+=`
Request ID: ${p}`),h){let P=`
Resources:`;for(const I of h){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);P+=`
- ${I}`}M+=P}return`${C}
${M}`}class ct extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class hl extends ct{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ET({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(b0(c)){if(l.rp.id!==c)return new ct({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function xT({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(b0(s)){if(n.rpId!==s)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class TT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const CT=new TT;function AT(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=xl(t,["challenge","user","excludeCredentials"]),l=or(e).buffer,c=Object.assign(Object.assign({},n),{id:or(n.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:c});if(s&&s.length>0){f.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const h=s[p];f.excludeCredentials[p]=Object.assign(Object.assign({},h),{id:or(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return f}function RT(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=xl(t,["challenge","allowCredentials"]),o=or(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:or(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function NT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ss(new Uint8Array(t.response.attestationObject)),clientDataJSON:ss(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function IT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ss(new Uint8Array(o.authenticatorData)),clientDataJSON:ss(new Uint8Array(o.clientDataJSON)),signature:ss(new Uint8Array(o.signature)),userHandle:o.userHandle?ss(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function b0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Xg(){var t,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function MT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:ET({error:e,options:t})}}}async function kT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:xT({error:e,options:t})}}}const DT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(n(c))s[l]=c;else if(e(c)){const f=s[l];e(f)?s[l]=pl(f,c):s[l]=pl(c)}else s[l]=c}return s}function OT(t,e){return pl(DT,t,e||{})}function PT(t,e){return pl(UT,t,e||{})}class LT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:f};const p=o??CT.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=OT(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:b}=await MT({publicKey:h,signal:p});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const h=PT(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:b}=await kT(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:p}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(c){return ce(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new Eo("rpId is required for WebAuthn authentication")};try{if(!Xg())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(c){return ce(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new Eo("rpId is required for WebAuthn registration")};try{if(!Xg())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:f};const{data:p,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:h}}catch(c){return ce(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in register",c)}}}}_T();const BT={url:Dx,storageKey:Ux,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ox,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Qg(t,e,n){return await n()}const Qs={};class xo{get jwks(){var e,n;return(n=(e=Qs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Qs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},BT),e);if(this.storageKey=l.storageKey,this.instanceID=(n=xo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,xo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Et()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new gT({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=v0(l.fetch),this.lock=l.lock||Qg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Et()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=yT:this.lock=Qg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:g0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${h0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(Et()&&(n=Wx(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),Et()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Gx(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?this._returnResult({error:n}):this._returnResult({error:new is("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:wn}),{data:c,error:f}=l;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:v,password:b,options:w}=e;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await Ks(this.storage,this.storageKey)),l=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:v,password:b,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:E,code_challenge_method:A},xform:wn})}else if("phone"in e){const{phone:v,password:b,options:w}=e;l=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:wn})}else throw new Xa("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return await St(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:f}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yg})}else if("phone"in e){const{phone:l,password:c,options:f}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yg})}else throw new Xa("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Ys;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,c,f,p,h,v,b,w;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:R,wallet:C,statement:M,options:P}=e;let I;if(Et())if(typeof C=="object")I=C;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")I=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const U=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),W=await I.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=_0(W[0]);let F=(s=P==null?void 0:P.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!F){const z=await I.request({method:"eth_chainId"});F=bT(z)}const ae={domain:U.host,address:X,statement:M,uri:U.href,version:"1",chainId:F,nonce:(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=P==null?void 0:P.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=P==null?void 0:P.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(v=P==null?void 0:P.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=ST(ae),A=await I.request({method:"personal_sign",params:[wT(E),X]})}try{const{data:R,error:C}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:A},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:wn});if(C)throw C;if(!R||!R.session||!R.user){const M=new Ys;return this._returnResult({data:{user:null,session:null},error:M})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:C})}catch(R){if(ce(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(e){var n,s,o,l,c,f,p,h,v,b,w,E;let A,R;if("message"in e)A=e.message,R=e.signature;else{const{chain:C,wallet:M,statement:P,options:I}=e;let U;if(Et())if(typeof M=="object")U=M;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))U=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=M}const W=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const X=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),P?{statement:P}:null));let F;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")F=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)F=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)A=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),R=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${W.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(o=(s=I==null?void 0:I.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((b=(v=I==null?void 0:I.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...I.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const X=await U.signMessage(new TextEncoder().encode(A),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=X}}try{const{data:C,error:M}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:ss(R)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:wn});if(M)throw M;if(!C||!C.session||!C.user){const P=new Ys;return this._returnResult({data:{user:null,session:null},error:P})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:M})}catch(C){if(ce(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await Zi(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new zx;const{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:wn});if(await St(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const f=new Ys;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:c}=e,f=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wn}),{data:p,error:h}=f;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!p||!p.session||!p.user){const v=new Ys;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:h})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,c;try{if("email"in e){const{email:f,options:p}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Ks(this.storage,this.storageKey));const{error:b}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(s=p==null?void 0:p.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:f,options:p}=e,{data:h,error:v}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:v})}throw new Xa("You must provide either an email or phone number.")}catch(f){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:f}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:wn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,h=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ks(this.storage,this.storageKey));const h=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:hT});return!((l=h.data)===null||l===void 0)&&l.url&&Et()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(f){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Xt;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:c}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:c,error:f}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new Xa("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<cd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Zi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=hd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=uT(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ni}):await this._useSession(async n=>{var s,o,l;const{data:c,error:f}=n;if(f)throw f;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Ni})})}catch(n){if(ce(n))return Hx(n)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Xt;const c=o.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await Ks(this.storage,this.storageKey));const{data:h,error:v}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:Ni});if(v)throw v;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xt;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:c}=fd(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:f}=n;if(f)throw f;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Xt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Et())throw new Qa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gg("No code detected.");const{data:P,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:f,expires_at:p,token_type:h}=e;if(!l||!f||!c||!h)throw new Qa("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(f);let w=v+b;p&&(w=parseInt(p));const E=w-v;E*1e3<=er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const A=w-b;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,v);const{data:R,error:C}=await this._getUser(l);if(C)throw C;const M={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:b,expires_at:w,refresh_token:c,token_type:h,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(s){if(ce(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(qx(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Kx(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ks(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var c,f,p,h,v;const{data:b,error:w}=l;if(w)throw w;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(ce(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:f,token:p,access_token:h,nonce:v}=e,b=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:f,id_token:p,access_token:h,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:wn}),{data:w,error:E}=b;return E?this._returnResult({data:{user:null,session:null},error:E}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ys}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:E}))}catch(o){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)throw c;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Zx(async o=>(o>0&&await Qx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wn})),(o,l)=>{const c=200*Math.pow(2,o);return l&&dd(l)&&Date.now()+c-s<er})}catch(s){if(this._debug(n,"error",s),ce(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Et()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Zi(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await tr(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:hd()}else if(o&&!o.user&&!o.user){const c=await Zi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await St(this.storage,this.storageKey+"-user"),await tr(this.storage,this.storageKey,o)):o.user=hd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${cd}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),dd(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Cl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Xt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),ce(l)){const c={data:null,error:l};return dd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await St(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await tr(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=jg(o);await tr(this.storage,this.storageKey,l)}else{const o=jg(n);await tr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${er}ms, refresh threshold is ${Ad} ticks`),o<=Ad&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof y0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ks(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:h}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?NT(e.webauthn.credential_response):IT(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:AT(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:RT(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=fd(s.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Xt});const c=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Xt});const c=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(e){if(ce(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(f=>f.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(f=>f.kid===e),s&&this.jwks_cached_at+Lx>o)return s;const{data:l,error:c}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(f=>f.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:E,error:A}=await this.getSession();if(A||!E.session)return this._returnResult({data:null,error:A});s=E.session.access_token}const{header:o,payload:l,signature:c,raw:{header:f,payload:p}}=fd(s);n!=null&&n.allowExpired||oT(l.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:l,header:o,signature:c},error:null}}const v=aT(o.alg),b=await crypto.subtle.importKey("jwk",h,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,c,Jx(`${f}.${p}`)))throw new Id("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}}xo.nextInstanceID={};const qT=xo,HT="2.90.1";let po="";typeof Deno<"u"?po="deno":typeof document<"u"?po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?po="react-native":po="node";const GT={"X-Client-Info":`supabase-js-${po}/${HT}`},zT={headers:GT},VT={schema:"public"},$T={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FT={};function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function jT(t,e){if(To(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(To(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JT(t){var e=jT(t,"string");return To(e)=="symbol"?e:e+""}function YT(t,e,n){return(e=JT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zg(Object(n),!0).forEach(function(s){YT(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const KT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WT=()=>Headers,XT=(t,e,n)=>{const s=KT(n),o=WT();return async(l,c)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:t;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(l,nt(nt({},c),{},{headers:h}))}};function QT(t){return t.endsWith("/")?t:t+"/"}function ZT(t,e){var n,s;const{db:o,auth:l,realtime:c,global:f}=t,{db:p,auth:h,realtime:v,global:b}=e,w={db:nt(nt({},p),o),auth:nt(nt({},h),l),realtime:nt(nt({},v),c),storage:{},global:nt(nt(nt({},b),f),{},{headers:nt(nt({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function eC(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tC=class extends qT{constructor(t){super(t)}},nC=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=eC(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:VT,realtime:FT,auth:nt(nt({},$T),{},{storageKey:c}),global:zT},p=ZT(n??{},f);if(this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=p.auth)!==null&&h!==void 0?h:{},this.headers,p.global.fetch)}this.fetch=XT(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new OE(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new kx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new IE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:c,lock:f,debug:p,throwOnError:h},v,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tC({url:this.authUrl.href,headers:nt(nt({},w),v),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:c,lock:f,debug:p,throwOnError:h,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new QE(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const iC=(t,e,n)=>new nC(t,e,n);function sC(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}sC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rC="https://zdpmfportgxwttmrhhwr.supabase.co",oC="sb_publishable_dEAlsD-rH1msokWdbs9P7g_DrDWXoPN",Oe=iC(rC,oC),ev="product-images";var aC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lC,uC;function cC(){return{geminiUrl:lC,vertexUrl:uC}}function dC(t,e,n,s){var o,l;if(!(t!=null&&t.baseUrl)){const c=cC();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:n:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ti{}function oe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let h=0;h<p.length;h++){const v=p[h];m(v,e.slice(l+1),n[h])}else for(const h of p)m(h,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],o=t[s];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(f=>d(f,e.slice(s+1),n)):n}else return n}else t=t[o]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function fC(t,e){for(const[n,s]of Object.entries(e)){const o=n.split("."),l=s.split("."),c=new Set;let f=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){f=p;break}if(f!==-1&&l.length>f)for(let p=f;p<l.length;p++){const h=l[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Md(t,o,l,0,c)}}function Md(t,e,n,s,o){if(s>=e.length||typeof t!="object"||t===null)return;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const p of f[c])Md(p,e,n,s+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(h=>!h.startsWith("_")&&!o.has(h)),p={};for(const h of f)p[h]=c[h];for(const[h,v]of Object.entries(p)){const b=[];for(const w of n.slice(s))w==="*"?b.push(h):b.push(w);m(c,b,v)}for(const h of f)delete c[h]}}else{const c=t;l in c&&Md(c[l],e,n,s+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(t){const e={},n=d(t,["operationName"]);n!=null&&m(e,["operationName"],n);const s=d(t,["resourceName"]);return s!=null&&m(e,["_url","resourceName"],s),e}function pC(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],gC(c)),e}function mC(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],vC(c)),e}function gC(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>yC(c))),m(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&m(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function vC(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>_C(c))),m(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&m(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function yC(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],TC(n)),e}function _C(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],CC(n)),e}function bC(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function wC(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function SC(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],EC(c)),e}function EC(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&m(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function w0(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],xC(c)),e}function xC(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&m(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function TC(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&m(e,["videoBytes"],rf(s));const o=d(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function CC(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&m(e,["videoBytes"],rf(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var tv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(tv||(tv={}));var nv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(nv||(nv={}));var iv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(iv||(iv={}));var Ii;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ii||(Ii={}));var sv;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(sv||(sv={}));var rv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(rv||(rv={}));var ov;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ov||(ov={}));var av;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(av||(av={}));var lv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(lv||(lv={}));var uv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uv||(uv={}));var cv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(cv||(cv={}));var dv;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(dv||(dv={}));var fv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(fv||(fv={}));var hv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(hv||(hv={}));var pv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(pv||(pv={}));var mv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(mv||(mv={}));var gv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(gv||(gv={}));var vv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vv||(vv={}));var yv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yv||(yv={}));var _v;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(_v||(_v={}));var bv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bv||(bv={}));var ml;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ml||(ml={}));var wv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wv||(wv={}));var Sv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Sv||(Sv={}));var Ev;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ev||(Ev={}));var kd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kd||(kd={}));var xv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xv||(xv={}));var Tv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Tv||(Tv={}));var Cv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Cv||(Cv={}));var Av;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Av||(Av={}));var Rv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Rv||(Rv={}));var Nv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Nv||(Nv={}));var Iv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Iv||(Iv={}));var Mv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Mv||(Mv={}));var kv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kv||(kv={}));var Dv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Dv||(Dv={}));var Uv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Uv||(Uv={}));var Ov;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ov||(Ov={}));var Pv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Pv||(Pv={}));var Lv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Lv||(Lv={}));var Bv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Bv||(Bv={}));var qv;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(qv||(qv={}));var Hv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Hv||(Hv={}));var Gv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Gv||(Gv={}));var zv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(zv||(zv={}));var Vv;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Vv||(Vv={}));var $v;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})($v||($v={}));var Fv;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Fv||(Fv={}));var jv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jv||(jv={}));var Jv;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Jv||(Jv={}));var Yv;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Yv||(Yv={}));var Kv;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Kv||(Kv={}));var Wv;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Wv||(Wv={}));var Xv;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Xv||(Xv={}));var sr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(sr||(sr={}));class Dd{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class fo{get text(){var e,n,s,o,l,c,f,p;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const b=[];for(const w of(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[E,A]of Object.entries(w))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(A!==null||A!==void 0)&&b.push(E);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;v=!0,h+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,n,s,o,l,c,f,p;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const b of(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[w,E]of Object.entries(b))w!=="inlineData"&&(E!==null||E!==void 0)&&v.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(h+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,s,o,l,c,f,p;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,s,o,l,c,f,p,h;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,s,o,l,c,f,p,h;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Qv{}class Zv{}class AC{}class RC{}class NC{}class IC{}class ey{}class ty{}class ny{}class MC{}class gl{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new gl;let o;const l=e;return n?o=mC(l):o=pC(l),Object.assign(s,o),s}}class iy{}class sy{}class ry{}class oy{}class kC{}class DC{}class UC{}class of{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new of,l=SC(e);return Object.assign(s,l),s}}class OC{}class PC{}class LC{}class ay{}class BC{get text(){var e,n,s;let o="",l=!1;const c=[];for(const f of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[p,h]of Object.entries(f))p!=="text"&&p!=="thought"&&h!==null&&c.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,s;let o="";const l=[];for(const c of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[f,p]of Object.entries(c))f!=="inlineData"&&p!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class qC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class af{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new af,l=w0(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function S0(t,e){const n=De(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function E0(t){return Array.isArray(t)?t.map(e=>vl(e)):[vl(t)]}function vl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function x0(t){const e=vl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function T0(t){const e=vl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ly(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function C0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ly(e)):[ly(t)]}function Ud(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function uy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function cy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ct(t){if(t==null)throw new Error("ContentUnion is required");return Ud(t)?t:{role:"user",parts:C0(t)}}function lf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Ct(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=Ct(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ct(n)):[Ct(e)]}function pn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(uy(t)||cy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(t)]}const e=[],n=[],s=Ud(t[0]);for(const o of t){const l=Ud(o);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(uy(o)||cy(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return s||e.push({role:"user",parts:C0(n)}),e}function HC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(Ii).includes(n[0].toUpperCase())?n[0].toUpperCase():Ii.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(Ii).includes(s.toUpperCase())?s.toUpperCase():Ii.TYPE_UNSPECIFIED})}}function ar(t){const e={},n=["items"],s=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&HC(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ii).includes(f.toUpperCase())?f.toUpperCase():Ii.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=ar(f);else if(s.includes(c)){const p=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}p.push(ar(h))}e[c]=p}else if(o.includes(c)){const p={};for(const[h,v]of Object.entries(f))p[h]=ar(v);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=f}return e}function uf(t){return ar(t)}function cf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function df(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function cr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ar(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ar(e.response));return t}function dr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function GC(t,e,n,s=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return GC(t,e,"cachedContents")}function A0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ki(t){return rf(t)}function zC(t){return t!=null&&typeof t=="object"&&"name"in t}function VC(t){return t!=null&&typeof t=="object"&&"video"in t}function $C(t){return t!=null&&typeof t=="object"&&"uri"in t}function R0(t){var e;let n;if(zC(t)&&(n=t.name),!($C(t)&&(n=t.uri,n===void 0))&&!(VC(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function N0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function I0(t){for(const e of["models","tunedModels","publisherModels"])if(FC(t,e))return t[e];return[]}function FC(t,e){return t!==null&&typeof t=="object"&&e in t}function jC(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function JC(t,e={}){const n=[],s=new Set;for(const o of t){const l=o.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=jC(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function M0(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function YC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function k0(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const c of o){if(typeof c!="object"||c===null)continue;const p=c.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function fr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function D0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(t){const e={},n=d(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const s=d(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>NA(c))),m(e,["inlinedResponses"],l)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["inlinedEmbedContentResponses"],l)}return e}function WC(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const s=d(t,["gcsDestination","outputUriPrefix"]);s!=null&&m(e,["gcsUri"],s);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function XC(t){const e={},n=d(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const s=d(t,["gcsUri"]);s!=null&&m(e,["gcsDestination","outputUriPrefix"],s);const o=d(t,["bigqueryUri"]);if(o!=null&&m(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ll(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata","displayName"]);s!=null&&m(e,["displayName"],s);const o=d(t,["metadata","state"]);o!=null&&m(e,["state"],D0(o));const l=d(t,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&m(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=d(t,["metadata","model"]);p!=null&&m(e,["model"],p);const h=d(t,["metadata","output"]);return h!=null&&m(e,["dest"],KC(k0(h))),e}function Od(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["displayName"]);s!=null&&m(e,["displayName"],s);const o=d(t,["state"]);o!=null&&m(e,["state"],D0(o));const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["createTime"]);c!=null&&m(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(e,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(e,["updateTime"],h);const v=d(t,["model"]);v!=null&&m(e,["model"],v);const b=d(t,["inputConfig"]);b!=null&&m(e,["src"],QC(b));const w=d(t,["outputConfig"]);w!=null&&m(e,["dest"],WC(k0(w)));const E=d(t,["completionStats"]);return E!=null&&m(e,["completionStats"],E),e}function QC(t){const e={},n=d(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const s=d(t,["gcsSource","uris"]);s!=null&&m(e,["gcsUri"],s);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function ZC(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=d(e,["fileName"]);s!=null&&m(n,["fileName"],s);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>RA(t,c))),m(n,["requests","requests"],l)}return n}function eA(t){const e={},n=d(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const s=d(t,["gcsUri"]);s!=null&&m(e,["gcsSource","uris"],s);const o=d(t,["bigqueryUri"]);if(o!=null&&m(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function tA(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function nA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function iA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function sA(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&m(e,["citationMetadata"],rA(s));const o=d(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=d(t,["safetyRatings"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(E=>E)),m(e,["safetyRatings"],w)}const b=d(t,["urlContextMetadata"]);return b!=null&&m(e,["urlContextMetadata"],b),e}function rA(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),m(e,["citations"],s)}return e}function U0(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>PA(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function oA(t,e){const n={},s=d(t,["displayName"]);if(e!==void 0&&s!=null&&m(e,["batch","displayName"],s),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function aA(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const o=d(t,["dest"]);return e!==void 0&&o!=null&&m(e,["outputConfig"],XC(YC(o))),n}function dy(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["src"]);o!=null&&m(n,["batch","inputConfig"],ZC(t,M0(t,o)));const l=d(e,["config"]);return l!=null&&oA(l,n),n}function lA(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],De(t,s));const o=d(e,["src"]);o!=null&&m(n,["inputConfig"],eA(M0(t,o)));const l=d(e,["config"]);return l!=null&&aA(l,n),n}function uA(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&m(e,["batch","displayName"],s),n}function cA(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["src"]);o!=null&&m(n,["batch","inputConfig"],vA(t,o));const l=d(e,["config"]);return l!=null&&uA(l,n),n}function dA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function fA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function hA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);return l!=null&&m(e,["error"],l),e}function pA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);return l!=null&&m(e,["error"],l),e}function mA(t,e){const n={},s=d(e,["contents"]);if(s!=null){let l=lf(t,s);Array.isArray(l)&&(l=l.map(c=>c)),m(n,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(m(n,["_self"],gA(o,n)),fC(n,{"requests[].*":"requests[].request.*"})),n}function gA(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&m(e,["requests[]","taskType"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vA(t,e){const n={},s=d(e,["fileName"]);s!=null&&m(n,["file_name"],s);const o=d(e,["inlinedRequests"]);return o!=null&&m(n,["requests"],mA(t,o)),n}function yA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function _A(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bA(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&m(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wA(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],U0(Ct(o)));const l=d(e,["temperature"]);l!=null&&m(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const f=d(e,["topK"]);f!=null&&m(s,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(s,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&m(s,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(s,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&m(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&m(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&m(s,["responseSchema"],uf(M));const P=d(e,["responseJsonSchema"]);if(P!=null&&m(s,["responseJsonSchema"],P),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(n!==void 0&&I!=null){let se=I;Array.isArray(se)&&(se=se.map(Te=>LA(Te))),m(n,["safetySettings"],se)}const U=d(e,["tools"]);if(n!==void 0&&U!=null){let se=dr(U);Array.isArray(se)&&(se=se.map(Te=>qA(cr(Te)))),m(n,["tools"],se)}const W=d(e,["toolConfig"]);if(n!==void 0&&W!=null&&m(n,["toolConfig"],BA(W)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=d(e,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],ni(t,X));const F=d(e,["responseModalities"]);F!=null&&m(s,["responseModalities"],F);const ae=d(e,["mediaResolution"]);ae!=null&&m(s,["mediaResolution"],ae);const z=d(e,["speechConfig"]);if(z!=null&&m(s,["speechConfig"],cf(z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=d(e,["thinkingConfig"]);te!=null&&m(s,["thinkingConfig"],te);const fe=d(e,["imageConfig"]);fe!=null&&m(s,["imageConfig"],AA(fe));const me=d(e,["enableEnhancedCivicAnswers"]);return me!=null&&m(s,["enableEnhancedCivicAnswers"],me),s}function SA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>sA(h))),m(e,["candidates"],p)}const o=d(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function EA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function xA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function TA(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function CA(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function AA(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&m(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function RA(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["request","model"],De(t,s));const o=d(e,["contents"]);if(o!=null){let f=pn(o);Array.isArray(f)&&(f=f.map(p=>U0(p))),m(n,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const c=d(e,["config"]);return c!=null&&m(n,["request","generationConfig"],wA(t,c,d(n,["request"],{}))),n}function NA(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],SA(n));const s=d(t,["error"]);return s!=null&&m(e,["error"],s),e}function IA(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function MA(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const l=d(t,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),n}function kA(t){const e={},n=d(t,["config"]);return n!=null&&IA(n,e),e}function DA(t){const e={},n=d(t,["config"]);return n!=null&&MA(n,e),e}function UA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ll(c))),m(e,["batchJobs"],l)}return e}function OA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Od(c))),m(e,["batchJobs"],l)}return e}function PA(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],yA(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],_A(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],tA(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function LA(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&m(e,["threshold"],s),e}function BA(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&m(e,["functionCallingConfig"],bA(s)),e}function qA(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),m(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],TA(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],CA(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Zn||(Zn={}));class as{constructor(e,n,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,o)}init(e,n,s){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HA extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=dy(this.apiClient,e),s=n._url,o=oe("{model}:batchGenerateContent",s),f=n.batch.inputConfig.requests,p=f.requests,h=[];for(const v of p){const b=Object.assign({},v);if(b.systemInstruction){const w=b.systemInstruction;delete b.systemInstruction;const E=b.request;E.systemInstruction=w,b.request=E}h.push(b)}return f.requests=h,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},o=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${o}`),s.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${o}`;else if(c)s.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=lA(this.apiClient,e);return f=oe("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Od(v))}else{const h=dy(this.apiClient,e);return f=oe("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>ll(v))}}async createEmbeddingsInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=cA(this.apiClient,e);return l=oe("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>ll(p))}}async get(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=xA(this.apiClient,e);return f=oe("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Od(v))}else{const h=EA(this.apiClient,e);return f=oe("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>ll(v))}}async cancel(e){var n,s,o,l;let c="",f={};if(this.apiClient.isVertexAI()){const p=iA(this.apiClient,e);c=oe("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const p=nA(this.apiClient,e);c=oe("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=DA(e);return f=oe("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=OA(v),w=new ay;return Object.assign(w,b),w})}else{const h=kA(e);return f=oe("batches",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=UA(v),w=new ay;return Object.assign(w,b),w})}}async delete(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=fA(this.apiClient,e);return f=oe("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>pA(v))}else{const h=dA(this.apiClient,e);return f=oe("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>hA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function fy(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>cR(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function zA(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&m(e,["ttl"],s);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let v=pn(c);Array.isArray(v)&&(v=v.map(b=>fy(b))),m(e,["contents"],v)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],fy(Ct(f)));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>fR(b))),m(e,["tools"],v)}const h=d(t,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],dR(h)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function VA(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&m(e,["ttl"],s);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let b=pn(c);Array.isArray(b)&&(b=b.map(w=>w)),m(e,["contents"],b)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Ct(f));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>hR(w))),m(e,["tools"],b)}const h=d(t,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&m(e,["encryption_spec","kmsKeyName"],v),n}function $A(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],S0(t,s));const o=d(e,["config"]);return o!=null&&zA(o,n),n}function FA(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],S0(t,s));const o=d(e,["config"]);return o!=null&&VA(o,n),n}function jA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],ni(t,s)),n}function JA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],ni(t,s)),n}function YA(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function KA(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function WA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function XA(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QA(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&m(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ZA(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&m(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function eR(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],ni(t,s)),n}function tR(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],ni(t,s)),n}function nR(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function iR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function sR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function rR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function oR(t){const e={},n=d(t,["config"]);return n!=null&&sR(n,e),e}function aR(t){const e={},n=d(t,["config"]);return n!=null&&rR(n,e),e}function lR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["cachedContents"],l)}return e}function uR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["cachedContents"],l)}return e}function cR(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],WA(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],XA(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],GA(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function dR(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&m(e,["functionCallingConfig"],QA(s)),e}function fR(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),m(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],nR(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],iR(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function hR(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&m(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>ZA(w))),m(e,["functionDeclarations"],b)}const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const h=d(t,["googleSearchRetrieval"]);h!=null&&m(e,["googleSearchRetrieval"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function pR(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&m(e,["ttl"],s);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function mR(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&m(e,["ttl"],s);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function gR(t,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ni(t,s));const o=d(e,["config"]);return o!=null&&pR(o,n),n}function vR(t,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ni(t,s));const o=d(e,["config"]);return o!=null&&mR(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yR extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=FA(this.apiClient,e);return f=oe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const h=$A(this.apiClient,e);return f=oe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=tR(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const h=eR(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=JA(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=KA(v),w=new ry;return Object.assign(w,b),w})}else{const h=jA(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=YA(v),w=new ry;return Object.assign(w,b),w})}}async update(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=vR(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const h=gR(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=aR(e);return f=oe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=uR(v),w=new oy;return Object.assign(w,b),w})}else{const h=oR(e);return f=oe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=lR(v),w=new oy;return Object.assign(w,b),w})}}}function yl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function hy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(t){return this instanceof be?(this.v=t,this):new be(t)}function xn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(E){return function(A){return Promise.resolve(A).then(E,b)}}function f(E,A){s[E]&&(o[E]=function(R){return new Promise(function(C,M){l.push([E,R,C,M])>1||p(E,R)})},A&&(o[E]=A(o[E])))}function p(E,A){try{h(s[E](A))}catch(R){w(l[0][3],R)}}function h(E){E.value instanceof be?Promise.resolve(E.value.v).then(v,b):w(l[0][2],E)}function v(E){p("next",E)}function b(E){p("throw",E)}function w(E,A){E(A),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Tn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hy=="function"?hy(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=t[l]&&function(c){return new Promise(function(f,p){c=t[l](c),o(f,p,c.done,c.value)})}}function o(l,c,f,p){Promise.resolve(p).then(function(h){l({value:h,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _R(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:O0(n)}function O0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bR(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function py(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const o=[];let l=!0;for(;s<n&&t[s].role==="model";)o.push(t[s]),l&&!O0(t[s])&&(l=!1),s++;l?e.push(...o):e.pop()}return e}class wR{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new SR(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class SR{constructor(e,n,s,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),bR(l)}async sendMessage(e){var n;await this.sendPromise;const s=Ct(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,f;const p=await o,h=(c=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=p.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];v!=null&&(w=(f=v.slice(b))!==null&&f!==void 0?f:[]);const E=h?[h]:[];this.recordHistory(s,E,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const s=Ct(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,s)}getHistory(e=!1){const n=e?py(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return xn(this,arguments,function*(){var o,l,c,f,p,h;const v=[];try{for(var b=!0,w=Tn(e),E;E=yield be(w.next()),o=E.done,!o;b=!0){f=E.value,b=!1;const A=f;if(_R(A)){const R=(h=(p=A.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;R!==void 0&&v.push(R)}yield yield be(A)}}catch(A){l={error:A}}finally{try{!b&&!o&&(c=w.return)&&(yield be(c.call(w)))}finally{if(l)throw l.error}}this.recordHistory(n,v)})}recordHistory(e,n,s){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...py(s)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Al extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Al.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ER(t){const e={},n=d(t,["file"]);return n!=null&&m(e,["file"],n),e}function xR(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function TR(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],R0(n)),e}function CR(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function AR(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],R0(n)),e}function RR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function NR(t){const e={},n=d(t,["config"]);return n!=null&&RR(n,e),e}function IR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MR extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=NR(e);return l=oe("files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),o.then(p=>{const h=IR(p),v=new OC;return Object.assign(v,h),v})}}async createInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ER(e);return l=oe("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=xR(p),v=new PC;return Object.assign(v,h),v})}}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=AR(e);return l=oe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=TR(e);return l=oe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),o.then(p=>{const h=CR(p),v=new LC;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ul(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function kR(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>YR(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function DR(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function UR(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OR(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&m(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function PR(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&m(e,["responseJsonSchema"],s);const o=d(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&m(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const v=d(t,["mediaResolution"]);v!=null&&m(e,["mediaResolution"],v);const b=d(t,["presencePenalty"]);b!=null&&m(e,["presencePenalty"],b);const w=d(t,["responseLogprobs"]);w!=null&&m(e,["responseLogprobs"],w);const E=d(t,["responseMimeType"]);E!=null&&m(e,["responseMimeType"],E);const A=d(t,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const R=d(t,["responseSchema"]);R!=null&&m(e,["responseSchema"],R);const C=d(t,["routingConfig"]);C!=null&&m(e,["routingConfig"],C);const M=d(t,["seed"]);M!=null&&m(e,["seed"],M);const P=d(t,["speechConfig"]);P!=null&&m(e,["speechConfig"],P);const I=d(t,["stopSequences"]);I!=null&&m(e,["stopSequences"],I);const U=d(t,["temperature"]);U!=null&&m(e,["temperature"],U);const W=d(t,["thinkingConfig"]);W!=null&&m(e,["thinkingConfig"],W);const X=d(t,["topK"]);X!=null&&m(e,["topK"],X);const F=d(t,["topP"]);if(F!=null&&m(e,["topP"],F),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function LR(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function BR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function qR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig"],s);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],df(b));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],kR(Ct(A)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let X=dr(R);Array.isArray(X)&&(X=X.map(F=>WR(cr(F)))),m(e,["setup","tools"],X)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],KR(C));const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","inputAudioTranscription"],M);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],P);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const U=d(t,["contextWindowCompression"]);e!==void 0&&U!=null&&m(e,["setup","contextWindowCompression"],U);const W=d(t,["proactivity"]);if(e!==void 0&&W!=null&&m(e,["setup","proactivity"],W),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function HR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig"],PR(s));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],df(b));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],Ct(A));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let F=dr(R);Array.isArray(F)&&(F=F.map(ae=>XR(cr(ae)))),m(e,["setup","tools"],F)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],C);const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","inputAudioTranscription"],M);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],P);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const U=d(t,["contextWindowCompression"]);e!==void 0&&U!=null&&m(e,["setup","contextWindowCompression"],U);const W=d(t,["proactivity"]);e!==void 0&&W!=null&&m(e,["setup","proactivity"],W);const X=d(t,["explicitVadSignal"]);return e!==void 0&&X!=null&&m(e,["setup","explicitVadSignal"],X),n}function GR(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],De(t,s));const o=d(e,["config"]);return o!=null&&m(n,["config"],qR(o,n)),n}function zR(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],De(t,s));const o=d(e,["config"]);return o!=null&&m(n,["config"],HR(o,n)),n}function VR(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function $R(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),m(e,["weightedPrompts"],s)}return e}function FR(t){const e={},n=d(t,["media"]);if(n!=null){let h=E0(n);Array.isArray(h)&&(h=h.map(v=>ul(v))),m(e,["mediaChunks"],h)}const s=d(t,["audio"]);s!=null&&m(e,["audio"],ul(T0(s)));const o=d(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&m(e,["video"],ul(x0(l)));const c=d(t,["text"]);c!=null&&m(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function jR(t){const e={},n=d(t,["media"]);if(n!=null){let h=E0(n);Array.isArray(h)&&(h=h.map(v=>v)),m(e,["mediaChunks"],h)}const s=d(t,["audio"]);s!=null&&m(e,["audio"],T0(s));const o=d(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&m(e,["video"],x0(l));const c=d(t,["text"]);c!=null&&m(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function JR(t){const e={},n=d(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const s=d(t,["serverContent"]);s!=null&&m(e,["serverContent"],s);const o=d(t,["toolCall"]);o!=null&&m(e,["toolCall"],o);const l=d(t,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&m(e,["usageMetadata"],QR(c));const f=d(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=d(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const h=d(t,["voiceActivityDetectionSignal"]);return h!=null&&m(e,["voiceActivityDetectionSignal"],h),e}function YR(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],DR(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],UR(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],ul(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function KR(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function WR(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),m(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],LR(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],BR(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function XR(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&m(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>OR(w))),m(e,["functionDeclarations"],b)}const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const h=d(t,["googleSearchRetrieval"]);h!=null&&m(e,["googleSearchRetrieval"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function QR(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const s=d(t,["cachedContentTokenCount"]);s!=null&&m(e,["cachedContentTokenCount"],s);const o=d(t,["candidatesTokenCount"]);o!=null&&m(e,["responseTokenCount"],o);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&m(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=d(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["promptTokensDetails"],E)}const h=d(t,["cacheTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["cacheTokensDetails"],E)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["responseTokensDetails"],E)}const b=d(t,["toolUsePromptTokensDetails"]);if(b!=null){let E=b;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["toolUsePromptTokensDetails"],E)}const w=d(t,["trafficType"]);return w!=null&&m(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZR(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function eN(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&m(e,["citationMetadata"],tN(s));const o=d(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=d(t,["safetyRatings"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(E=>E)),m(e,["safetyRatings"],w)}const b=d(t,["urlContextMetadata"]);return b!=null&&m(e,["urlContextMetadata"],b),e}function tN(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),m(e,["citations"],s)}return e}function nN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["contents"]);if(o!=null){let l=pn(o);Array.isArray(l)&&(l=l.map(c=>c)),m(n,["contents"],l)}return n}function iN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["tokensInfo"],o)}return e}function sN(t){const e={},n=d(t,["values"]);n!=null&&m(e,["values"],n);const s=d(t,["statistics"]);return s!=null&&m(e,["statistics"],rN(s)),e}function rN(t){const e={},n=d(t,["truncated"]);n!=null&&m(e,["truncated"],n);const s=d(t,["token_count"]);return s!=null&&m(e,["tokenCount"],s),e}function Rl(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>p1(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function oN(t){const e={},n=d(t,["controlType"]);n!=null&&m(e,["controlType"],n);const s=d(t,["enableControlImageComputation"]);return s!=null&&m(e,["computeControl"],s),e}function aN(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lN(t,e){const n={},s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Ct(s));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>q0(f))),m(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],ZN(l)),n}function uN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>Rl(f))),m(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&aN(l),n}function cN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>f)),m(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&lN(l,n),n}function dN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);s!=null&&m(e,["totalTokens"],s);const o=d(t,["cachedContentTokenCount"]);return o!=null&&m(e,["cachedContentTokenCount"],o),e}function fN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);return s!=null&&m(e,["totalTokens"],s),e}function hN(t,e){const n={},s=d(e,["model"]);return s!=null&&m(n,["_url","name"],De(t,s)),n}function pN(t,e){const n={},s=d(e,["model"]);return s!=null&&m(n,["_url","name"],De(t,s)),n}function mN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function gN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function vN(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&m(e,["parameters","includeRaiReason"],w);const E=d(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&m(e,["parameters","outputOptions","compressionQuality"],R);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const M=d(t,["labels"]);e!==void 0&&M!=null&&m(e,["labels"],M);const P=d(t,["editMode"]);e!==void 0&&P!=null&&m(e,["parameters","editMode"],P);const I=d(t,["baseSteps"]);return e!==void 0&&I!=null&&m(e,["parameters","editConfig","baseSteps"],I),n}function yN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>b1(p))),m(n,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&vN(c,n),n}function _N(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Nl(l))),m(e,["generatedImages"],o)}return e}function bN(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&m(e,["requests[]","taskType"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wN(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&m(e,["instances[]","task_type"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&m(e,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&m(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function SN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["contents"]);if(o!=null){let f=lf(t,o);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&bN(l,n);const c=d(e,["model"]);return c!==void 0&&m(n,["requests[]","model"],De(t,c)),n}function EN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["contents"]);if(o!=null){let c=lf(t,o);Array.isArray(c)&&(c=c.map(f=>f)),m(n,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&wN(l,n),n}function xN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function TN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>sN(c))),m(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function CN(t){const e={},n=d(t,["endpoint"]);n!=null&&m(e,["name"],n);const s=d(t,["deployedModelId"]);return s!=null&&m(e,["deployedModelId"],s),e}function AN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function RN(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NN(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&m(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function IN(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&m(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function MN(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Rl(Ct(o)));const l=d(e,["temperature"]);l!=null&&m(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const f=d(e,["topK"]);f!=null&&m(s,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(s,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&m(s,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(s,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&m(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&m(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&m(s,["responseSchema"],uf(M));const P=d(e,["responseJsonSchema"]);if(P!=null&&m(s,["responseJsonSchema"],P),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(n!==void 0&&I!=null){let se=I;Array.isArray(se)&&(se=se.map(Te=>w1(Te))),m(n,["safetySettings"],se)}const U=d(e,["tools"]);if(n!==void 0&&U!=null){let se=dr(U);Array.isArray(se)&&(se=se.map(Te=>R1(cr(Te)))),m(n,["tools"],se)}const W=d(e,["toolConfig"]);if(n!==void 0&&W!=null&&m(n,["toolConfig"],A1(W)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=d(e,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],ni(t,X));const F=d(e,["responseModalities"]);F!=null&&m(s,["responseModalities"],F);const ae=d(e,["mediaResolution"]);ae!=null&&m(s,["mediaResolution"],ae);const z=d(e,["speechConfig"]);if(z!=null&&m(s,["speechConfig"],cf(z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=d(e,["thinkingConfig"]);te!=null&&m(s,["thinkingConfig"],te);const fe=d(e,["imageConfig"]);fe!=null&&m(s,["imageConfig"],s1(fe));const me=d(e,["enableEnhancedCivicAnswers"]);return me!=null&&m(s,["enableEnhancedCivicAnswers"],me),s}function kN(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Ct(o));const l=d(e,["temperature"]);l!=null&&m(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const f=d(e,["topK"]);f!=null&&m(s,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(s,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(s,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(s,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&m(s,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(s,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&m(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&m(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&m(s,["responseSchema"],uf(M));const P=d(e,["responseJsonSchema"]);P!=null&&m(s,["responseJsonSchema"],P);const I=d(e,["routingConfig"]);I!=null&&m(s,["routingConfig"],I);const U=d(e,["modelSelectionConfig"]);U!=null&&m(s,["modelConfig"],U);const W=d(e,["safetySettings"]);if(n!==void 0&&W!=null){let V=W;Array.isArray(V)&&(V=V.map(Z=>Z)),m(n,["safetySettings"],V)}const X=d(e,["tools"]);if(n!==void 0&&X!=null){let V=dr(X);Array.isArray(V)&&(V=V.map(Z=>q0(cr(Z)))),m(n,["tools"],V)}const F=d(e,["toolConfig"]);n!==void 0&&F!=null&&m(n,["toolConfig"],F);const ae=d(e,["labels"]);n!==void 0&&ae!=null&&m(n,["labels"],ae);const z=d(e,["cachedContent"]);n!==void 0&&z!=null&&m(n,["cachedContent"],ni(t,z));const te=d(e,["responseModalities"]);te!=null&&m(s,["responseModalities"],te);const fe=d(e,["mediaResolution"]);fe!=null&&m(s,["mediaResolution"],fe);const me=d(e,["speechConfig"]);me!=null&&m(s,["speechConfig"],cf(me));const se=d(e,["audioTimestamp"]);se!=null&&m(s,["audioTimestamp"],se);const Te=d(e,["thinkingConfig"]);Te!=null&&m(s,["thinkingConfig"],Te);const Ye=d(e,["imageConfig"]);if(Ye!=null&&m(s,["imageConfig"],r1(Ye)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function my(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>Rl(f))),m(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&m(n,["generationConfig"],MN(t,l,n)),n}function gy(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>f)),m(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&m(n,["generationConfig"],kN(t,l,n)),n}function vy(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>eN(h))),m(e,["candidates"],p)}const o=d(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function yy(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),m(e,["candidates"],h)}const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const l=d(t,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&m(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=d(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function DN(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const v=d(t,["language"]);e!==void 0&&v!=null&&m(e,["parameters","language"],v);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const w=d(t,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(t,["imageSize"]);if(e!==void 0&&E!=null&&m(e,["parameters","sampleImageSize"],E),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function UN(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&m(e,["parameters","includeRaiReason"],w);const E=d(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&m(e,["parameters","outputOptions","compressionQuality"],R);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const M=d(t,["labels"]);e!==void 0&&M!=null&&m(e,["labels"],M);const P=d(t,["imageSize"]);e!==void 0&&P!=null&&m(e,["parameters","sampleImageSize"],P);const I=d(t,["enhancePrompt"]);return e!==void 0&&I!=null&&m(e,["parameters","enhancePrompt"],I),n}function ON(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&DN(l,n),n}function PN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&UN(l,n),n}function LN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>KN(c))),m(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],L0(o)),e}function BN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Nl(c))),m(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],B0(o)),e}function qN(t,e){const n={},s=d(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const h=d(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&m(e,["instances[0]","lastFrame"],Il(v));const b=d(t,["referenceImages"]);if(e!==void 0&&b!=null){let w=b;Array.isArray(w)&&(w=w.map(E=>G1(E))),m(e,["instances[0]","referenceImages"],w)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function HN(t,e){const n={},s=d(t,["numberOfVideos"]);e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const l=d(t,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&m(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const h=d(t,["resolution"]);e!==void 0&&h!=null&&m(e,["parameters","resolution"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const b=d(t,["pubsubTopic"]);e!==void 0&&b!=null&&m(e,["parameters","pubsubTopic"],b);const w=d(t,["negativePrompt"]);e!==void 0&&w!=null&&m(e,["parameters","negativePrompt"],w);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","enhancePrompt"],E);const A=d(t,["generateAudio"]);e!==void 0&&A!=null&&m(e,["parameters","generateAudio"],A);const R=d(t,["lastFrame"]);e!==void 0&&R!=null&&m(e,["instances[0]","lastFrame"],Cn(R));const C=d(t,["referenceImages"]);if(e!==void 0&&C!=null){let I=C;Array.isArray(I)&&(I=I.map(U=>z1(U))),m(e,["instances[0]","referenceImages"],I)}const M=d(t,["mask"]);e!==void 0&&M!=null&&m(e,["instances[0]","mask"],H1(M));const P=d(t,["compressionQuality"]);return e!==void 0&&P!=null&&m(e,["parameters","compressionQuality"],P),n}function GN(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],FN(c)),e}function zN(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],jN(c)),e}function VN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&m(n,["instances[0]","image"],Il(l));const c=d(e,["video"]);c!=null&&m(n,["instances[0]","video"],H0(c));const f=d(e,["source"]);f!=null&&JN(f,n);const p=d(e,["config"]);return p!=null&&qN(p,n),n}function $N(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&m(n,["instances[0]","image"],Cn(l));const c=d(e,["video"]);c!=null&&m(n,["instances[0]","video"],G0(c));const f=d(e,["source"]);f!=null&&YN(f,n);const p=d(e,["config"]);return p!=null&&HN(p,n),n}function FN(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>XN(c))),m(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&m(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function jN(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>QN(c))),m(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&m(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function JN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&m(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Il(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],H0(l)),n}function YN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&m(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Cn(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],G0(l)),n}function KN(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],o1(n));const s=d(t,["raiFilteredReason"]);s!=null&&m(e,["raiFilteredReason"],s);const o=d(t,["_self"]);return o!=null&&m(e,["safetyAttributes"],L0(o)),e}function Nl(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],P0(n));const s=d(t,["raiFilteredReason"]);s!=null&&m(e,["raiFilteredReason"],s);const o=d(t,["_self"]);o!=null&&m(e,["safetyAttributes"],B0(o));const l=d(t,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function WN(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["mask"],P0(n));const s=d(t,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["labels"],o)}return e}function XN(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],B1(n)),e}function QN(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],q1(n)),e}function ZN(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&m(e,["responseJsonSchema"],s);const o=d(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&m(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const v=d(t,["mediaResolution"]);v!=null&&m(e,["mediaResolution"],v);const b=d(t,["presencePenalty"]);b!=null&&m(e,["presencePenalty"],b);const w=d(t,["responseLogprobs"]);w!=null&&m(e,["responseLogprobs"],w);const E=d(t,["responseMimeType"]);E!=null&&m(e,["responseMimeType"],E);const A=d(t,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const R=d(t,["responseSchema"]);R!=null&&m(e,["responseSchema"],R);const C=d(t,["routingConfig"]);C!=null&&m(e,["routingConfig"],C);const M=d(t,["seed"]);M!=null&&m(e,["seed"],M);const P=d(t,["speechConfig"]);P!=null&&m(e,["speechConfig"],P);const I=d(t,["stopSequences"]);I!=null&&m(e,["stopSequences"],I);const U=d(t,["temperature"]);U!=null&&m(e,["temperature"],U);const W=d(t,["thinkingConfig"]);W!=null&&m(e,["thinkingConfig"],W);const X=d(t,["topK"]);X!=null&&m(e,["topK"],X);const F=d(t,["topP"]);if(F!=null&&m(e,["topP"],F),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function e1(t,e){const n={},s=d(e,["model"]);return s!=null&&m(n,["_url","name"],De(t,s)),n}function t1(t,e){const n={},s=d(e,["model"]);return s!=null&&m(n,["_url","name"],De(t,s)),n}function n1(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function i1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function s1(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&m(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function r1(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const s=d(t,["imageSize"]);s!=null&&m(e,["imageSize"],s);const o=d(t,["personGeneration"]);o!=null&&m(e,["personGeneration"],o);const l=d(t,["outputMimeType"]);l!=null&&m(e,["imageOutputOptions","mimeType"],l);const c=d(t,["outputCompressionQuality"]);return c!=null&&m(e,["imageOutputOptions","compressionQuality"],c),e}function o1(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],ki(n));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function P0(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&m(e,["imageBytes"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Il(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],ki(n));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function Cn(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const s=d(t,["imageBytes"]);s!=null&&m(e,["bytesBase64Encoded"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function a1(t,e,n){const s={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&m(n,["_query","filter"],c);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],N0(t,f)),s}function l1(t,e,n){const s={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&m(n,["_query","filter"],c);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],N0(t,f)),s}function u1(t,e){const n={},s=d(e,["config"]);return s!=null&&a1(t,s,n),n}function c1(t,e){const n={},s=d(e,["config"]);return s!=null&&l1(t,s,n),n}function d1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let l=I0(o);Array.isArray(l)&&(l=l.map(c=>Pd(c))),m(e,["models"],l)}return e}function f1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let l=I0(o);Array.isArray(l)&&(l=l.map(c=>Ld(c))),m(e,["models"],l)}return e}function h1(t){const e={},n=d(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const s=d(t,["segmentationClasses"]);s!=null&&m(e,["maskClasses"],s);const o=d(t,["maskDilation"]);return o!=null&&m(e,["dilation"],o),e}function Pd(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["displayName"]);s!=null&&m(e,["displayName"],s);const o=d(t,["description"]);o!=null&&m(e,["description"],o);const l=d(t,["version"]);l!=null&&m(e,["version"],l);const c=d(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],N1(c));const f=d(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=d(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const h=d(t,["supportedGenerationMethods"]);h!=null&&m(e,["supportedActions"],h);const v=d(t,["temperature"]);v!=null&&m(e,["temperature"],v);const b=d(t,["maxTemperature"]);b!=null&&m(e,["maxTemperature"],b);const w=d(t,["topP"]);w!=null&&m(e,["topP"],w);const E=d(t,["topK"]);E!=null&&m(e,["topK"],E);const A=d(t,["thinking"]);return A!=null&&m(e,["thinking"],A),e}function Ld(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["displayName"]);s!=null&&m(e,["displayName"],s);const o=d(t,["description"]);o!=null&&m(e,["description"],o);const l=d(t,["versionId"]);l!=null&&m(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>CN(w))),m(e,["endpoints"],b)}const f=d(t,["labels"]);f!=null&&m(e,["labels"],f);const p=d(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],I1(p));const h=d(t,["defaultCheckpointId"]);h!=null&&m(e,["defaultCheckpointId"],h);const v=d(t,["checkpoints"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(w=>w)),m(e,["checkpoints"],b)}return e}function p1(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],AN(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],RN(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],ZR(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function m1(t){const e={},n=d(t,["productImage"]);return n!=null&&m(e,["image"],Cn(n)),e}function g1(t,e){const n={},s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&m(e,["parameters","baseSteps"],o);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const h=d(t,["addWatermark"]);e!==void 0&&h!=null&&m(e,["parameters","addWatermark"],h);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["enhancePrompt"]);e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w);const E=d(t,["labels"]);return e!==void 0&&E!=null&&m(e,["labels"],E),n}function v1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["source"]);o!=null&&_1(o,n);const l=d(e,["config"]);return l!=null&&g1(l,n),n}function y1(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Nl(o))),m(e,["generatedImages"],s)}return e}function _1(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&m(e,["instances[0]","prompt"],s);const o=d(t,["personImage"]);e!==void 0&&o!=null&&m(e,["instances[0]","personImage","image"],Cn(o));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>m1(f))),m(e,["instances[0]","productImages"],c)}return n}function b1(t){const e={},n=d(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Cn(n));const s=d(t,["referenceId"]);s!=null&&m(e,["referenceId"],s);const o=d(t,["referenceType"]);o!=null&&m(e,["referenceType"],o);const l=d(t,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],h1(l));const c=d(t,["controlImageConfig"]);c!=null&&m(e,["controlImageConfig"],oN(c));const f=d(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=d(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function L0(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&m(e,["scores"],s);const o=d(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function B0(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&m(e,["scores"],s);const o=d(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function w1(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&m(e,["threshold"],s),e}function S1(t){const e={},n=d(t,["image"]);return n!=null&&m(e,["image"],Cn(n)),e}function E1(t,e){const n={},s=d(t,["mode"]);e!==void 0&&s!=null&&m(e,["parameters","mode"],s);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&m(e,["parameters","maxPredictions"],o);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&m(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=d(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function x1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["source"]);o!=null&&C1(o,n);const l=d(e,["config"]);return l!=null&&E1(l,n),n}function T1(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>WN(o))),m(e,["generatedMasks"],s)}return e}function C1(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&m(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Cn(o));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],S1(l)),n}function A1(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&m(e,["functionCallingConfig"],NN(s)),e}function R1(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),m(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],n1(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],i1(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function q0(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&m(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>IN(w))),m(e,["functionDeclarations"],b)}const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const h=d(t,["googleSearchRetrieval"]);h!=null&&m(e,["googleSearchRetrieval"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function N1(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const o=d(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function I1(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const o=d(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function M1(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const o=d(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function k1(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const o=d(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function D1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],De(t,s));const o=d(e,["config"]);return o!=null&&M1(o,n),n}function U1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["config"]);return o!=null&&k1(o,n),n}function O1(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&m(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const h=d(t,["enhanceInputImage"]);e!==void 0&&h!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],h);const v=d(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const b=d(t,["labels"]);e!==void 0&&b!=null&&m(e,["labels"],b);const w=d(t,["numberOfImages"]);e!==void 0&&w!=null&&m(e,["parameters","sampleCount"],w);const E=d(t,["mode"]);return e!==void 0&&E!=null&&m(e,["parameters","mode"],E),n}function P1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],De(t,s));const o=d(e,["image"]);o!=null&&m(n,["instances[0]","image"],Cn(o));const l=d(e,["upscaleFactor"]);l!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&O1(c,n),n}function L1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Nl(l))),m(e,["generatedImages"],o)}return e}function B1(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&m(e,["videoBytes"],ki(s));const o=d(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function q1(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&m(e,["videoBytes"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function H1(t){const e={},n=d(t,["image"]);n!=null&&m(e,["_self"],Cn(n));const s=d(t,["maskMode"]);return s!=null&&m(e,["maskMode"],s),e}function G1(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Il(n));const s=d(t,["referenceType"]);return s!=null&&m(e,["referenceType"],s),e}function z1(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Cn(n));const s=d(t,["referenceType"]);return s!=null&&m(e,["referenceType"],s),e}function H0(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const s=d(t,["videoBytes"]);s!=null&&m(e,["encodedVideo"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["encoding"],o),e}function G0(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const s=d(t,["videoBytes"]);s!=null&&m(e,["bytesBase64Encoded"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V1(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&m(e,["displayName"],s),n}function $1(t){const e={},n=d(t,["config"]);return n!=null&&V1(n,e),e}function F1(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&m(e,["_query","force"],s),n}function j1(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&F1(s,e),e}function J1(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Y1(t,e){const n={},s=d(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["customMetadata"],l)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),n}function K1(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],X1(c)),e}function W1(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const s=d(t,["fileName"]);s!=null&&m(e,["fileName"],s);const o=d(t,["config"]);return o!=null&&Y1(o,e),e}function X1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&m(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function Q1(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function Z1(t){const e={},n=d(t,["config"]);return n!=null&&Q1(n,e),e}function eI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["fileSearchStores"],l)}return e}function z0(t,e){const n={},s=d(t,["mimeType"]);e!==void 0&&s!=null&&m(e,["mimeType"],s);const o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&m(e,["chunkingConfig"],c),n}function tI(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const s=d(t,["config"]);return s!=null&&z0(s,e),e}function nI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iI="Content-Type",sI="X-Server-Timeout",rI="User-Agent",Bd="x-goog-api-client",oI="1.35.0",aI=`google-genai-sdk/${oI}`,lI="v1beta1",uI="v1beta";class cI{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:lI,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:uI,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const o=[this.getRequestUrlInternal(n)];return s&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))o.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?s[o]=Object.assign(Object.assign({},s[o]),l):l!==void 0&&(s[o]=l);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,o){if(n&&n.timeout||o){const l=new AbortController,c=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=c}return n&&n.extraBody!==null&&dI(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await _y(o),new Dd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await _y(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return xn(this,arguments,function*(){var s;const o=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield be(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=l.decode(v,{stream:!0});try{const A=JSON.parse(b);if("error"in A){const R=JSON.parse(JSON.stringify(A.error)),C=R.status,M=R.code,P=`got status: ${C}. ${JSON.stringify(A)}`;if(M>=400&&M<600)throw new Al({message:P,status:M})}}catch(A){if(A.name==="ApiError")throw A}c+=b;let w=-1,E=0;for(;;){w=-1,E=0;for(const C of p){const M=c.indexOf(C);M!==-1&&(w===-1||M<w)&&(w=M,E=C.length)}if(w===-1)break;const A=c.substring(0,w);c=c.substring(w+E);const R=A.trim();if(R.startsWith(f)){const C=R.substring(f.length).trim();try{const M=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield be(new Dd(M))}catch(M){throw new Error(`exception parsing stream chunk ${C}. ${M}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=aI+" "+this.clientOptions.userAgentExtra;return e[rI]=n,e[Bd]=n,e[iI]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))s.append(o,l);e.timeout&&e.timeout>0&&s.append(sI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);o.sizeBytes=String(c.size);const f=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const p={file:o},h=this.getFileName(e),v=oe("upload/v1beta/files",p._url),b=await this.fetchUploadUrl(v,o.sizeBytes,o.mimeType,h,p,n==null?void 0:n.httpOptions);return l.upload(e,b,this)}async uploadFileToFileSearchStore(e,n,s){var o;const l=this.clientOptions.uploader,c=await l.stat(n),f=String(c.size),p=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(n),b={};s!=null&&z0(s,b);const w=await this.fetchUploadUrl(h,f,p,v,b,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(n,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,o,l,c){var f;let p={};c?p=c:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},o?{"X-Goog-Upload-File-Name":o}:{})};const h=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(f=h==null?void 0:h.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function _y(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(s);throw n>=400&&n<600?new Al({message:o,status:n}):new Error(o)}}function dI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const f=Object.assign({},l);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const h=c[p],v=f[p];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?f[p]=s(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),f[p]=h)}return f}const o=s(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fI="mcp_used/unknown";let hI=!1;function V0(t){for(const e of t)if(pI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hI}function $0(t){var e;const n=(e=t[Bd])!==null&&e!==void 0?e:"";t[Bd]=(n+` ${fI}`).trimStart()}function pI(t){return t!==null&&typeof t=="object"&&t instanceof ff}function mI(t){return xn(this,arguments,function*(n,s=100){let o,l=0;for(;l<s;){const c=yield be(n.listTools({cursor:o}));for(const f of c.tools)yield yield be(f),l++;if(!c.nextCursor)break;o=c.nextCursor}})}class ff{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ff(e,n)}async initialize(){var e,n,s,o;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var f=!0,p=(n=void 0,Tn(mI(v))),h;h=await p.next(),e=h.done,!e;f=!0){o=h.value,f=!1;const b=o;c.push(b);const w=b.name;if(l[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);l[w]=v}}catch(b){n={error:b}}finally{try{!f&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),JC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await o.callTool({name:s.name,arguments:s.args},void 0,l);n.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gI(t,e,n){const s=new qC;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(s,o),e(s)}class vI{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=bI(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const v=new Promise(I=>{h=I}),b=e.callbacks,w=function(){h({})},E=this.apiClient,A={onopen:w,onmessage:I=>{gI(E,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(s=b==null?void 0:b.onclose)!==null&&s!==void 0?s:function(I){}},R=this.webSocketFactory.create(p,_I(c),A);R.connect(),await v;const P={setup:{model:De(this.apiClient,e.model)}};return R.send(JSON.stringify(P)),new yI(R,this.apiClient)}}class yI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=$R(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=VR(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(sr.PLAY)}pause(){this.sendPlaybackControl(sr.PAUSE)}stop(){this.sendPlaybackControl(sr.STOP)}resetContext(){this.sendPlaybackControl(sr.RESET_CONTEXT)}close(){this.conn.close()}}function _I(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function bI(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function SI(t,e,n){const s=new BC;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const c=JR(l);Object.assign(s,c)}else Object.assign(s,l);e(s)}class EI{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new vI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,o,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&V0(e.config.tools)&&$0(b);const w=AI(b);if(this.apiClient.isVertexAI())v=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,v);else{const z=this.apiClient.getApiKey();let te="BidiGenerateContent",fe="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",fe="access_token"),v=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${te}?${fe}=${z}`}let E=()=>{};const A=new Promise(z=>{E=z}),R=e.callbacks,C=function(){var z;(z=R==null?void 0:R.onopen)===null||z===void 0||z.call(R),E({})},M=this.apiClient,P={onopen:C,onmessage:z=>{SI(M,R.onmessage,z)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(z){},onclose:(s=R==null?void 0:R.onclose)!==null&&s!==void 0?s:function(z){}},I=this.webSocketFactory.create(v,CI(w),P);I.connect(),await A;let U=De(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const z=this.apiClient.getProject(),te=this.apiClient.getLocation();U=`projects/${z}/locations/${te}/`+U}let W={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ml.AUDIO]}:e.config.responseModalities=[ml.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],F=[];for(const z of X)if(this.isCallableTool(z)){const te=z;F.push(await te.tool())}else F.push(z);F.length>0&&(e.config.tools=F);const ae={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=zR(this.apiClient,ae):W=GR(this.apiClient,ae),delete W.config,I.send(JSON.stringify(W)),new TI(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const xI={turnComplete:!0};class TI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=pn(n.turns),e.isVertexAI()||(s=s.map(o=>Rl(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(wI)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},xI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:jR(e)}:n={realtimeInput:FR(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function CI(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function AI(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const by=10;function wy(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(lr(c)){o=!0;break}if(!o)return!0;const l=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function lr(t){return"callTool"in t&&typeof t.callTool=="function"}function RI(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>lr(o)))!==null&&s!==void 0?s:!1}function Sy(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,o)=>{if(lr(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function Ey(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NI extends ti{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,o,l,c,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!RI(n)||wy(n.config))return await this.generateContentInternal(p);const h=Sy(n);if(h.length>0){const R=h.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let v,b;const w=pn(p.contents),E=(l=(o=(s=p.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:by;let A=0;for(;A<E&&(v=await this.generateContentInternal(p),!(!v.functionCalls||v.functionCalls.length===0));){const R=v.candidates[0].content,C=[];for(const M of(f=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(lr(M)){const I=await M.callTool(v.functionCalls);C.push(...I)}A++,b={role:"user",parts:C},p.contents=pn(p.contents),p.contents.push(R),p.contents.push(b),Ey(p.config)&&(w.push(R),w.push(b))}return Ey(p.config)&&(v.automaticFunctionCallingHistory=w),v},this.generateContentStream=async n=>{var s,o,l,c,f;if(this.maybeMoveToResponseJsonSchem(n),wy(n.config)){const b=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(b)}const p=Sy(n);if(p.length>0){const b=p.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(l=(o=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(f=(c=n==null?void 0:n.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var o;let l;const c=[];if(s!=null&&s.generatedImages)for(const p of s.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:c.push(p);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},f}),this.list=async n=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new as(Zn.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var s,o,l,c,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async p=>lr(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&V0(e.config.tools)){const p=(o=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),$0(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var n,s,o;const l=new Map;for(const c of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(lr(c)){const f=c,p=await f.tool();for(const h of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,f)}}return l}async processAfcStream(e){var n,s,o;const l=(o=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:by;let c=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(h,v,b){return xn(this,arguments,function*(){for(var w,E,A,R,C,M;f<l;){c&&(f++,c=!1);const W=yield be(h.processParamsMaybeAddMcpUsage(b)),X=yield be(h.generateContentStreamInternal(W)),F=[],ae=[];try{for(var P=!0,I=(E=void 0,Tn(X)),U;U=yield be(I.next()),w=U.done,!w;P=!0){R=U.value,P=!1;const z=R;if(yield yield be(z),z.candidates&&(!((C=z.candidates[0])===null||C===void 0)&&C.content)){ae.push(z.candidates[0].content);for(const te of(M=z.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(f<l&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(te.functionCall.name)){const fe=yield be(v.get(te.functionCall.name).callTool([te.functionCall]));F.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(z){E={error:z}}finally{try{!P&&!w&&(A=I.return)&&(yield be(A.call(I)))}finally{if(E)throw E.error}}if(F.length>0){c=!0;const z=new fo;z.candidates=[{content:{role:"user",parts:F}}],yield yield be(z);const te=[];te.push(...ae),te.push({role:"user",parts:F});const fe=pn(b.contents).concat(te);b.contents=fe}else break}})})(this,p,e)}async generateContentInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=gy(this.apiClient,e);return f=oe("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=yy(v),w=new fo;return Object.assign(w,b),w})}else{const h=my(this.apiClient,e);return f=oe("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=vy(v),w=new fo;return Object.assign(w,b),w})}}async generateContentStreamInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=gy(this.apiClient,e);return f=oe("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(b){return xn(this,arguments,function*(){var w,E,A,R;try{for(var C=!0,M=Tn(b),P;P=yield be(M.next()),w=P.done,!w;C=!0){R=P.value,C=!1;const I=R,U=yy(yield be(I.json()));U.sdkHttpResponse={headers:I.headers};const W=new fo;Object.assign(W,U),yield yield be(W)}}catch(I){E={error:I}}finally{try{!C&&!w&&(A=M.return)&&(yield be(A.call(M)))}finally{if(E)throw E.error}}})})}else{const h=my(this.apiClient,e);return f=oe("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(b){return xn(this,arguments,function*(){var w,E,A,R;try{for(var C=!0,M=Tn(b),P;P=yield be(M.next()),w=P.done,!w;C=!0){R=P.value,C=!1;const I=R,U=vy(yield be(I.json()));U.sdkHttpResponse={headers:I.headers};const W=new fo;Object.assign(W,U),yield yield be(W)}}catch(I){E={error:I}}finally{try{!C&&!w&&(A=M.return)&&(yield be(A.call(M)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=EN(this.apiClient,e);return f=oe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=TN(v),w=new Qv;return Object.assign(w,b),w})}else{const h=SN(this.apiClient,e);return f=oe("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=xN(v),w=new Qv;return Object.assign(w,b),w})}}async generateImagesInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=PN(this.apiClient,e);return f=oe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=BN(v),w=new Zv;return Object.assign(w,b),w})}else{const h=ON(this.apiClient,e);return f=oe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=LN(v),w=new Zv;return Object.assign(w,b),w})}}async editImageInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=yN(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),o.then(p=>{const h=_N(p),v=new AC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=P1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),o.then(p=>{const h=L1(p),v=new RC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=v1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=y1(p),v=new NC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=x1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=T1(p),v=new IC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=t1(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Ld(v))}else{const h=e1(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Pd(v))}}async listInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=c1(this.apiClient,e);return f=oe("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=f1(v),w=new ey;return Object.assign(w,b),w})}else{const h=u1(this.apiClient,e);return f=oe("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=d1(v),w=new ey;return Object.assign(w,b),w})}}async update(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=U1(this.apiClient,e);return f=oe("{model}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Ld(v))}else{const h=D1(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Pd(v))}}async delete(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=pN(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=gN(v),w=new ty;return Object.assign(w,b),w})}else{const h=hN(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=mN(v),w=new ty;return Object.assign(w,b),w})}}async countTokens(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=cN(this.apiClient,e);return f=oe("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=fN(v),w=new ny;return Object.assign(w,b),w})}else{const h=uN(this.apiClient,e);return f=oe("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=dN(v),w=new ny;return Object.assign(w,b),w})}}async computeTokens(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=nN(this.apiClient,e);return l=oe("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),o.then(p=>{const h=iN(p),v=new MC;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=$N(this.apiClient,e);return f=oe("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const b=zN(v),w=new gl;return Object.assign(w,b),w})}else{const h=VN(this.apiClient,e);return f=oe("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const b=GN(v),w=new gl;return Object.assign(w,b),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class II extends ti{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=wC(e);return f=oe("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const h=bC(e);return f=oe("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=hC(e);return l=oe("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MI(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function kI(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>GI(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function DI(t,e,n){const s={},o=d(e,["expireTime"]);n!==void 0&&o!=null&&m(n,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&m(n,["newSessionExpireTime"],l);const c=d(e,["uses"]);n!==void 0&&c!=null&&m(n,["uses"],c);const f=d(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],HI(t,f));const p=d(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),s}function UI(t,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],DI(t,s,n)),n}function OI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function PI(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function BI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function qI(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig"],s);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],df(b));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],kI(Ct(A)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let X=dr(R);Array.isArray(X)&&(X=X.map(F=>VI(cr(F)))),m(e,["setup","tools"],X)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],zI(C));const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","inputAudioTranscription"],M);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],P);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const U=d(t,["contextWindowCompression"]);e!==void 0&&U!=null&&m(e,["setup","contextWindowCompression"],U);const W=d(t,["proactivity"]);if(e!==void 0&&W!=null&&m(e,["setup","proactivity"],W),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function HI(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],De(t,s));const o=d(e,["config"]);return o!=null&&m(n,["config"],qI(o,n)),n}function GI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],OI(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],PI(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],MI(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function zI(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function VI(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),m(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],LI(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],BI(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $I(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function FI(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=$I(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(h=>c.includes(h)?`generationConfig.${h}`:h));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class jI extends ti{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=UI(this.apiClient,e);l=oe("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const p=FI(f,e.config);return o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JI(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&m(e,["_query","force"],s),n}function YI(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&JI(s,e),e}function KI(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function WI(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function XI(t){const e={},n=d(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const s=d(t,["config"]);return s!=null&&WI(s,e),e}function QI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZI extends ti{constructor(e){super(),this.apiClient=e,this.list=async n=>new as(Zn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=KI(e);return l=oe("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=YI(e);o=oe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XI(e);return l=oe("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=QI(p),v=new kC;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eM extends ti{constructor(e,n=new ZI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new as(Zn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=$1(e);return l=oe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J1(e);return l=oe("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=j1(e);o=oe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Z1(e);return l=oe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=eI(p),v=new DC;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=tI(e);return l=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=nI(p),v=new UC;return Object.assign(v,h),v})}}async importFile(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=W1(e);return l=oe("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=K1(p),v=new of;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let F0=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return F0=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const tM=()=>F0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Hd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mn extends Error{}class It extends mn{constructor(e,n,s,o){super(`${It.makeMessage(e,n,s)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,s,o){if(!e||!o)return new Ml({message:s,cause:Hd(n)});const l=n;return e===400?new J0(e,l,s,o):e===401?new Y0(e,l,s,o):e===403?new K0(e,l,s,o):e===404?new W0(e,l,s,o):e===409?new X0(e,l,s,o):e===422?new Q0(e,l,s,o):e===429?new Z0(e,l,s,o):e>=500?new e_(e,l,s,o):new It(e,l,s,o)}}class Gd extends It{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ml extends It{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class j0 extends Ml{constructor({message:e}={}){super({message:e??"Request timed out."})}}class J0 extends It{}class Y0 extends It{}class K0 extends It{}class W0 extends It{}class X0 extends It{}class Q0 extends It{}class Z0 extends It{}class e_ extends It{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nM=/^[a-z][a-z0-9+.-]*:/i,iM=t=>nM.test(t);let zd=t=>(zd=Array.isArray,zd(t));const sM=zd;let rM=sM;const xy=rM;function oM(t){if(!t)return!0;for(const e in t)return!1;return!0}function aM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const lM=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new mn(`${t} must be an integer`);if(e<0)throw new mn(`${t} must be a positive integer`);return e},uM=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cM=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dM(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const fM=()=>{var t,e,n,s,o;const l=dM();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":Cy(Deno.build.os),"X-Stainless-Arch":Ty(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":Cy((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Ty((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const c=hM();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hM(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,l=s[2]||0,c=s[3]||0;return{browser:e,version:`${o}.${l}.${c}`}}}return null}const Ty=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Cy=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Za;const pM=()=>Za??(Za=fM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function t_(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function gM(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return t_({start(){},async pull(n){const{done:s,value:o}=await e.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function n_(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vM(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const s=t.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yM=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i_=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function md(t,e,n){return i_(),new File(t,e??"unknown_file",n)}function _M(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const bM=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s_=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",wM=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&s_(t),SM=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function EM(t,e,n){if(i_(),t=await t,wM(t))return t instanceof File?t:md([await t.arrayBuffer()],t.name);if(SM(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),md(await Vd(o),e,n)}const s=await Vd(t);if(e||(e=_M(t)),!(n!=null&&n.type)){const o=s.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return md(s,e,n)}async function Vd(t){var e,n,s,o,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(s_(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(bM(t))try{for(var f=!0,p=Tn(t),h;h=await p.next(),e=h.done,!e;f=!0){o=h.value,f=!1;const v=o;c.push(...await Vd(v))}}catch(v){n={error:v}}finally{try{!f&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const v=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${xM(t)}`)}return c}function xM(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r_{constructor(e){this._client=e}}r_._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o_(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ay=Object.freeze(Object.create(null)),TM=(t=o_)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const l=[],c=n.reduce((v,b,w)=>{var E,A,R;/[?#]/.test(b)&&(o=!0);const C=s[w];let M=(o?encodeURIComponent:t)(""+C);return w!==s.length&&(C==null||typeof C=="object"&&C.toString===((R=Object.getPrototypeOf((A=Object.getPrototypeOf((E=C.hasOwnProperty)!==null&&E!==void 0?E:Ay))!==null&&A!==void 0?A:Ay))===null||R===void 0?void 0:R.toString))&&(M=C+"",l.push({start:v.length+b.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),v+b+(w===s.length?"":M)},""),f=c.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)l.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(l.sort((v,b)=>v.start-b.start),l.length>0){let v=0;const b=l.reduce((w,E)=>{const A=" ".repeat(E.start-v),R="^".repeat(E.length);return v=E.start+E.length,w+A+R},"");throw new mn(`Path parameters result in path with invalid segments:
${l.map(w=>w.error).join(`
`)}
${c}
${b}`)}return c}),el=TM(o_);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_ extends r_{create(e,n){var s;const{api_version:o=this._client.apiVersion}=e,l=yl(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new mn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new mn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(el`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(el`/${o}/interactions/${e}`,s)}cancel(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(el`/${o}/interactions/${e}/cancel`,s)}get(e,n={},s){var o;const l=n??{},{api_version:c=this._client.apiVersion}=l,f=yl(l,["api_version"]);return this._client.get(el`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}a_._key=Object.freeze(["interactions"]);class l_ extends a_{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CM(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let s=0;for(const o of t)n.set(o,s),s+=o.length;return n}let tl;function hf(t){let e;return(tl??(e=new globalThis.TextEncoder,tl=e.encode.bind(e)))(t)}let nl;function Ry(t){let e;return(nl??(e=new globalThis.TextDecoder,nl=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?hf(e):e;this.buffer=CM([this.buffer,n]);const s=[];let o;for(;(o=AM(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(Ry(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,c=Ry(this.buffer.subarray(0,l));s.push(c),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}kl.NEWLINE_CHARS=new Set([`
`,"\r"]);kl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function AM(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function RM(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _l={off:0,error:200,warn:300,info:400,debug:500},Ny=(t,e,n)=>{if(t){if(aM(_l,t))return t;Nt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(_l))}`)}};function mo(){}function il(t,e,n){return!e||_l[t]>_l[n]?mo:e[t].bind(e)}const NM={error:mo,warn:mo,info:mo,debug:mo};let Iy=new WeakMap;function Nt(t){var e;const n=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return NM;const o=Iy.get(n);if(o&&o[0]===s)return o[1];const l={error:il("error",n,s),warn:il("warn",n,s),info:il("info",n,s),debug:il("debug",n,s)};return Iy.set(n,[s,l]),l}const ts=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rr{constructor(e,n,s){this.iterator=e,this.controller=n,this.client=s}static fromSSEResponse(e,n,s){let o=!1;const l=s?Nt(s):console;function c(){return xn(this,arguments,function*(){var p,h,v,b;if(o)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let w=!1;try{try{for(var E=!0,A=Tn(IM(e,n)),R;R=yield be(A.next()),p=R.done,!p;E=!0){b=R.value,E=!1;const C=b;if(!w)if(C.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield be(JSON.parse(C.data))}catch(M){throw l.error("Could not parse message into JSON:",C.data),l.error("From chunk:",C.raw),M}}}catch(C){h={error:C}}finally{try{!E&&!p&&(v=A.return)&&(yield be(v.call(A)))}finally{if(h)throw h.error}}w=!0}catch(C){if(qd(C))return yield be(void 0);throw C}finally{w||n.abort()}})}return new rr(c,n,s)}static fromReadableStream(e,n,s){let o=!1;function l(){return xn(this,arguments,function*(){var p,h,v,b;const w=new kl,E=n_(e);try{for(var A=!0,R=Tn(E),C;C=yield be(R.next()),p=C.done,!p;A=!0){b=C.value,A=!1;const M=b;for(const P of w.decode(M))yield yield be(P)}}catch(M){h={error:M}}finally{try{!A&&!p&&(v=R.return)&&(yield be(v.call(R)))}finally{if(h)throw h.error}}for(const M of w.flush())yield yield be(M)})}function c(){return xn(this,arguments,function*(){var p,h,v,b;if(o)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let w=!1;try{try{for(var E=!0,A=Tn(l()),R;R=yield be(A.next()),p=R.done,!p;E=!0){b=R.value,E=!1;const C=b;w||C&&(yield yield be(JSON.parse(C)))}}catch(C){h={error:C}}finally{try{!E&&!p&&(v=A.return)&&(yield be(v.call(A)))}finally{if(h)throw h.error}}w=!0}catch(C){if(qd(C))return yield be(void 0);throw C}finally{w||n.abort()}})}return new rr(c,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),o=l=>({next:()=>{if(l.length===0){const c=s.next();e.push(c),n.push(c)}return l.shift()}});return[new rr(()=>o(e),this.controller,this.client),new rr(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return t_({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:l}=await n.next();if(l)return s.close();const c=hf(JSON.stringify(o)+`
`);s.enqueue(c)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function IM(t,e){return xn(this,arguments,function*(){var s,o,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mn("Attempted to iterate over a response with no body");const f=new kM,p=new kl,h=n_(t.body);try{for(var v=!0,b=Tn(MM(h)),w;w=yield be(b.next()),s=w.done,!s;v=!0){c=w.value,v=!1;const E=c;for(const A of p.decode(E)){const R=f.decode(A);R&&(yield yield be(R))}}}catch(E){o={error:E}}finally{try{!v&&!s&&(l=b.return)&&(yield be(l.call(b)))}finally{if(o)throw o.error}}for(const E of p.flush()){const A=f.decode(E);A&&(yield yield be(A))}})}function MM(t){return xn(this,arguments,function*(){var n,s,o,l;let c=new Uint8Array;try{for(var f=!0,p=Tn(t),h;h=yield be(p.next()),n=h.done,!n;f=!0){l=h.value,f=!1;const v=l;if(v==null)continue;const b=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?hf(v):v;let w=new Uint8Array(c.length+b.length);w.set(c),w.set(b,c.length),c=w;let E;for(;(E=RM(c))!==-1;)yield yield be(c.slice(0,E)),c=c.slice(E)}}catch(v){s={error:v}}finally{try{!f&&!n&&(o=p.return)&&(yield be(o.call(p)))}finally{if(s)throw s.error}}c.length>0&&(yield yield be(c))})}class kM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,o]=DM(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function DM(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function UM(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:l}=e,c=await(async()=>{var f;if(e.options.stream)return Nt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):rr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),h=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return Nt(t).debug(`[${s}] response parsed`,ts({retryOfRequestLogID:o,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pf extends Promise{constructor(e,n,s=UM){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new pf(this.client,this.responsePromise,async(n,s)=>e(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u_=Symbol("brand.privateNullableHeaders");function*OM(t){if(!t)return;if(u_ in t){const{values:s,nulls:o}=t;yield*s.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():xy(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=xy(s[1])?s[1]:[s[1]];let c=!1;for(const f of l)f!==void 0&&(e&&!c&&(c=!0,yield[o,null]),yield[o,f])}}const ho=t=>{const e=new Headers,n=new Set;for(const s of t){const o=new Set;for(const[l,c]of OM(s)){const f=l.toLowerCase();o.has(f)||(e.delete(l),o.add(f)),c===null?(e.delete(l),n.add(f)):(e.append(l,c),n.delete(f))}}return{[u_]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gd=t=>{var e,n,s,o,l,c;if(typeof globalThis.process<"u")return(s=(n=(e=aC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var c_;class Dl{constructor(e){var n,s,o,l,c,f,p,{baseURL:h=gd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=gd("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:b="v1beta"}=e,w=yl(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:v,apiVersion:b},w),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:Dl.DEFAULT_TIMEOUT,this.logger=(o=E.logger)!==null&&o!==void 0?o:console;const A="warn";this.logLevel=A,this.logLevel=(c=(l=Ny(E.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Ny(gd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:A,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=E.fetch)!==null&&p!==void 0?p:mM(),this.encoder=yM,this._options=E,this.apiKey=v,this.apiVersion=b,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=ho([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ho([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ho([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new mn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${nr}`}defaultIdempotencyKey(){return`stainless-node-retry-${tM()}`}makeStatusError(e,n,s,o){return It.generate(e,n,s,o)}buildURL(e,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,l=iM(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return oM(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new pf(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){var o,l,c;const f=await e,p=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:h,url:v,timeout:b}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(h,{url:v,options:f});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,A=Date.now();if(Nt(this).debug(`[${w}] sending request`,ts({retryOfRequestLogID:s,method:f.method,url:v,options:f,headers:h.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new Gd;const R=new AbortController,C=await this.fetchWithTimeout(v,h,b,R).catch(Hd),M=Date.now();if(C instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new Gd;const U=qd(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Nt(this).info(`[${w}] connection ${U?"timed out":"failed"} - ${I}`),Nt(this).debug(`[${w}] connection ${U?"timed out":"failed"} (${I})`,ts({retryOfRequestLogID:s,url:v,durationMs:M-A,message:C.message})),this.retryRequest(f,n,s??w);throw Nt(this).info(`[${w}] connection ${U?"timed out":"failed"} - error; no more retries left`),Nt(this).debug(`[${w}] connection ${U?"timed out":"failed"} (error; no more retries left)`,ts({retryOfRequestLogID:s,url:v,durationMs:M-A,message:C.message})),U?new j0:new Ml({cause:C})}const P=`[${w}${E}] ${h.method} ${v} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${M-A}ms`;if(!C.ok){const I=await this.shouldRetry(C);if(n&&I){const z=`retrying, ${n} attempts remaining`;return await vM(C.body),Nt(this).info(`${P} - ${z}`),Nt(this).debug(`[${w}] response error (${z})`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,durationMs:M-A})),this.retryRequest(f,n,s??w,C.headers)}const U=I?"error; no more retries left":"error; not retryable";Nt(this).info(`${P} - ${U}`);const W=await C.text().catch(z=>Hd(z).message),X=uM(W),F=X?void 0:W;throw Nt(this).debug(`[${w}] response error (${U})`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,message:F,durationMs:Date.now()-A})),this.makeStatusError(C.status,X,F,C.headers)}return Nt(this).info(P),Nt(this).debug(`[${w}] response start`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,durationMs:M-A})),{response:C,options:f,controller:R,requestLogID:w,retryOfRequestLogID:s,startTime:A}}async fetchWithTimeout(e,n,s,o){const l=n||{},{signal:c,method:f}=l,p=yl(l,["signal","method"]);c&&c.addEventListener("abort",()=>o.abort());const h=setTimeout(()=>o.abort(),s),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);f&&(b.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,o){var l;let c;const f=o==null?void 0:o.get("retry-after-ms");if(f){const h=parseFloat(f);Number.isNaN(h)||(c=h)}const p=o==null?void 0:o.get("retry-after");if(p&&!c){const h=parseFloat(p);Number.isNaN(h)?c=Date.parse(p)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,h)}return await cM(c),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,c=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var s,o,l;const c=Object.assign({},e),{method:f,path:p,query:h,defaultBaseURL:v}=c,b=this.buildURL(p,h,v);"timeout"in c&&lM("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:w,body:E}=this.buildBody({options:c}),A=await this.buildHeaders({options:e,method:f,bodyHeaders:w,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:A},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:b,timeout:c.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let f=ho([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),pM()),this._options.defaultHeaders,s,e.headers,c]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=ho([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:gM(e)}:this.encoder({body:e,headers:s})}}Dl.DEFAULT_TIMEOUT=6e4;class gt extends Dl{constructor(){super(...arguments),this.interactions=new l_(this)}}c_=gt;gt.GeminiNextGenAPIClient=c_;gt.GeminiNextGenAPIClientError=mn;gt.APIError=It;gt.APIConnectionError=Ml;gt.APIConnectionTimeoutError=j0;gt.APIUserAbortError=Gd;gt.NotFoundError=W0;gt.ConflictError=X0;gt.RateLimitError=Z0;gt.BadRequestError=J0;gt.AuthenticationError=Y0;gt.InternalServerError=e_;gt.PermissionDeniedError=K0;gt.UnprocessableEntityError=Q0;gt.toFile=EM;gt.Interactions=l_;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PM(t,e){const n={},s=d(t,["name"]);return s!=null&&m(n,["_url","name"],s),n}function LM(t,e){const n={},s=d(t,["name"]);return s!=null&&m(n,["_url","name"],s),n}function BM(t,e){const n={},s=d(t,["sdkHttpResponse"]);return s!=null&&m(n,["sdkHttpResponse"],s),n}function qM(t,e){const n={},s=d(t,["sdkHttpResponse"]);return s!=null&&m(n,["sdkHttpResponse"],s),n}function HM(t,e,n){const s={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&m(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function GM(t,e,n){const s={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec"],My(E))}else if(o==="PREFERENCE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec"],My(E))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&m(e,["description"],c);let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(f==="PREFERENCE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let p=d(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(p==="PREFERENCE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let h=d(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(h==="PREFERENCE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let v=d(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(v==="PREFERENCE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(t,["labels"]);e!==void 0&&b!=null&&m(e,["labels"],b);const w=d(t,["beta"]);return e!==void 0&&w!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),s}function zM(t,e){const n={},s=d(t,["baseModel"]);s!=null&&m(n,["baseModel"],s);const o=d(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&ZM(l);const c=d(t,["config"]);return c!=null&&HM(c,n),n}function VM(t,e){const n={},s=d(t,["baseModel"]);s!=null&&m(n,["baseModel"],s);const o=d(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&ek(l,n,e);const c=d(t,["config"]);return c!=null&&GM(c,n,e),n}function $M(t,e){const n={},s=d(t,["name"]);return s!=null&&m(n,["_url","name"],s),n}function FM(t,e){const n={},s=d(t,["name"]);return s!=null&&m(n,["_url","name"],s),n}function jM(t,e,n){const s={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),s}function JM(t,e,n){const s={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),s}function YM(t,e){const n={},s=d(t,["config"]);return s!=null&&jM(s,n),n}function KM(t,e){const n={},s=d(t,["config"]);return s!=null&&JM(s,n),n}function WM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>d_(f))),m(n,["tuningJobs"],c)}return n}function XM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>$d(f))),m(n,["tuningJobs"],c)}return n}function QM(t,e){const n={},s=d(t,["name"]);s!=null&&m(n,["model"],s);const o=d(t,["name"]);return o!=null&&m(n,["endpoint"],o),n}function ZM(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=d(t,["examples"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),m(n,["examples","examples"],o)}return n}function ek(t,e,n){const s={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function d_(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&m(n,["name"],o);const l=d(t,["state"]);l!=null&&m(n,["state"],A0(l));const c=d(t,["createTime"]);c!=null&&m(n,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const v=d(t,["description"]);v!=null&&m(n,["description"],v);const b=d(t,["baseModel"]);b!=null&&m(n,["baseModel"],b);const w=d(t,["_self"]);return w!=null&&m(n,["tunedModel"],QM(w)),n}function $d(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&m(n,["name"],o);const l=d(t,["state"]);l!=null&&m(n,["state"],A0(l));const c=d(t,["createTime"]);c!=null&&m(n,["createTime"],c);const f=d(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const v=d(t,["error"]);v!=null&&m(n,["error"],v);const b=d(t,["description"]);b!=null&&m(n,["description"],b);const w=d(t,["baseModel"]);w!=null&&m(n,["baseModel"],w);const E=d(t,["tunedModel"]);E!=null&&m(n,["tunedModel"],E);const A=d(t,["preTunedModel"]);A!=null&&m(n,["preTunedModel"],A);const R=d(t,["supervisedTuningSpec"]);R!=null&&m(n,["supervisedTuningSpec"],R);const C=d(t,["preferenceOptimizationSpec"]);C!=null&&m(n,["preferenceOptimizationSpec"],C);const M=d(t,["tuningDataStats"]);M!=null&&m(n,["tuningDataStats"],M);const P=d(t,["encryptionSpec"]);P!=null&&m(n,["encryptionSpec"],P);const I=d(t,["partnerModelTuningSpec"]);I!=null&&m(n,["partnerModelTuningSpec"],I);const U=d(t,["customBaseModel"]);U!=null&&m(n,["customBaseModel"],U);const W=d(t,["experiment"]);W!=null&&m(n,["experiment"],W);const X=d(t,["labels"]);X!=null&&m(n,["labels"],X);const F=d(t,["outputUri"]);F!=null&&m(n,["outputUri"],F);const ae=d(t,["pipelineJob"]);ae!=null&&m(n,["pipelineJob"],ae);const z=d(t,["serviceAccount"]);z!=null&&m(n,["serviceAccount"],z);const te=d(t,["tunedModelDisplayName"]);te!=null&&m(n,["tunedModelDisplayName"],te);const fe=d(t,["veoTuningSpec"]);return fe!=null&&m(n,["veoTuningSpec"],fe),n}function tk(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&m(n,["name"],o);const l=d(t,["metadata"]);l!=null&&m(n,["metadata"],l);const c=d(t,["done"]);c!=null&&m(n,["done"],c);const f=d(t,["error"]);return f!=null&&m(n,["error"],f),n}function My(t,e){const n={},s=d(t,["gcsUri"]);s!=null&&m(n,["validationDatasetUri"],s);const o=d(t,["vertexDatasetResource"]);return o!=null&&m(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nk extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:kd.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=FM(e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>$d(v))}else{const h=$M(e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>d_(v))}}async listInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=KM(e);return f=oe("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=XM(v),w=new iy;return Object.assign(w,b),w})}else{const h=YM(e);return f=oe("tunedModels",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=WM(v),w=new iy;return Object.assign(w,b),w})}}async cancel(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=LM(e);return f=oe("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=qM(v),w=new sy;return Object.assign(w,b),w})}else{const h=PM(e);return f=oe("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:v.headers},w})),c.then(v=>{const b=BM(v),w=new sy;return Object.assign(w,b),w})}}async tuneInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=VM(e,e);return l=oe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),o.then(p=>$d(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=zM(e);return l=oe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),o.then(p=>tk(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ik{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sk=1024*1024*8,rk=3,ok=1e3,ak=2,bl="x-goog-upload-status";async function lk(t,e,n){var s;const o=await f_(t,e,n),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[bl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function uk(t,e,n){var s;const o=await f_(t,e,n),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[bl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=w0(l),f=new af;return Object.assign(f,c),f}async function f_(t,e,n){var s,o;let l=0,c=0,f=new Dd(new Response),p="upload";for(l=t.size;c<l;){const h=Math.min(sk,l-c),v=t.slice(c,c+h);c+h>=l&&(p+=", finalize");let b=0,w=ok;for(;b<rk&&(f=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((s=f==null?void 0:f.headers)===null||s===void 0)&&s[bl]));)b++,await dk(w),w=w*ak;if(c+=h,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[bl])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function ck(t){return{size:t.size,type:t.type}}function dk(t){return new Promise(e=>setTimeout(e,t))}class fk{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lk(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uk(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ck(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hk{create(e,n,s){return new pk(e,n,s)}}class pk{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ky="x-goog-api-key";class mk{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(ky)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ky,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gk="gl-node/";class vk{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=dC(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new mk(this.apiKey);this.apiClient=new cI({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:gk+"web",uploader:new fk,downloader:new ik}),this.models=new NI(this.apiClient),this.live=new EI(this.apiClient,o,new hk),this.batches=new HA(this.apiClient),this.chats=new wR(this.models,this.apiClient),this.caches=new yR(this.apiClient),this.files=new MR(this.apiClient),this.operations=new II(this.apiClient),this.authTokens=new jI(this.apiClient),this.tunings=new nk(this.apiClient),this.fileSearchStores=new eM(this.apiClient)}}const h_=new vk({apiKey:"PLACEHOLDER_API_KEY"}),p_="talia_translations_cache",mf=()=>{const t=sessionStorage.getItem(p_);return t?JSON.parse(t):{}},m_=(t,e)=>{const n=mf();n[t]=e,sessionStorage.setItem(p_,JSON.stringify(n))},wl=async(t,e)=>{if(e===ee.AR||t.length===0)return t;const n=mf(),s=[],o=[];if(t.forEach(l=>{n[l.id]?o.push({...l,name:n[l.id].name,description:n[l.id].description}):s.push({id:l.id,name:l.name,description:l.description})}),s.length===0)return o;try{const l=`Translate the following Arabic fashion product details to elegant English for a luxury store. 
    Maintain the tone of "TaliaMode7" (luxury, sophisticated). 
    Return the result ONLY as a JSON array of objects with "id", "name", and "description" fields.
    
    Data: ${JSON.stringify(s)}`,c=await h_.models.generateContent({model:"gemini-3-flash-preview",contents:l,config:{responseMimeType:"application/json"}}),f=JSON.parse(c.text||"[]");return t.map(h=>{const v=f.find(w=>w.id===h.id);return v?(m_(h.id,v),{...h,name:v.name,description:v.description}):o.find(w=>w.id===h.id)||h})}catch(l){return console.error("AI Translation Error:",l),t.map(c=>o.find(p=>p.id===c.id)||c)}},yk=async(t,e)=>{if(e===ee.AR)return t;const n=mf();if(n[t.id])return{...t,name:n[t.id].name,description:n[t.id].description};try{const s=`Translate this Arabic fashion product to elegant luxury English.
    Name: ${t.name}
    Description: ${t.description}
    Return ONLY JSON: {"name": "...", "description": "..."}`,o=await h_.models.generateContent({model:"gemini-3-flash-preview",contents:s,config:{responseMimeType:"application/json"}}),l=JSON.parse(o.text||"{}");return l.name&&m_(t.id,{id:t.id,...l}),{...t,name:l.name||t.name,description:l.description||t.description}}catch(s){return console.error("AI Translation Error:",s),t}},_k=()=>{const{language:t,t:e}=Mt(),[n,s]=D.useState([]),[o,l]=D.useState([]),[c,f]=D.useState(!0);D.useEffect(()=>{(async()=>{f(!0);const{data:v}=await Oe.from("products").select("*").eq("is_new",!0).limit(20),{data:b}=await Oe.from("products").select("*").eq("is_best_seller",!0).limit(8);let w=v||[],E=b||[];t===ee.EN&&(w=await wl(w,ee.EN),E=await wl(E,ee.EN)),s(w),l(E),f(!1)})()},[t]);const p=()=>_.jsx(_.Fragment,{children:Array(6).fill(0).map((h,v)=>_.jsxs("div",{className:"min-w-[160px] w-[42%] md:w-auto md:min-w-0 snap-center",children:[_.jsx("div",{className:"aspect-[3/4] bg-gray-100 animate-pulse rounded-2xl border border-gray-100"}),_.jsx("div",{className:"mt-3 h-3 bg-gray-100 animate-pulse rounded w-3/4 mx-auto"}),_.jsx("div",{className:"mt-2 h-3 bg-gray-100 animate-pulse rounded w-1/2 mx-auto"})]},v))});return _.jsxs("div",{className:"animate-[fadeIn_0.5s_ease-out]",children:[_.jsx(CE,{}),_.jsxs("section",{className:"py-10 md:py-20 container mx-auto px-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 px-1 md:px-0",children:[_.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:e.newArrivals}),_.jsx($e,{to:"/products",className:"text-blush text-sm md:text-base font-bold hover:underline",children:t===ee.AR?" "+e.allProducts:e.allProducts+" "})]}),_.jsx("div",{className:"flex overflow-x-auto pb-8 -mx-4 px-4 gap-4 snap-x snap-mandatory scroll-pl-4 scroll-smooth md:grid md:grid-cols-4 lg:grid-cols-6 md:gap-6 md:pb-0 md:mx-0 md:px-0 no-scrollbar md:overflow-visible",children:c?_.jsx(p,{}):n.map(h=>_.jsx("div",{className:"min-w-[160px] w-[42%] md:w-auto md:min-w-0 snap-start flex-shrink-0",children:_.jsx(dl,{product:h})},h.id))})]}),_.jsxs("section",{className:"py-12 md:py-20 container mx-auto px-4 mb-10 md:mb-20 bg-pearl/50 md:bg-gray-50/50 md:rounded-[3rem] border-t border-gold/5 md:border-none",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-10 px-1 md:px-0",children:[_.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:e.bestSellers}),_.jsx($e,{to:"/category/  ",className:"text-blush text-sm md:text-base font-bold hover:underline",children:t===ee.AR?" "+e.allProducts:e.allProducts+" "})]}),_.jsx("div",{className:"flex overflow-x-auto pb-8 -mx-4 px-4 gap-4 snap-x snap-mandatory scroll-pl-4 scroll-smooth md:grid md:grid-cols-4 md:gap-6 md:pb-0 md:mx-0 md:px-0 no-scrollbar md:overflow-visible",children:c?_.jsx(p,{}):o.map(h=>_.jsx("div",{className:"min-w-[160px] w-[42%] md:w-auto md:min-w-0 snap-start flex-shrink-0",children:_.jsx(dl,{product:h})},h.id))})]})]})},Dy=()=>{const{category:t}=Ky(),[e]=vE(),n=e.get("search"),[s,o]=D.useState([]),[l,c]=D.useState(!0),{language:f,t:p}=Mt();D.useEffect(()=>{(async()=>{c(!0);let b=Oe.from("products").select("*");if(t){const R=decodeURIComponent(t);R===""?b=b.eq("is_new",!0):R==="  "||R==="  "?b=b.eq("is_best_seller",!0):R!=="all"&&R!==""&&(b=b.contains("categories",[R]))}n&&(b=b.ilike("name",`%${n}%`));const{data:w,error:E}=await b.order("created_at",{ascending:!1});let A=w||[];f===ee.EN&&A.length>0&&(A=await wl(A,ee.EN)),o(A),c(!1)})()},[t,n,f]);const h=t?p.categories[decodeURIComponent(t)]||decodeURIComponent(t):p.allProducts;return _.jsx("div",{className:"container mx-auto px-4 py-10 animate-[fadeIn_0.5s_ease-out]",children:_.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[_.jsx("aside",{className:"w-full lg:w-72 space-y-8",children:_.jsxs("div",{className:"bg-white p-6 border border-gold/10 shadow-sm sticky top-40 rounded-3xl",children:[_.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-6 border-b border-gold/10 pb-3 text-gold",children:p.categoriesLabel}),_.jsxs("ul",{className:"space-y-1.5 max-h-[60vh] overflow-y-auto no-scrollbar",children:[_.jsx("li",{children:_.jsx($e,{to:"/products",className:`block py-3.5 px-5 text-xs transition-all rounded-2xl ${!t||t==="all"?"bg-champagne text-blush font-bold border-r-4 border-blush shadow-sm":"text-gray-500 hover:bg-champagne/50"}`,children:p.categories.all})},"all"),Qd.map(v=>_.jsx("li",{children:_.jsx($e,{to:`/category/${encodeURIComponent(v)}`,className:`block py-3.5 px-5 text-xs transition-all rounded-2xl ${decodeURIComponent(t||"")===v?"bg-champagne text-blush font-bold border-r-4 border-blush shadow-sm":"text-gray-500 hover:bg-champagne/50"}`,children:p.categories[v]||v})},v))]})]})}),_.jsxs("main",{className:"flex-grow",children:[_.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-gold/5 pb-8",children:[_.jsxs("div",{children:[_.jsxs("nav",{className:"text-[9px] uppercase font-bold tracking-[0.2em] text-gray-400 mb-3 flex items-center gap-2",children:[_.jsx($e,{to:"/",className:"hover:text-blush transition-colors",children:p.backToHome})," ",_.jsx("span",{className:"text-gold/30",children:"/"})," ",_.jsx("span",{children:h})]}),_.jsx("h2",{className:"text-3xl font-bold text-taliaBlack tracking-tight",children:n?`${p.searchPlaceholder}: ${n}`:h})]}),_.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest bg-white border border-gold/10 px-6 py-3 rounded-full shadow-sm",children:[_.jsx("span",{className:"text-blush",children:s.length})," ",p.itemsAvailable]})]}),l?_.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-8",children:Array(6).fill(0).map((v,b)=>_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"aspect-[3/4] bg-white animate-pulse rounded-3xl border border-gold/5"}),_.jsx("div",{className:"h-3 bg-white animate-pulse w-3/4 mx-auto rounded-full"})]},b))}):s.length>0?_.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:s.map(v=>_.jsx(dl,{product:v},v.id))}):_.jsxs("div",{className:"py-32 text-center space-y-8 bg-white/40 border-2 border-dashed border-gold/10 rounded-[3rem] animate-fadeIn",children:[_.jsx("div",{className:"flex justify-center",children:_.jsx("div",{className:"w-20 h-20 bg-champagne rounded-full flex items-center justify-center text-gold/40",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0a2 2 0 01-2 2H6a2 2 0 01-2-2m16 0l-8 8-8-8"})})})}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("p",{className:"text-gray-400 text-lg font-medium tracking-wide",children:f===ee.AR?"     .":"Sorry, no products available currently."}),_.jsx($e,{to:"/products",className:"inline-block bg-blush text-white px-10 py-4 rounded-full font-bold text-[10px] uppercase tracking-widest hover:bg-taliaBlack transition-all shadow-xl",children:p.allProducts})]})]})]})]})})},bk=({isOpen:t,onClose:e})=>{const{language:n,t:s}=Mt();if(!t)return null;const o=[{size:"XS",chest:"8084",waist:"6468",hips:"8892"},{size:"S",chest:"8488",waist:"6872",hips:"9296"},{size:"M",chest:"8892",waist:"7276",hips:"96100"},{size:"L",chest:"9296",waist:"7680",hips:"100104"},{size:"XL",chest:"96100",waist:"8084",hips:"104108"},{size:"XXL",chest:"100104",waist:"8488",hips:"108112"}];return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-taliaBlack/60 backdrop-blur-sm animate-[fadeIn_0.3s_ease-out]",onClick:e,children:_.jsxs("div",{className:"bg-pearl w-full max-w-2xl shadow-2xl border border-gold/20 overflow-hidden relative animate-[reveal_0.4s_ease-out]",onClick:l=>l.stopPropagation(),children:[_.jsx("button",{onClick:e,className:`absolute top-4 ${n===ee.AR?"left-4":"right-4"} text-gray-400 hover:text-blush transition-colors p-2 z-10`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),_.jsxs("div",{className:"p-8",children:[_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 mb-6 text-center",children:s.sizeGuide}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-center border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-blush/10 text-blush font-bold text-sm",children:[_.jsx("th",{className:"p-3 border border-gold/10",children:s.size}),_.jsx("th",{className:"p-3 border border-gold/10",children:n===ee.AR?"":"Chest"}),_.jsx("th",{className:"p-3 border border-gold/10",children:n===ee.AR?"":"Waist"}),_.jsx("th",{className:"p-3 border border-gold/10",children:n===ee.AR?"":"Hips"}),_.jsx("th",{className:"p-3 border border-gold/10",children:n===ee.AR?"":"Length"})]})}),_.jsx("tbody",{children:o.map(l=>_.jsxs("tr",{className:"hover:bg-gold/5 transition-colors text-sm font-medium",children:[_.jsx("td",{className:"p-3 border border-gold/10 bg-gray-50/50 font-bold",children:l.size}),_.jsx("td",{className:"p-3 border border-gold/10",children:l.chest}),_.jsx("td",{className:"p-3 border border-gold/10",children:l.waist}),_.jsx("td",{className:"p-3 border border-gold/10",children:l.hips}),_.jsx("td",{className:"p-3 border border-gold/10 text-[10px] text-gray-400",children:n===ee.AR?"  ":"Varies by design"})]},l.size))})]})}),_.jsx("div",{className:"mt-6 p-4 bg-pearl border-l-4 border-r-4 border-blush text-xs text-gray-500 italic leading-relaxed",children:n===ee.AR?"*      (cm).":"* All measurements above are in centimeters (cm)."})]})]})})},wk=()=>{const{id:t}=Ky(),e=Mi(),{addToCart:n}=Ul(),{language:s,t:o}=Mt(),[l,c]=D.useState(null),[f,p]=D.useState(""),[h,v]=D.useState(1),[b,w]=D.useState(!0),[E,A]=D.useState(0),[R,C]=D.useState(!1),[M,P]=D.useState(!1),[I,U]=D.useState(!1),[W,X]=D.useState(!1);if(D.useEffect(()=>{(async()=>{w(!0);const{data:Ye,error:V}=await Oe.from("products").select("*").eq("id",t).single();if(V||!Ye)e("/");else{let Z=Ye;s===ee.EN&&(Z=await yk(Z,ee.EN)),c(Z)}w(!1)})();const Te=JSON.parse(localStorage.getItem("talia_likes")||"[]");C(Te.includes(t))},[t,e,s]),D.useEffect(()=>{f&&(X(!1),v(1))},[f]),b||!l)return _.jsx("div",{className:"min-h-screen flex items-center justify-center font-bold text-blush",children:o.loading});const F=l.sizes.every(se=>se.quantity===0),ae=l.sizes.find(se=>se.size===f),z=ae?ae.quantity:0,te=()=>{if(!f){X(!0),setTimeout(()=>X(!1),3e3);return}U(!0),n(l,f,h),setTimeout(()=>U(!1),2e3)},fe=()=>{if(!f){X(!0),setTimeout(()=>X(!1),3e3);return}n(l,f,h),e("/cart")},me=()=>{const se=JSON.parse(localStorage.getItem("talia_likes")||"[]");let Te;R?Te=se.filter(Ye=>Ye!==t):Te=[...se,t],localStorage.setItem("talia_likes",JSON.stringify(Te)),C(!R),window.dispatchEvent(new Event("wishlistUpdate"))};return _.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out] relative",children:[_.jsx(bk,{isOpen:M,onClose:()=>P(!1)}),W&&_.jsx("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[200] w-[90%] max-w-xs animate-fadeInUp",children:_.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-red-200 shadow-2xl p-4 rounded-2xl flex items-center gap-3 text-red-600",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),_.jsx("p",{className:"text-sm font-bold",children:s===ee.AR?"   ":"Please select size first"})]})}),_.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[_.jsxs("div",{className:"flex-1 space-y-4",children:[_.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-gray-100 shadow-inner relative rounded-2xl border border-gold/10",children:_.jsx("img",{src:l.images[E],alt:l.name,className:"w-full h-full object-cover"})}),_.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 no-scrollbar",children:l.images.map((se,Te)=>_.jsx("button",{onClick:()=>A(Te),className:`flex-shrink-0 w-20 h-28 border-2 transition-all duration-300 rounded-lg overflow-hidden ${E===Te?"border-blush scale-105 shadow-md":"border-transparent opacity-50 grayscale hover:opacity-100 hover:grayscale-0"}`,children:_.jsx("img",{src:se,alt:"",className:"w-full h-full object-cover"})},Te))})]}),_.jsxs("div",{className:"flex-1 space-y-8",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex-grow",children:[_.jsx("div",{className:"flex items-center gap-2 mb-4",children:l.categories.map(se=>_.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest text-gold border border-gold/30 px-3 py-1 rounded-full",children:o.categories[se]||se},se))}),_.jsx("h1",{className:`text-3xl md:text-5xl font-bold text-taliaBlack leading-tight ${s===ee.EN?"font-englishTitle":""}`,children:l.name})]}),_.jsx("button",{onClick:me,className:`p-3 rounded-full border transition-all duration-300 group ${R?"border-blush/20 bg-blush/5 shadow-inner":"border-gray-100 hover:border-blush/30 hover:bg-pearl shadow-sm"}`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-7 w-7 transition-all duration-300 ${R?"fill-blush stroke-blush scale-110":"fill-none stroke-gray-400 group-hover:stroke-blush group-hover:scale-110"}`,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.092-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})})]}),_.jsxs("div",{className:"flex items-baseline gap-4",children:[_.jsxs("span",{className:"text-4xl font-bold text-blush",children:[l.price," ",s===ee.AR?"":"JOD"]}),l.old_price&&_.jsxs("span",{className:"text-xl text-gray-400 line-through font-light decoration-red-400/50",children:[l.old_price," ",s===ee.AR?"":"JOD"]})]}),_.jsx("div",{className:`p-4 bg-gray-50 border-gold/20 italic text-gray-600 leading-relaxed text-lg ${s===ee.AR?"border-r-4":"border-l-4"}`,children:l.description}),_.jsxs("div",{className:`space-y-6 transition-all duration-300 ${W?"animate-shake":""}`,children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("label",{className:`block font-bold text-sm uppercase tracking-widest transition-colors ${W?"text-red-500":"text-taliaBlack"}`,children:o.size}),_.jsx("button",{onClick:()=>P(!0),className:"text-[10px] font-bold text-gold underline tracking-widest uppercase hover:text-blush transition-colors",children:o.sizeGuide})]}),_.jsx("div",{className:"flex flex-wrap gap-4",children:l.sizes.map(se=>_.jsx("button",{disabled:se.quantity===0,onClick:()=>p(se.size),className:`relative min-w-[70px] h-14 flex items-center justify-center border-2 transition-all font-bold text-sm overflow-hidden rounded-lg ${se.quantity===0?"opacity-40 cursor-not-allowed bg-gray-50":f===se.size?"border-blush bg-blush text-white shadow-lg scale-105":W?"border-red-200 bg-red-50/30":"border-gray-100 hover:border-gold hover:text-gold bg-white"}`,children:se.size},se.size))})]}),!F&&f&&_.jsxs("div",{className:"space-y-4 animate-fadeIn p-4 bg-gray-50 rounded-xl border border-gray-100",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("label",{className:"block font-bold text-sm uppercase tracking-widest text-taliaBlack",children:s===ee.AR?" ":"Quantity"}),_.jsxs("span",{className:"text-[10px] font-bold text-green-600 uppercase tracking-widest bg-green-50 px-2 py-1 rounded border border-green-100",children:[s===ee.AR?":":"In Stock:"," ",z]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[_.jsx("button",{disabled:h<=1,onClick:()=>v(se=>se-1),className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 disabled:opacity-30 disabled:hover:bg-white font-bold text-xl transition-colors text-taliaBlack",children:"-"}),_.jsx("div",{className:"w-16 h-12 flex items-center justify-center font-bold text-lg bg-gray-50/50 border-x border-gray-100 text-blush",children:h}),_.jsx("button",{disabled:h>=z,onClick:()=>v(se=>se+1),className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 disabled:opacity-30 disabled:hover:bg-white font-bold text-xl transition-colors text-taliaBlack",children:"+"})]}),_.jsx("div",{className:"text-xs text-gray-400 font-medium",children:s===ee.AR?"":"Item(s)"})]})]}),_.jsx("div",{className:"flex flex-col gap-4 pt-4",children:F?_.jsx("button",{disabled:!0,className:"w-full h-16 rounded-xl bg-gray-200 text-gray-400 font-bold text-lg cursor-not-allowed flex items-center justify-center gap-2",children:o.outOfStock}):_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:te,disabled:I,className:`w-full h-16 rounded-xl font-bold text-lg transition-all shadow-xl active:scale-95 flex items-center justify-center gap-3 ${I?"bg-gold text-white":"bg-taliaBlack text-white hover:bg-gold"}`,children:I?s===ee.AR?"   ":"Added ":o.addToCart}),_.jsx("button",{onClick:fe,className:"w-full h-16 rounded-xl border-2 border-blush text-blush font-bold text-lg hover:bg-blush hover:text-white transition-all shadow-md active:scale-95",children:o.buyNow})]})})]})]})]})},Sk=()=>{const{cart:t,removeFromCart:e,totalItems:n}=Ul(),{language:s,t:o}=Mt(),l=Mi(),[c,f]=D.useState(""),[p,h]=D.useState(0),[v,b]=D.useState(""),w=t.reduce((C,M)=>C+M.price*M.cartQuantity,0),E=async()=>{b("");const{data:C,error:M}=await Oe.from("coupons").select("*").eq("code",c).eq("is_active",!0).single();if(M||!C){b(s===ee.AR?"  ":"Invalid coupon"),h(0);return}if(C.usage_count>=C.usage_limit){b(s===ee.AR?"  ":"Coupon usage limit reached"),h(0);return}h(C.discount_percent)},A=w*p/100,R=w-A+go;return t.length===0?_.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center p-4",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-gray-200 mb-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),_.jsx("h2",{className:"text-2xl font-bold mb-4",children:s===ee.AR?"  ":"Your cart is empty"}),_.jsx($e,{to:"/products",className:"bg-blush text-white px-8 py-3 font-bold hover:bg-taliaBlack transition-all",children:o.shopNow})]}):_.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[_.jsxs("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center",children:[o.cart," (",n,")"]}),_.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[_.jsx("div",{className:"flex-[2] space-y-6",children:t.map(C=>_.jsxs("div",{className:"flex gap-4 p-4 bg-white border border-gray-100 hover:shadow-md transition-shadow",children:[_.jsx($e,{to:`/product/${C.id}`,className:"w-24 h-32 flex-shrink-0 bg-gray-50",children:_.jsx("img",{src:C.images[0],alt:"",className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"flex-grow",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsx("h3",{className:"font-bold text-lg",children:C.name}),_.jsx("button",{onClick:()=>e(C.id,C.selectedSize),className:"text-gray-400 hover:text-red-500",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[o.size,": ",_.jsx("span",{className:"text-taliaBlack font-bold uppercase",children:C.selectedSize})]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("span",{className:"font-bold text-blush",children:[C.price," JOD"]}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("span",{className:"text-xs text-gray-400",children:["Qty: ",C.cartQuantity]})})]})]})]},`${C.id}-${C.selectedSize}`))}),_.jsx("div",{className:"flex-1",children:_.jsxs("div",{className:"bg-gray-50 p-8 border border-gold/10 space-y-6 sticky top-32",children:[_.jsx("h3",{className:"text-xl font-bold border-b border-gold/20 pb-4",children:s===ee.AR?" ":"Order Summary"}),_.jsxs("div",{className:"space-y-4 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:o.total}),_.jsxs("span",{className:"font-bold",children:[w," JOD"]})]}),p>0&&_.jsxs("div",{className:"flex justify-between text-green-600",children:[_.jsxs("span",{children:["Discount (",p,"%)"]}),_.jsxs("span",{className:"font-bold",children:["-",A.toFixed(2)," JOD"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:o.deliveryFee}),_.jsxs("span",{className:"font-bold",children:[go," JOD"]})]}),_.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gold/20 pt-4",children:[_.jsx("span",{children:o.grandTotal}),_.jsxs("span",{className:"text-blush",children:[R.toFixed(2)," JOD"]})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:o.couponCode}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",value:c,onChange:C=>f(C.target.value.toUpperCase()),className:"flex-grow p-2 border border-gray-300 outline-none focus:border-blush uppercase",placeholder:"EX: WELCOME10"}),_.jsx("button",{onClick:E,className:"bg-taliaBlack text-white px-4 py-2 text-xs font-bold hover:bg-blush transition-all",children:o.apply})]}),v&&_.jsx("p",{className:"text-red-500 text-[10px] font-bold",children:v})]}),_.jsx("button",{onClick:()=>l("/checkout",{state:{discount:p,couponCode:c}}),className:"w-full bg-blush text-white py-4 font-bold text-lg hover:bg-taliaBlack transition-all",children:o.checkout}),_.jsx("p",{className:"text-center text-[10px] text-gray-400 font-medium",children:"Secure checkout provided by TaliaMode7. COD Only."})]})})]})]})},Ek=()=>{var P,I;const{cart:t,clearCart:e}=Ul(),{language:n,t:s}=Mt(),o=Mi(),l=tn(),c=((P=l.state)==null?void 0:P.discount)||0,f=((I=l.state)==null?void 0:I.couponCode)||null,[p,h]=D.useState({name:"",phone:"",city:Ng[0],address:"",notes:""}),[v,b]=D.useState(!1),[w,E]=D.useState(!1),A=t.reduce((U,W)=>U+W.price*W.cartQuantity,0),R=A*c/100,C=A-R+go,M=async U=>{if(U.preventDefault(),t.length===0)return;b(!0);const{data:W,error:X}=await Oe.from("orders").insert({customer_name:p.name,customer_phone:p.phone,city:p.city,address:p.address,items:t,total_price:C,status:rs.PENDING,notes:p.notes}).select().single();if(X){alert(n===ee.AR?"    ":"Error sending order"),b(!1);return}try{for(const F of t){const{data:ae}=await Oe.from("products").select("sizes").eq("id",F.id).single();if(ae&&ae.sizes){const z=ae.sizes.map(te=>te.size===F.selectedSize?{...te,quantity:Math.max(0,te.quantity-F.cartQuantity)}:te);await Oe.from("products").update({sizes:z}).eq("id",F.id)}}}catch(F){console.error("Error updating inventory:",F)}if(f)try{const{data:F}=await Oe.from("coupons").select("usage_count, usage_limit").eq("code",f).single();if(F){const ae=F.usage_count+1,z=ae>=F.usage_limit;await Oe.from("coupons").update({usage_count:ae,is_active:!z}).eq("code",f)}}catch(F){console.error("Error updating coupon:",F)}try{const F=t.map(te=>`- ${te.name} (Size: ${te.selectedSize}, Qty: ${te.cartQuantity}) - ${te.price} JOD`).join(`
`),ae=`
        New Order Received! 
        
        Order ID: ${(W==null?void 0:W.id)||"N/A"}
        ------------------------------------
        Customer: ${p.name}
        Phone: ${p.phone}
        City: ${p.city}
        Address: ${p.address}
        Notes: ${p.notes||"None"}
        
        Items:
        ${F}
        
        ------------------------------------
        Subtotal: ${A} JOD
        Discount: ${R} JOD
        Delivery: ${go} JOD
        GRAND TOTAL: ${C} JOD
        ------------------------------------
      `,z=new FormData;z.append("access_key","6a5bee7e-a19b-4d1e-9900-52255a675b86"),z.append("subject",`New Order (${C} JOD) - ${p.name}`),z.append("message",ae),await fetch("https://api.web3forms.com/submit",{method:"POST",body:z})}catch(F){console.error("Failed to send email notification",F)}e(),b(!1),E(!0)};return _.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[_.jsx("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center",children:s.checkout}),w&&_.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-taliaBlack/70 backdrop-blur-sm animate-[fadeIn_0.3s_ease-out]",children:_.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2rem] shadow-2xl overflow-hidden relative animate-[reveal_0.4s_ease-out] text-center p-8 border border-gold/20",children:[_.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack mb-4",children:n===ee.AR?"   ! ":"Order Placed Successfully! "}),_.jsxs("div",{className:"space-y-3 text-gray-600 text-sm mb-8",children:[_.jsx("p",{className:"font-medium",children:n===ee.AR?"   TaliaMode7":"Thank you for shopping with TaliaMode7"}),_.jsx("p",{className:"p-3 bg-blush/5 rounded-xl border border-blush/10 text-taliaBlack font-bold",children:n===ee.AR?"     ":"We will contact you soon to confirm "}),_.jsx("p",{className:"text-blush font-bold text-base mt-2",children:n===ee.AR?"  : 24 - 48 ":" Delivery time: 24 - 48 Hours"})]}),_.jsx("button",{onClick:()=>o("/"),className:"w-full bg-taliaBlack text-white py-4 rounded-xl font-bold hover:bg-gold transition-colors shadow-lg",children:n===ee.AR?" ":"Back to Home"})]})}),_.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row gap-12",children:[_.jsxs("form",{onSubmit:M,className:"flex-[3] space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.fullName}),_.jsx("input",{required:!0,type:"text",value:p.name,onChange:U=>h({...p,name:U.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:" "})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.phone}),_.jsx("input",{required:!0,type:"tel",value:p.phone,onChange:U=>h({...p,phone:U.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:"079XXXXXXXX"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.city}),_.jsx("select",{required:!0,value:p.city,onChange:U=>h({...p,city:U.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush bg-white",children:Ng.map(U=>_.jsx("option",{value:U,children:U},U))})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.address}),_.jsx("textarea",{required:!0,rows:3,value:p.address,onChange:U=>h({...p,address:U.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:":  -   -  ..."})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:n===ee.AR?"  ()":"Additional Notes (Optional)"}),_.jsx("textarea",{rows:2,value:p.notes,onChange:U=>h({...p,notes:U.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush"})]}),_.jsx("button",{type:"submit",disabled:v,className:`w-full bg-blush text-white py-4 font-bold text-lg hover:bg-taliaBlack transition-all ${v?"opacity-50 cursor-not-allowed":""}`,children:v?"...":s.confirmOrder})]}),_.jsx("div",{className:"flex-[2]",children:_.jsxs("div",{className:"bg-gray-50 p-6 border border-gold/10 space-y-4",children:[_.jsx("h3",{className:"font-bold border-b pb-2 uppercase tracking-widest text-sm",children:n===ee.AR?" ":"Order Content"}),_.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 no-scrollbar",children:t.map(U=>_.jsxs("div",{className:"flex justify-between text-xs",children:[_.jsxs("span",{children:[U.name," (x",U.cartQuantity,") - ",U.selectedSize]}),_.jsxs("span",{className:"font-bold",children:[U.price*U.cartQuantity," JOD"]})]},`${U.id}-${U.selectedSize}`))}),_.jsxs("div",{className:"pt-4 border-t space-y-2 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:s.total}),_.jsxs("span",{children:[A," JOD"]})]}),c>0&&_.jsxs("div",{className:"flex justify-between text-green-600",children:[_.jsx("span",{children:"Discount"}),_.jsxs("span",{children:["-",R.toFixed(2)," JOD"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:s.deliveryFee}),_.jsxs("span",{children:[go," JOD"]})]}),_.jsxs("div",{className:"flex justify-between font-bold text-lg text-blush pt-2 border-t",children:[_.jsx("span",{children:s.grandTotal}),_.jsxs("span",{children:[C.toFixed(2)," JOD"]})]})]})]})})]})]})},xk=()=>{const{language:t,t:e}=Mt(),[n,s]=D.useState([]),[o,l]=D.useState(!0),c=async()=>{l(!0);const f=JSON.parse(localStorage.getItem("talia_likes")||"[]");if(f.length===0){s([]),l(!1);return}const{data:p,error:h}=await Oe.from("products").select("*").in("id",f);if(h){console.error(h),l(!1);return}let v=p||[];t===ee.EN&&v.length>0&&(v=await wl(v,ee.EN)),s(v),l(!1)};return D.useEffect(()=>(c(),window.addEventListener("wishlistUpdate",c),()=>window.removeEventListener("wishlistUpdate",c)),[t]),o?_.jsx("div",{className:"min-h-[60vh] flex items-center justify-center font-bold text-blush",children:e.loading}):_.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[_.jsx("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center uppercase tracking-widest",children:e.wishlist}),n.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 py-20",children:[_.jsx("div",{className:"w-24 h-24 bg-blush/5 rounded-full flex items-center justify-center",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blush/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),_.jsx("p",{className:"text-gray-500 font-bold",children:e.emptyWishlist}),_.jsx($e,{to:"/products",className:"bg-taliaBlack text-white px-8 py-3 rounded-full font-bold hover:bg-blush transition-all uppercase text-xs tracking-widest",children:e.shopNow})]}):_.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:n.map(f=>_.jsx(dl,{product:f},f.id))})]})},Tk=()=>{const[t,e]=D.useState(""),[n,s]=D.useState(""),[o,l]=D.useState(!1),c=Mi(),f=async p=>{p.preventDefault(),l(!0);const{error:h}=await Oe.auth.signInWithPassword({email:t,password:n});h?alert("   "):c("/admin"),l(!1)};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",dir:"rtl",children:_.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-none shadow-2xl border border-gold/20",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("h1",{className:"text-3xl font-englishTitle font-bold text-taliaBlack mb-2",children:"TaliaMode7"}),_.jsx("p",{className:"text-gray-400 uppercase tracking-widest text-[10px]",children:"  "})]}),_.jsxs("form",{onSubmit:f,className:"space-y-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),_.jsx("input",{required:!0,type:"email",value:t,onChange:p=>e(p.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 outline-none focus:border-blush"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),_.jsx("input",{required:!0,type:"password",value:n,onChange:p=>s(p.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 outline-none focus:border-blush"})]}),_.jsx("button",{type:"submit",disabled:o,className:"w-full bg-taliaBlack text-white py-4 font-bold uppercase tracking-widest hover:bg-gold transition-all disabled:opacity-50",children:o?" ...":" "})]})]})})},Fd=(t,e=800,n=75)=>t?t.includes("supabase.co")&&t.includes("/storage/v1/object/public/")?`${t.replace("/storage/v1/object/public/","/storage/v1/render/image/public/")}?width=${e}&format=webp&quality=${n}`:t:"",Ck=async t=>new Promise((e,n)=>{const s=new Image;s.crossOrigin="Anonymous";const o=URL.createObjectURL(t);s.onload=()=>{URL.revokeObjectURL(o);const l=1500;let c=s.width,f=s.height;c>l&&(f=f*l/c,c=l);const p=document.createElement("canvas");p.width=c,p.height=f;const h=p.getContext("2d");if(!h){n(new Error("Failed to get canvas context"));return}try{h.drawImage(s,0,0,c,f),p.toBlob(v=>{v?e(v):n(new Error("Canvas conversion to WebP failed"))},"image/webp",.8)}catch{n(new Error("Canvas tainted or draw error"))}},s.onerror=l=>{URL.revokeObjectURL(o),n(new Error("Failed to load image structure"))},s.src=o}),Ak=async t=>{if(!t.type.startsWith("image/"))return t;try{const e=await Ck(t),n=t.name.replace(/\.[^/.]+$/,"")+".webp";return new File([e],n,{type:"image/webp"})}catch(e){return console.error("Compression failed, returning original",e),t}},sl=({to:t,active:e,onClick:n,children:s})=>_.jsx($e,{to:t,onClick:n,className:`block p-4 rounded-lg transition-all text-sm font-bold ${e?"bg-blush text-white shadow-lg shadow-blush/20":"text-gray-300 hover:bg-gray-700/50"}`,children:s}),Rk=()=>{const[t,e]=D.useState(null),[n,s]=D.useState(!1),o=Mi(),l=tn();if(D.useEffect(()=>{Oe.auth.getSession().then(({data:{session:p}})=>{p?e(p):o("/admin/login")})},[o]),!t)return null;const c=async()=>{await Oe.auth.signOut(),o("/admin/login")},f=()=>s(!1);return _.jsxs("div",{className:"min-h-screen bg-[#f8fafc] flex flex-col md:flex-row",dir:"rtl",children:[_.jsxs("div",{className:"md:hidden bg-[#1e293b] text-white p-4 flex justify-between items-center sticky top-0 z-[100] shadow-md",children:[_.jsx("h2",{className:"text-xl font-bold text-gold font-englishTitle",children:"TaliaMode7"}),_.jsx("button",{onClick:()=>s(!0),className:"p-2 bg-gray-700 rounded-md",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})]}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[110] md:hidden",onClick:f}),_.jsxs("aside",{className:`
        fixed md:sticky top-0 right-0 h-screen w-72 bg-[#1e293b] text-white flex flex-col z-[120] transition-transform duration-300 shadow-2xl
        ${n?"translate-x-0":"translate-x-full md:translate-x-0"}
      `,children:[_.jsxs("div",{className:"p-8 border-b border-gray-700 hidden md:block",children:[_.jsx("h2",{className:"text-2xl font-bold text-gold font-englishTitle tracking-tight",children:"TaliaMode7"}),_.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-bold uppercase tracking-widest",children:"  "})]}),_.jsx("div",{className:"md:hidden flex justify-end p-4",children:_.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),_.jsxs("nav",{className:"flex-grow p-4 space-y-2 mt-4 md:mt-0 overflow-y-auto no-scrollbar",children:[_.jsx(sl,{to:"/admin",active:l.pathname==="/admin",onClick:f,children:"  "}),_.jsx(sl,{to:"/admin/products",active:l.pathname.startsWith("/admin/products"),onClick:f,children:"  "}),_.jsx(sl,{to:"/admin/orders",active:l.pathname.startsWith("/admin/orders"),onClick:f,children:"  "}),_.jsx(sl,{to:"/admin/coupons",active:l.pathname.startsWith("/admin/coupons"),onClick:f,children:"  "})]}),_.jsx("div",{className:"p-6 border-t border-gray-700",children:_.jsx("button",{onClick:c,className:"w-full p-3 bg-red-600/10 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-all text-sm font-bold border border-red-600/20",children:" "})})]}),_.jsx("main",{className:"flex-grow p-4 md:p-10 min-h-screen",children:_.jsx("div",{className:"max-w-7xl mx-auto",children:_.jsxs(Zy,{children:[_.jsx(Ht,{index:!0,element:_.jsx(Nk,{})}),_.jsx(Ht,{path:"products",element:_.jsx(Ik,{})}),_.jsx(Ht,{path:"orders",element:_.jsx(Mk,{})}),_.jsx(Ht,{path:"coupons",element:_.jsx(kk,{})})]})})})]})},Nk=()=>{const[t,e]=D.useState({products:0,orders:0,revenue:0,pending:0});return D.useEffect(()=>{(async()=>{const{count:s}=await Oe.from("products").select("*",{count:"exact",head:!0}),{count:o}=await Oe.from("orders").select("*",{count:"exact",head:!0}),{count:l}=await Oe.from("orders").select("*",{count:"exact",head:!0}).eq("status",rs.PENDING),{data:c}=await Oe.from("orders").select("total_price").eq("status",rs.DELIVERED),f=(c==null?void 0:c.reduce((p,h)=>p+h.total_price,0))||0;e({products:s||0,orders:o||0,revenue:f,pending:l||0})})()},[]),_.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#1e293b]",children:"  "}),_.jsx("p",{className:"text-gray-500 text-sm",children:"      TaliaMode7 ."})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[_.jsx(rl,{title:"",value:t.products,color:"blue",icon:""}),_.jsx(rl,{title:" ",value:t.orders,color:"amber",icon:""}),_.jsx(rl,{title:" ",value:t.pending,color:"red",icon:""}),_.jsx(rl,{title:" ",value:`${t.revenue.toFixed(0)} .`,color:"green",icon:""})]})]})},rl=({title:t,value:e,color:n,icon:s})=>_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition-shadow",children:[_.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl bg-${n}-50`,children:s}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mb-1",children:t}),_.jsx("p",{className:"text-xl font-bold text-gray-800",children:e})]})]}),Ik=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!1),[o,l]=D.useState(null),[c,f]=D.useState([]),[p,h]=D.useState(!1),[v,b]=D.useState(""),[w,E]=D.useState({name:"",description:"",price:0,old_price:0,categories:[],is_new:!0,is_best_seller:!1,sizes:[{size:"S",quantity:0}]}),[A,R]=D.useState([]),[C,M]=D.useState([]);D.useEffect(()=>{P()},[]);const P=async()=>{const{data:z}=await Oe.from("products").select("*").order("created_at",{ascending:!1});z&&e(z)},I=async z=>{if(!window.confirm("            ."))return;const{error:te}=await Oe.from("products").delete().eq("id",z);te?alert(`  : ${te.message}`):(alert("   "),P())},U=async z=>{const te=Array.from(z.target.files||[]);if(te.length>0){b("    ... "),h(!0);const fe=[],me=[];try{for(const se of te){const Te=await Ak(se);fe.push(Te),me.push(URL.createObjectURL(Te))}R(se=>[...se,...fe]),f(se=>[...se,...me]),b("")}catch(se){console.error("Image processing error",se),alert("    .")}finally{h(!1)}}},W=(z,te)=>{te?M(fe=>fe.filter((me,se)=>se!==z)):(R(fe=>fe.filter((me,se)=>se!==z)),f(fe=>fe.filter((me,se)=>se!==z)))},X=z=>{l(z.id),E({name:z.name,description:z.description,price:z.price,old_price:z.old_price||0,categories:z.categories,is_new:z.is_new,is_best_seller:z.is_best_seller,sizes:z.sizes}),M(z.images),f([]),R([]),s(!0),window.scrollTo({top:0,behavior:"smooth"})},F=()=>{l(null),E({name:"",description:"",price:0,old_price:0,categories:[],is_new:!0,is_best_seller:!1,sizes:[{size:"S",quantity:0}]}),R([]),f([]),M([]),s(!1),h(!1),b("")},ae=async z=>{if(z.preventDefault(),A.length===0&&C.length===0){alert("     .");return}h(!0);let te=[...C];if(A.length>0)for(const se of A){const Te=`${Date.now()}_${se.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,{data:Ye,error:V}=await Oe.storage.from(ev).upload(Te,se);if(V){alert(`   : ${V.message}`),h(!1);return}const{data:{publicUrl:Z}}=Oe.storage.from(ev).getPublicUrl(Ye.path);te.push(Z)}const fe={...w,images:te};let me;o?me=(await Oe.from("products").update(fe).eq("id",o)).error:me=(await Oe.from("products").insert(fe)).error,me?alert(`: ${me.message}`):(alert("  ! "),F(),P()),h(!1)};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[_.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:" "}),_.jsx("button",{onClick:()=>n?F():s(!0),className:`w-full sm:w-auto px-6 py-3 rounded-xl font-bold shadow-lg transition-all ${n?"bg-gray-200 text-gray-600":"bg-blush text-white hover:bg-taliaBlack"}`,children:n?" ":"   +"})]}),n&&_.jsxs("form",{onSubmit:ae,className:"bg-white p-4 md:p-8 rounded-2xl shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-8 border-t-8 border-blush animate-fadeIn",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsx("h3",{className:"font-bold text-xl text-gray-800",children:o?" ":"  "}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" "}),_.jsx("input",{required:!0,className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 ring-blush/20",value:w.name,onChange:z=>E({...w,name:z.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:""}),_.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 ring-blush/20",rows:3,value:w.description,onChange:z=>E({...w,description:z.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" (.)"}),_.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none",value:w.price,onChange:z=>E({...w,price:Number(z.target.value)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" "}),_.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none",value:w.old_price,onChange:z=>E({...w,old_price:Number(z.target.value)})})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-4",children:""}),_.jsx("input",{type:"file",multiple:!0,onChange:U,className:"hidden",id:"img-upload",accept:"image/*"}),_.jsxs("label",{htmlFor:"img-upload",className:"w-full p-8 border-2 border-dashed border-gray-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-blush hover:bg-blush/5 transition-all relative",children:[_.jsx("span",{className:"text-3xl mb-2",children:""}),_.jsx("span",{className:"text-sm font-bold text-gray-500",children:"    "}),_.jsx("span",{className:"text-[10px] text-gray-400 mt-2 block",children:"(    WebP  )"}),v&&_.jsx("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center font-bold text-blush rounded-2xl",children:v})]}),_.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2 mt-4 max-h-48 overflow-y-auto p-2",children:[C.map((z,te)=>_.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[_.jsx("img",{src:Fd(z,200),className:"w-full h-full object-cover"}),_.jsx("button",{type:"button",onClick:()=>W(te,!0),className:"absolute top-1 left-1 bg-red-500 text-white w-5 h-5 rounded-full text-[10px]",children:""})]},`ex-${te}`)),c.map((z,te)=>_.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-blush",children:[_.jsx("img",{src:z,className:"w-full h-full object-cover"}),_.jsx("button",{type:"button",onClick:()=>W(te,!1),className:"absolute top-1 left-1 bg-red-500 text-white w-5 h-5 rounded-full text-[10px]",children:""})]},`new-${te}`))]})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100",children:[_.jsx("p",{className:"text-xs font-bold text-gold uppercase tracking-widest mb-4",children:" "}),_.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto no-scrollbar",children:Qd.map(z=>_.jsxs("label",{className:"flex items-center gap-2 text-xs p-2 hover:bg-white rounded-lg cursor-pointer",children:[_.jsx("input",{type:"checkbox",className:"accent-blush w-4 h-4",checked:w.categories.includes(z),onChange:te=>{const fe=te.target.checked?[...w.categories,z]:w.categories.filter(me=>me!==z);E({...w,categories:fe})}}),z]},z))})]}),_.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100",children:[_.jsx("p",{className:"text-xs font-bold text-gold uppercase tracking-widest mb-4",children:" "}),_.jsxs("div",{className:"space-y-3",children:[w.sizes.map((z,te)=>_.jsxs("div",{className:"flex gap-2 items-center animate-fadeIn",children:[_.jsx("input",{placeholder:"",className:"flex-1 p-3 bg-white border border-gray-100 rounded-lg text-center font-bold",value:z.size,onChange:fe=>{const me=[...w.sizes];me[te].size=fe.target.value,E({...w,sizes:me})}}),_.jsx("input",{type:"number",placeholder:"",className:"flex-1 p-3 bg-white border border-gray-100 rounded-lg text-center",value:z.quantity,onChange:fe=>{const me=[...w.sizes];me[te].quantity=Number(fe.target.value),E({...w,sizes:me})}}),_.jsx("button",{type:"button",onClick:()=>E({...w,sizes:w.sizes.filter((fe,me)=>me!==te)}),className:"text-red-400 p-2",children:""})]},te)),_.jsx("button",{type:"button",onClick:()=>E({...w,sizes:[...w.sizes,{size:"",quantity:0}]}),className:"text-xs text-blue-500 font-bold",children:"+   "})]})]}),_.jsxs("div",{className:"flex gap-4 p-4 bg-gray-100 rounded-xl",children:[_.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:w.is_new,onChange:z=>E({...w,is_new:z.target.checked}),className:"accent-blush w-5 h-5"})," ",_.jsx("span",{children:" "})]}),_.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:w.is_best_seller,onChange:z=>E({...w,is_best_seller:z.target.checked}),className:"accent-blush w-5 h-5"})," ",_.jsx("span",{children:"  "})]})]}),_.jsx("button",{type:"submit",disabled:p,className:"w-full bg-taliaBlack text-white p-5 rounded-2xl font-bold hover:bg-gold transition-all shadow-xl disabled:opacity-50 text-lg",children:p?"  ...":o?" ":"  "})]})]}),_.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto no-scrollbar",children:_.jsxs("table",{className:"w-full text-right min-w-[600px]",children:[_.jsx("thead",{className:"bg-gray-50 border-b",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(z=>{const te=z.sizes.reduce((fe,me)=>fe+me.quantity,0);return _.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[_.jsxs("td",{className:"p-4 flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-14 rounded-md overflow-hidden bg-gray-100",children:_.jsx("img",{src:Fd(z.images[0],100),className:"w-full h-full object-cover"})}),_.jsx("span",{className:"font-bold text-sm text-gray-700",children:z.name})]}),_.jsxs("td",{className:"p-4 text-sm font-bold text-blush",children:[z.price," ."]}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full ${te>0?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:te>0?`${te} `:""})}),_.jsx("td",{className:"p-4",children:_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>X(z),className:"text-blue-500 font-bold text-xs hover:underline",children:""}),_.jsx("button",{onClick:()=>I(z.id),className:"text-red-400 font-bold text-xs hover:underline",children:""})]})})]},z.id)})})]})})})]})},Mk=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(null),[o,l]=D.useState(null);D.useEffect(()=>{c()},[]);const c=async()=>{const{data:v}=await Oe.from("orders").select("*").order("created_at",{ascending:!1});v&&e(v)},f=async(v,b)=>{await Oe.from("orders").update({status:b}).eq("id",v),c()},p=async()=>{if(!o)return;const{error:v}=await Oe.from("orders").delete().eq("id",o);v?(console.error("Delete Error:",v),alert(`  : ${v.message}
    .`)):(e(b=>b.filter(w=>w.id!==o)),n===o&&s(null)),l(null)},h=(v,b)=>{v.stopPropagation(),l(b)};return _.jsxs("div",{className:"space-y-6 relative",children:[_.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:"  "}),o&&_.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-taliaBlack/70 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out]",onClick:()=>l(null),children:_.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-2xl max-w-sm w-full text-center space-y-6 animate-[reveal_0.3s_ease-out] border border-red-100",onClick:v=>v.stopPropagation(),children:[_.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto text-red-500 shadow-inner",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-taliaBlack mb-2",children:"  "}),_.jsxs("p",{className:"text-gray-500 text-sm leading-relaxed",children:["      ",_.jsx("br",{}),_.jsx("span",{className:"text-red-500 font-bold",children:"     ."})]})]}),_.jsxs("div",{className:"flex gap-3 pt-2",children:[_.jsx("button",{onClick:()=>l(null),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 hover:bg-gray-100 transition-colors",children:""}),_.jsx("button",{onClick:p,className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-colors shadow-lg shadow-red-200",children:" "})]})]})}),_.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto no-scrollbar",children:_.jsxs("table",{className:"w-full text-right min-w-[700px]",children:[_.jsx("thead",{className:"bg-gray-50 border-b",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(v=>_.jsxs(Oy.Fragment,{children:[_.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${n===v.id?"bg-blush/5":""}`,onClick:()=>s(n===v.id?null:v.id),children:[_.jsxs("td",{className:"p-4",children:[_.jsx("p",{className:"font-bold text-sm text-gray-800",children:v.customer_name}),_.jsx("p",{className:"text-[10px] text-gray-400",children:new Date(v.created_at).toLocaleDateString("ar-JO")})]}),_.jsx("td",{className:"p-4 text-xs font-bold text-gray-600",children:v.city}),_.jsxs("td",{className:"p-4 text-sm font-bold text-blush",children:[v.total_price," ."]}),_.jsx("td",{className:"p-4 text-[10px] font-bold",children:_.jsx("span",{className:`px-2 py-1 rounded-full ${v.status===rs.PENDING?"bg-amber-100 text-amber-600":v.status===rs.DELIVERED?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:v.status})}),_.jsx("td",{className:"p-4",onClick:b=>b.stopPropagation(),children:_.jsx("select",{className:"p-2 bg-white border border-gray-100 rounded-lg text-[10px] outline-none shadow-sm",value:v.status,onChange:b=>f(v.id,b.target.value),children:Object.values(rs).map(b=>_.jsx("option",{value:b,children:b},b))})}),_.jsx("td",{className:"p-4",onClick:b=>b.stopPropagation(),children:_.jsxs("button",{onClick:b=>h(b,v.id),className:"bg-red-50 text-red-600 px-3 py-2 rounded-lg hover:bg-red-600 hover:text-white transition-all flex items-center gap-2 group",title:"  ",children:[_.jsx("span",{className:"text-[10px] font-bold",children:""}),_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 group-hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})})]}),n===v.id&&_.jsx("tr",{className:"bg-gray-50/50",children:_.jsx("td",{colSpan:6,className:"p-4 md:p-8",children:_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fadeIn",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-bold text-xs text-blush uppercase tracking-widest border-b pb-2",children:" "}),_.jsx("div",{className:"space-y-2",children:v.items.map((b,w)=>_.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[_.jsx("img",{src:Fd(b.images[0],100),className:"w-8 h-12 object-cover rounded-lg"}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("p",{className:"font-bold text-[11px] truncate",children:b.name}),_.jsxs("p",{className:"text-[10px] text-gray-400",children:[": ",b.selectedSize," | : ",b.cartQuantity]})]}),_.jsxs("p",{className:"font-bold text-xs text-gold",children:[b.price," ."]})]},w))})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-bold text-xs text-gold uppercase tracking-widest border-b pb-2",children:" "}),_.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 space-y-3 text-xs",children:[_.jsxs("p",{className:"flex justify-between",children:[_.jsx("span",{children:" :"})," ",_.jsx("span",{className:"font-bold text-blue-600 select-all underline",children:v.customer_phone})]}),_.jsxs("p",{className:"flex justify-between",children:[_.jsx("span",{children:" :"})," ",_.jsx("span",{className:"font-bold text-gray-700 text-left",children:v.address})]}),v.notes&&_.jsxs("div",{className:"p-3 bg-amber-50 rounded-lg italic text-amber-800 border-r-4 border-amber-300",children:['"',v.notes,'"']})]})]})]})})})]},v.id))})]})})})]})},kk=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!1),[o,l]=D.useState({code:"",discount_percent:0,usage_limit:10});D.useEffect(()=>{c()},[]);const c=async()=>{const{data:h}=await Oe.from("coupons").select("*");h&&e(h)},f=async(h,v)=>{const{error:b}=await Oe.from("coupons").update({is_active:!v}).eq("code",h);b?alert("   "):e(w=>w.map(E=>E.code===h?{...E,is_active:!v}:E))},p=async h=>{h.preventDefault();const{error:v}=await Oe.from("coupons").insert(o);v?alert(v.message):(s(!1),l({code:"",discount_percent:0,usage_limit:10}),c())};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:" "}),_.jsx("button",{onClick:()=>s(!n),className:`px-5 py-2 rounded-lg font-bold transition-all shadow-md ${n?"bg-gray-100 text-gray-500":"bg-gold text-white hover:bg-taliaBlack"}`,children:n?"":"  +"})]}),n&&_.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-2xl shadow-lg border-t-8 border-gold flex flex-col md:flex-row gap-4 items-end animate-fadeIn",children:[_.jsxs("div",{className:"w-full md:flex-1 space-y-1",children:[_.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("input",{required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none uppercase font-bold",value:o.code,onChange:h=>l({...o,code:h.target.value.toUpperCase()}),placeholder:": LOVE7"})]}),_.jsxs("div",{className:"w-full md:w-32 space-y-1",children:[_.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" (%)"}),_.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none",value:o.discount_percent,onChange:h=>l({...o,discount_percent:Number(h.target.value)})})]}),_.jsxs("div",{className:"w-full md:w-32 space-y-1",children:[_.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none",value:o.usage_limit,onChange:h=>l({...o,usage_limit:Number(h.target.value)})})]}),_.jsx("button",{type:"submit",className:"w-full md:w-auto bg-taliaBlack text-white px-10 py-4 rounded-xl font-bold hover:bg-gold transition-all",children:" "})]}),_.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto no-scrollbar",children:_.jsxs("table",{className:"w-full text-right min-w-[500px]",children:[_.jsx("thead",{className:"bg-gray-50 border-b",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(h=>_.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[_.jsx("td",{className:"p-4 font-bold text-blush uppercase tracking-widest",children:h.code}),_.jsxs("td",{className:"p-4 text-sm font-bold",children:[h.discount_percent,"%"]}),_.jsxs("td",{className:"p-4 text-xs font-medium text-gray-500",children:[h.usage_count," / ",h.usage_limit]}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:`text-[9px] font-bold px-3 py-1 rounded-full ${h.is_active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:h.is_active?"":""})}),_.jsx("td",{className:"p-4",children:_.jsx("button",{onClick:()=>f(h.code,h.is_active),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all shadow-sm ${h.is_active?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:h.is_active?"":""})})]},h.code))})]})})})]})},Dk=()=>{const{totalItems:t}=Ul(),{language:e,t:n,toggleLanguage:s}=Mt(),[o,l]=D.useState(!1),[c,f]=D.useState(""),[p,h]=D.useState([]),[v,b]=D.useState(!1),[w,E]=D.useState(!1),[A,R]=D.useState(0),C=Mi(),M=D.useRef(null);D.useEffect(()=>{if(t>0){E(!0);const U=setTimeout(()=>E(!1),500);return()=>clearTimeout(U)}},[t]),D.useEffect(()=>{const U=()=>{const W=JSON.parse(localStorage.getItem("talia_likes")||"[]");R(W.length)};return U(),window.addEventListener("storage",U),window.addEventListener("wishlistUpdate",U),()=>{window.removeEventListener("storage",U),window.removeEventListener("wishlistUpdate",U)}},[]),D.useEffect(()=>{const U=()=>{window.scrollY>50?b(!0):b(!1)};return window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)},[]),D.useEffect(()=>{const U=setTimeout(async()=>{if(c.length>=2){const{data:W}=await Oe.from("products").select("*").ilike("name",`%${c}%`).limit(5);h(W||[])}else h([])},300);return()=>clearTimeout(U)},[c]),D.useEffect(()=>{const U=W=>{M.current&&!M.current.contains(W.target)&&h([])};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const P=()=>{s(),e===ee.AR&&C("/products")},I=U=>{U.preventDefault(),c.trim()&&(C(`/products?search=${encodeURIComponent(c)}`),h([]),l(!1))};return _.jsxs(_.Fragment,{children:[_.jsx("header",{className:`bg-pearl/95 backdrop-blur-xl sticky top-[44px] z-50 border-b border-gold/10 transition-all duration-500 ease-in-out ${v?"py-1 shadow-[0_10px_30px_rgba(0,0,0,0.05)]":"py-3"}`,children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:`flex items-center justify-between transition-all duration-500 ${v?"md:py-2":"md:py-4"}`,children:[_.jsx("button",{className:"lg:hidden p-2 text-taliaBlack hover:text-blush",onClick:()=>l(!o),children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),_.jsx("div",{className:"flex-1 lg:flex-none flex justify-center lg:justify-start",children:_.jsxs($e,{to:"/",className:"group relative",children:[_.jsx("span",{className:`font-englishTitle font-bold tracking-[-0.05em] text-taliaBlack transition-all duration-500 group-hover:text-blush inline-block ${v?"text-2xl md:text-3xl":"text-3xl md:text-4xl"}`,children:"TaliaMode7"}),_.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-[2px] bg-blush transition-all duration-500 group-hover:w-full"})]})}),_.jsxs("div",{className:"hidden lg:block flex-1 max-w-md mx-12 relative",ref:M,children:[_.jsxs("form",{onSubmit:I,className:"relative z-50",children:[_.jsx("input",{type:"text",placeholder:n.searchPlaceholder,className:`w-full bg-black/5 border border-transparent rounded-full px-6 text-xs font-bold focus:bg-white focus:border-blush/30 focus:ring-4 ring-blush/5 transition-all outline-none ${v?"py-2":"py-2.5"}`,value:c,onChange:U=>f(U.target.value),onFocus:()=>c.length>=2&&h(p)}),_.jsx("button",{type:"submit",className:`absolute ${e===ee.AR?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-gray-400 hover:text-blush transition-colors`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),p.length>0&&_.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden z-[60] animate-fadeInUp",children:[p.map(U=>_.jsxs($e,{to:`/product/${U.id}`,className:"flex items-center gap-3 p-3 hover:bg-gray-50 border-b border-gray-50 last:border-none transition-colors group",onClick:()=>{h([]),f("")},children:[_.jsx("div",{className:"w-10 h-12 rounded bg-gray-100 overflow-hidden flex-shrink-0",children:_.jsx("img",{src:U.images[0],alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform"})}),_.jsxs("div",{className:"flex-grow min-w-0",children:[_.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:U.name}),_.jsxs("p",{className:"text-[10px] text-blush font-bold",children:[U.price," ",e===ee.AR?".":"JOD"]})]})]},U.id)),_.jsx("button",{onClick:I,className:"w-full p-3 text-xs font-bold text-center text-gray-500 hover:text-blush hover:bg-gray-50 transition-colors bg-gray-50/50",children:e===ee.AR?"  ":"View all results"})]})]}),_.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[_.jsx("button",{onClick:P,className:"px-4 py-2 rounded-full border-2 border-blush/40 text-[10px] font-bold hover:bg-blush hover:text-white transition-all tracking-widest uppercase bg-white/50 backdrop-blur-sm shadow-sm text-blush",children:e===ee.AR?"EN":""}),_.jsxs($e,{to:"/wishlist",className:"relative p-2 rounded-full hover:bg-blush/5 transition-all group",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-taliaBlack group-hover:text-blush group-hover:fill-blush/10 transition-all",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),A>0&&_.jsx("span",{className:"absolute top-1 right-1 bg-gold text-white text-[9px] font-bold w-4 h-4 rounded-full flex items-center justify-center ring-2 ring-pearl",children:A})]}),_.jsxs($e,{to:"/cart",className:`relative p-2 rounded-full hover:bg-blush/5 transition-all group ${v?"scale-90":"scale-100"} ${w?"animate-bounce":""}`,children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-colors ${w?"text-blush fill-blush/10":"text-taliaBlack group-hover:text-blush"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),t>0&&_.jsx("span",{className:`absolute top-1 right-1 bg-blush text-white text-[9px] font-bold w-4 h-4 rounded-full flex items-center justify-center ring-2 ring-pearl transition-transform ${w?"scale-125":"scale-100"}`,children:t})]})]})]})})}),_.jsx("div",{className:`lg:hidden bg-white border-b border-gold/10 overflow-hidden transition-all duration-300 ${o?"max-h-96 py-4":"max-h-0 py-0"}`,children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs("form",{onSubmit:I,className:"relative",children:[_.jsx("input",{type:"text",placeholder:n.searchPlaceholder,className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:border-blush outline-none",value:c,onChange:U=>f(U.target.value),autoFocus:o}),_.jsx("button",{type:"submit",className:`absolute ${e===ee.AR?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-blush`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),p.length>0&&o&&_.jsx("div",{className:"mt-2 bg-white rounded-xl shadow-lg border border-gray-100 divide-y divide-gray-50",children:p.map(U=>_.jsxs($e,{to:`/product/${U.id}`,className:"flex items-center gap-3 p-3 hover:bg-gray-50",onClick:()=>{h([]),f(""),l(!1)},children:[_.jsx("img",{src:U.images[0],alt:"",className:"w-10 h-12 object-cover rounded"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs font-bold text-gray-800",children:U.name}),_.jsxs("p",{className:"text-[10px] text-blush font-bold",children:[U.price," JOD"]})]})]},U.id))})]})})]})},Uk=({isOpen:t,onClose:e,type:n})=>{const{language:s,t:o}=Mt();if(!t)return null;const l=()=>{switch(n){case"size":const c=[{size:"XS",chest:"8084",waist:"6468",hips:"8892"},{size:"S",chest:"8488",waist:"6872",hips:"9296"},{size:"M",chest:"8892",waist:"7276",hips:"96100"},{size:"L",chest:"9296",waist:"7680",hips:"100104"},{size:"XL",chest:"96100",waist:"8084",hips:"104108"}];return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:o.sizeGuide}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-center border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-blush/10 text-blush font-bold text-xs uppercase tracking-widest",children:[_.jsx("th",{className:"p-3 border border-gold/10",children:o.size}),_.jsx("th",{className:"p-3 border border-gold/10",children:s===ee.AR?"":"Chest"}),_.jsx("th",{className:"p-3 border border-gold/10",children:s===ee.AR?"":"Waist"}),_.jsx("th",{className:"p-3 border border-gold/10",children:s===ee.AR?"":"Hips"})]})}),_.jsx("tbody",{children:c.map(f=>_.jsxs("tr",{className:"hover:bg-gold/5 transition-colors text-sm",children:[_.jsx("td",{className:"p-3 border border-gold/10 font-bold bg-gray-50/50",children:f.size}),_.jsx("td",{className:"p-3 border border-gold/10",children:f.chest}),_.jsx("td",{className:"p-3 border border-gold/10",children:f.waist}),_.jsx("td",{className:"p-3 border border-gold/10",children:f.hips})]},f.size))})]})}),_.jsx("p",{className:"text-[10px] text-gray-400 italic text-center",children:s===ee.AR?"*   ":"* All measurements in cm"})]});case"shipping":return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:s===ee.AR?"  ":"Shipping & Delivery"}),_.jsxs("div",{className:"space-y-4 text-gray-600 leading-relaxed text-sm",children:[_.jsxs("p",{className:"flex gap-3",children:[_.jsx("span",{className:"text-gold",children:""}),_.jsx("span",{children:s===ee.AR?"      .":"We deliver to all governorates in Jordan."})]}),_.jsxs("p",{className:"flex gap-3",children:[_.jsx("span",{className:"text-gold",children:""}),_.jsx("span",{children:s===ee.AR?"    24  48    .":"Delivery takes 24 to 48 hours from the order date."})]}),_.jsxs("p",{className:"flex gap-3",children:[_.jsx("span",{className:"text-gold",children:""}),_.jsx("span",{children:s===ee.AR?"    3   .":"Flat delivery fee of 3 JOD for all areas."})]}),_.jsx("p",{className:"flex gap-3 bg-blush/5 p-4 border-r-4 border-blush font-bold text-taliaBlack",children:_.jsx("span",{children:s===ee.AR?":         .        .":"Note: Cash on Delivery only. Inspection is available upon delivery. No returns or exchanges after the representative leaves."})})]})]});case"contact":return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:s===ee.AR?" ":"Contact Us"}),_.jsxs("div",{className:"grid gap-4",children:[_.jsxs("a",{href:"tel:0798739259",className:"flex items-center gap-4 p-4 bg-gray-50 hover:bg-gold/5 transition-colors rounded-xl border border-gray-100 group",children:[_.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:s===ee.AR?" ":"Phone Number"}),_.jsx("p",{className:"font-bold text-taliaBlack",children:"0798739259"})]})]}),_.jsxs("a",{href:"https://wa.me/962798739259",target:"_blank",className:"flex items-center gap-4 p-4 bg-gray-50 hover:bg-gold/5 transition-colors rounded-xl border border-gray-100 group",children:[_.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"WhatsApp"}),_.jsx("p",{className:"font-bold text-taliaBlack",children:" "})]})]}),_.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[_.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:s===ee.AR?"":"Location"}),_.jsx("p",{className:"font-bold text-taliaBlack",children:s===ee.AR?" - ":"Jordan - Amman"})]})]})]})]});default:return null}};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-taliaBlack/60 backdrop-blur-sm animate-[fadeIn_0.3s_ease-out]",onClick:e,children:_.jsxs("div",{className:"bg-pearl w-full max-w-lg shadow-2xl border border-gold/20 overflow-hidden relative animate-[reveal_0.4s_ease-out] rounded-[2rem]",onClick:c=>c.stopPropagation(),children:[_.jsx("button",{onClick:e,className:`absolute top-6 ${s===ee.AR?"left-6":"right-6"} text-gray-400 hover:text-blush transition-colors p-2 z-10`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),_.jsx("div",{className:"p-10",children:l()})]})})},Ok=()=>{const{t,language:e}=Mt(),[n,s]=D.useState({isOpen:!1,type:"size"}),o=c=>{s({isOpen:!0,type:c})},l=()=>{s({...n,isOpen:!1})};return _.jsxs(_.Fragment,{children:[_.jsxs("footer",{className:"bg-taliaBlack text-white py-20 border-t border-gold/10 relative z-10",children:[_.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-12 text-right",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsx($e,{to:"/",className:"text-3xl font-englishTitle tracking-tighter hover:text-blush transition-colors inline-block",children:"TaliaMode7"}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("p",{className:"text-gray-300 text-sm leading-relaxed font-bold",children:e===ee.AR?"       .":"Premium Turkish brands carefully selected for the modern Jordanian woman."}),_.jsx("p",{className:"text-gray-500 text-[12px] leading-relaxed",children:e===ee.AR?"TaliaMode7        .                     .":"TaliaMode7 is your premier destination for the finest Turkish fashion in Jordan. We feature exclusive pieces that blend modesty with modernity, ensuring authentic Turkish quality with reliable delivery across the Kingdom."})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ee.AR?"":"Categories"}),_.jsxs("ul",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[_.jsx("li",{children:_.jsx($e,{to:"/products",className:"hover:text-blush transition-colors",children:t.categories.all})}),_.jsx("li",{children:_.jsx($e,{to:`/category/${encodeURIComponent("  ")}`,className:"hover:text-blush transition-colors",children:t.categories["  "]})}),_.jsx("li",{children:_.jsx($e,{to:`/category/${encodeURIComponent("")}`,className:"hover:text-blush transition-colors",children:t.categories.})}),_.jsx("li",{children:_.jsx($e,{to:`/category/${encodeURIComponent("")}`,className:"hover:text-blush transition-colors",children:t.categories.})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ee.AR?" ":"Support"}),_.jsxs("ul",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[_.jsx("li",{children:_.jsx($e,{to:"/admin/login",className:"hover:text-blush transition-colors",children:e===ee.AR?" ":"Admin Portal"})}),_.jsx("li",{children:_.jsx("button",{onClick:()=>o("size"),className:"hover:text-blush transition-colors text-right w-full",children:t.sizeGuide})}),_.jsx("li",{children:_.jsx("button",{onClick:()=>o("shipping"),className:"hover:text-blush transition-colors text-right w-full",children:e===ee.AR?"  ":"Shipping Policy"})}),_.jsx("li",{children:_.jsx("button",{onClick:()=>o("contact"),className:"hover:text-blush transition-colors text-right w-full",children:e===ee.AR?" ":"Contact Us"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ee.AR?" ":"Contact"}),_.jsxs("div",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[_.jsxs("p",{className:"flex items-center gap-2 justify-end",children:[_.jsx("span",{children:e===ee.AR?" -   ":"Jordan - Delivery Everywhere"}),_.jsx("span",{className:"text-gold",children:""})]}),_.jsxs("p",{className:"flex items-center gap-2 justify-end",children:[_.jsx("span",{className:"font-bold select-all text-white",children:"0798739259"}),_.jsx("span",{className:"text-gold",children:""})]}),_.jsxs("div",{className:"flex gap-4 mt-8 justify-end",children:[_.jsxs("a",{href:"https://instagram.com",target:"_blank",className:"w-11 h-11 rounded-full border border-gray-800 flex items-center justify-center hover:bg-blush hover:border-blush transition-all group",children:[_.jsx("span",{className:"sr-only",children:"Instagram"}),_.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204 0-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})]}),_.jsxs("a",{href:"https://facebook.com",target:"_blank",className:"w-11 h-11 rounded-full border border-gray-800 flex items-center justify-center hover:bg-blush hover:border-blush transition-all group",children:[_.jsx("span",{className:"sr-only",children:"Facebook"}),_.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})]})]})]})]})]}),_.jsxs("div",{className:"w-full bg-gradient-to-r from-taliaBlack via-gray-900 to-taliaBlack border-y border-gold/20 py-6 mt-16 mb-8 relative overflow-hidden group",children:[_.jsx("div",{className:"absolute inset-0 bg-gold/5 animate-pulse"}),_.jsx("p",{className:"relative text-center text-gold font-bold text-sm md:text-base tracking-widest leading-relaxed px-4",children:e===ee.AR?"  :            .":" Important: Inspection available before representative leaves. No return/exchange after delivery."})]}),_.jsxs("div",{className:"container mx-auto px-4 pt-8 border-t border-gray-900",children:[_.jsx("p",{className:"text-[10px] text-gray-500 text-center leading-relaxed max-w-3xl mx-auto uppercase tracking-[0.2em]",children:t.marquee}),_.jsxs("div",{className:"text-center text-gray-600 text-[10px] uppercase tracking-[0.3em] mt-8",children:[" ",new Date().getFullYear()," TaliaMode7. ",e===ee.AR?"  .   .":"All Rights Reserved. Elegance defined."]})]})]}),_.jsx(Uk,{isOpen:n.isOpen,onClose:l,type:n.type})]})},Pk=()=>{const{t}=Mt();return _.jsx("div",{className:"bg-blush border-b border-white/20 text-taliaBlack overflow-hidden py-3 z-[60] sticky top-0 flex items-center shadow-lg",children:_.jsxs("div",{className:"animate-marquee whitespace-nowrap flex text-[11px] md:text-[13px] font-black tracking-tight",children:[_.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[_.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),_.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[_.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),_.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[_.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),_.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[_.jsx("span",{className:"text-white",children:""})," ",t.marquee]})]})})},Lk=()=>{const{t,language:e}=Mt(),n=tn(),s=decodeURIComponent(n.pathname),o=[{name:t.categories.all,path:"/products"},...Qd.map(l=>({name:t.categories[l]||l,path:`/category/${encodeURIComponent(l)}`}))];return _.jsx("div",{className:"bg-pearl border-b border-gold/5 relative z-30 transition-all duration-500",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsx("div",{className:"flex items-center justify-start md:justify-center overflow-x-auto no-scrollbar gap-2 md:gap-8 py-4",children:o.map((l,c)=>{const f=s===l.path;return _.jsx($e,{to:l.path,className:`flex-shrink-0 text-[10px] md:text-[11px] font-bold uppercase tracking-[0.15em] px-5 py-2 rounded-full transition-all duration-300 whitespace-nowrap ${f?"bg-blush text-white shadow-lg shadow-blush/20 scale-105":"text-gray-500 hover:text-blush hover:bg-blush/5"}`,children:l.name},c)})})})})},Bk=()=>_.jsx("a",{href:`https://wa.me/${EE.replace("+","")}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-[100] bg-[#25D366] text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-transform active:scale-95","aria-label":"Contact on WhatsApp",children:_.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",children:_.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})});var gf={};(function t(e,n,s,o){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),x=L.getContext("2d");x.fillRect(0,0,1,1);var B=L.transferToImageBitmap();x.createPattern(B,"no-repeat")}catch{return!1}return!0})();function p(){}function h(L){var x=n.exports.Promise,B=x!==void 0?x:e.Promise;return typeof B=="function"?new B(L):(L(p,p),null)}var v=(function(L,x){return{transform:function(B){if(L)return B;if(x.has(B))return x.get(B);var J=new OffscreenCanvas(B.width,B.height),Q=J.getContext("2d");return Q.drawImage(B,0,0),x.set(B,J),J},clear:function(){x.clear()}}})(f,new Map),b=(function(){var L=Math.floor(16.666666666666668),x,B,J={},Q=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(ne){var re=Math.random();return J[re]=requestAnimationFrame(function ie(he){Q===he||Q+L-1<he?(Q=he,delete J[re],ne()):J[re]=requestAnimationFrame(ie)}),re},B=function(ne){J[ne]&&cancelAnimationFrame(J[ne])}):(x=function(ne){return setTimeout(ne,L)},B=function(ne){return clearTimeout(ne)}),{frame:x,cancel:B}})(),w=(function(){var L,x,B={};function J(Q){function ne(re,ie){Q.postMessage({options:re||{},callback:ie})}Q.init=function(ie){var he=ie.transferControlToOffscreen();Q.postMessage({canvas:he},[he])},Q.fire=function(ie,he,_e){if(x)return ne(ie,null),x;var He=Math.random().toString(36).slice(2);return x=h(function(Le){function je(rt){rt.data.callback===He&&(delete B[He],Q.removeEventListener("message",je),x=null,v.clear(),_e(),Le())}Q.addEventListener("message",je),ne(ie,He),B[He]=je.bind(null,{data:{callback:He}})}),x},Q.reset=function(){Q.postMessage({reset:!0});for(var ie in B)B[ie](),delete B[ie]}}return function(){if(L)return L;if(!s&&l){var Q=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([Q])))}catch(ne){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ne),null}J(L)}return L}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function A(L,x){return x?x(L):L}function R(L){return L!=null}function C(L,x,B){return A(L&&R(L[x])?L[x]:E[x],B)}function M(L){return L<0?0:Math.floor(L)}function P(L,x){return Math.floor(Math.random()*(x-L))+L}function I(L){return parseInt(L,16)}function U(L){return L.map(W)}function W(L){var x=String(L).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:I(x.substring(0,2)),g:I(x.substring(2,4)),b:I(x.substring(4,6))}}function X(L){var x=C(L,"origin",Object);return x.x=C(x,"x",Number),x.y=C(x,"y",Number),x}function F(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function ae(L){var x=L.getBoundingClientRect();L.width=x.width,L.height=x.height}function z(L){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=L,x}function te(L,x,B,J,Q,ne,re,ie,he){L.save(),L.translate(x,B),L.rotate(ne),L.scale(J,Q),L.arc(0,0,1,re,ie,he),L.restore()}function fe(L){var x=L.angle*(Math.PI/180),B=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-x+(.5*B-Math.random()*B),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function me(L,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var B=x.tick++/x.totalTicks,J=x.x+x.random*x.tiltCos,Q=x.y+x.random*x.tiltSin,ne=x.wobbleX+x.random*x.tiltCos,re=x.wobbleY+x.random*x.tiltSin;if(L.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-B)+")",L.beginPath(),c&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))L.fill(Z(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(ne-J)*.1,Math.abs(re-Q)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var ie=Math.PI/10*x.wobble,he=Math.abs(ne-J)*.1,_e=Math.abs(re-Q)*.1,He=x.shape.bitmap.width*x.scalar,Le=x.shape.bitmap.height*x.scalar,je=new DOMMatrix([Math.cos(ie)*he,Math.sin(ie)*he,-Math.sin(ie)*_e,Math.cos(ie)*_e,x.x,x.y]);je.multiplySelf(new DOMMatrix(x.shape.matrix));var rt=L.createPattern(v.transform(x.shape.bitmap),"no-repeat");rt.setTransform(je),L.globalAlpha=1-B,L.fillStyle=rt,L.fillRect(x.x-He/2,x.y-Le/2,He,Le),L.globalAlpha=1}else if(x.shape==="circle")L.ellipse?L.ellipse(x.x,x.y,Math.abs(ne-J)*x.ovalScalar,Math.abs(re-Q)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):te(L,x.x,x.y,Math.abs(ne-J)*x.ovalScalar,Math.abs(re-Q)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var Ee=Math.PI/2*3,ht=4*x.scalar,At=8*x.scalar,Gt=x.x,nn=x.y,vn=5,kt=Math.PI/vn;vn--;)Gt=x.x+Math.cos(Ee)*At,nn=x.y+Math.sin(Ee)*At,L.lineTo(Gt,nn),Ee+=kt,Gt=x.x+Math.cos(Ee)*ht,nn=x.y+Math.sin(Ee)*ht,L.lineTo(Gt,nn),Ee+=kt;else L.moveTo(Math.floor(x.x),Math.floor(x.y)),L.lineTo(Math.floor(x.wobbleX),Math.floor(Q)),L.lineTo(Math.floor(ne),Math.floor(re)),L.lineTo(Math.floor(J),Math.floor(x.wobbleY));return L.closePath(),L.fill(),x.tick<x.totalTicks}function se(L,x,B,J,Q){var ne=x.slice(),re=L.getContext("2d"),ie,he,_e=h(function(He){function Le(){ie=he=null,re.clearRect(0,0,J.width,J.height),v.clear(),Q(),He()}function je(){s&&!(J.width===o.width&&J.height===o.height)&&(J.width=L.width=o.width,J.height=L.height=o.height),!J.width&&!J.height&&(B(L),J.width=L.width,J.height=L.height),re.clearRect(0,0,J.width,J.height),ne=ne.filter(function(rt){return me(re,rt)}),ne.length?ie=b.frame(je):Le()}ie=b.frame(je),he=Le});return{addFettis:function(He){return ne=ne.concat(He),_e},canvas:L,promise:_e,reset:function(){ie&&b.cancel(ie),he&&he()}}}function Te(L,x){var B=!L,J=!!C(x||{},"resize"),Q=!1,ne=C(x,"disableForReducedMotion",Boolean),re=l&&!!C(x||{},"useWorker"),ie=re?w():null,he=B?F:ae,_e=L&&ie?!!L.__confetti_initialized:!1,He=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Le;function je(Ee,ht,At){for(var Gt=C(Ee,"particleCount",M),nn=C(Ee,"angle",Number),vn=C(Ee,"spread",Number),kt=C(Ee,"startVelocity",Number),hr=C(Ee,"decay",Number),Ol=C(Ee,"gravity",Number),Pl=C(Ee,"drift",Number),xt=C(Ee,"colors",U),Ll=C(Ee,"ticks",Number),pr=C(Ee,"shapes"),Io=C(Ee,"scalar"),ls=!!C(Ee,"flat"),Mo=X(Ee),mr=Gt,gr=[],Bl=L.width*Mo.x,Di=L.height*Mo.y;mr--;)gr.push(fe({x:Bl,y:Di,angle:nn,spread:vn,startVelocity:kt,color:xt[mr%xt.length],shape:pr[P(0,pr.length)],ticks:Ll,decay:hr,gravity:Ol,drift:Pl,scalar:Io,flat:ls}));return Le?Le.addFettis(gr):(Le=se(L,gr,he,ht,At),Le.promise)}function rt(Ee){var ht=ne||C(Ee,"disableForReducedMotion",Boolean),At=C(Ee,"zIndex",Number);if(ht&&He)return h(function(kt){kt()});B&&Le?L=Le.canvas:B&&!L&&(L=z(At),document.body.appendChild(L)),J&&!_e&&he(L);var Gt={width:L.width,height:L.height};ie&&!_e&&ie.init(L),_e=!0,ie&&(L.__confetti_initialized=!0);function nn(){if(ie){var kt={getBoundingClientRect:function(){if(!B)return L.getBoundingClientRect()}};he(kt),ie.postMessage({resize:{width:kt.width,height:kt.height}});return}Gt.width=Gt.height=null}function vn(){Le=null,J&&(Q=!1,e.removeEventListener("resize",nn)),B&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,_e=!1)}return J&&!Q&&(Q=!0,e.addEventListener("resize",nn,!1)),ie?ie.fire(Ee,Gt,vn):je(Ee,Gt,vn)}return rt.reset=function(){ie&&ie.reset(),Le&&Le.reset()},rt}var Ye;function V(){return Ye||(Ye=Te(null,{useWorker:!0,resize:!0})),Ye}function Z(L,x,B,J,Q,ne,re){var ie=new Path2D(L),he=new Path2D;he.addPath(ie,new DOMMatrix(x));var _e=new Path2D;return _e.addPath(he,new DOMMatrix([Math.cos(re)*Q,Math.sin(re)*Q,-Math.sin(re)*ne,Math.cos(re)*ne,B,J])),_e}function ge(L){if(!c)throw new Error("path confetti are not supported in this browser");var x,B;typeof L=="string"?x=L:(x=L.path,B=L.matrix);var J=new Path2D(x),Q=document.createElement("canvas"),ne=Q.getContext("2d");if(!B){for(var re=1e3,ie=re,he=re,_e=0,He=0,Le,je,rt=0;rt<re;rt+=2)for(var Ee=0;Ee<re;Ee+=2)ne.isPointInPath(J,rt,Ee,"nonzero")&&(ie=Math.min(ie,rt),he=Math.min(he,Ee),_e=Math.max(_e,rt),He=Math.max(He,Ee));Le=_e-ie,je=He-he;var ht=10,At=Math.min(ht/Le,ht/je);B=[At,0,0,At,-Math.round(Le/2+ie)*At,-Math.round(je/2+he)*At]}return{type:"path",path:x,matrix:B}}function Pe(L){var x,B=1,J="#000000",Q='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?x=L:(x=L.text,B="scalar"in L?L.scalar:B,Q="fontFamily"in L?L.fontFamily:Q,J="color"in L?L.color:J);var ne=10*B,re=""+ne+"px "+Q,ie=new OffscreenCanvas(ne,ne),he=ie.getContext("2d");he.font=re;var _e=he.measureText(x),He=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),Le=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),je=2,rt=_e.actualBoundingBoxLeft+je,Ee=_e.actualBoundingBoxAscent+je;He+=je+je,Le+=je+je,ie=new OffscreenCanvas(He,Le),he=ie.getContext("2d"),he.font=re,he.fillStyle=J,he.fillText(x,rt,Ee);var ht=1/B;return{type:"bitmap",bitmap:ie.transferToImageBitmap(),matrix:[ht,0,0,ht,-He*ht/2,-Le*ht/2]}}n.exports=function(){return V().apply(this,arguments)},n.exports.reset=function(){V().reset()},n.exports.create=Te,n.exports.shapeFromPath=ge,n.exports.shapeFromText=Pe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),gf,!1);const qk=gf.exports;gf.exports.create;const g_=D.createContext(void 0),Ul=()=>{const t=D.useContext(g_);if(!t)throw new Error("useCart must be used within CartProvider");return t},v_=D.createContext(void 0),Mt=()=>{const t=D.useContext(v_);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t},Hk=()=>{const t=tn();return D.useEffect(()=>{const e=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&o.target.classList.add("revealed")})},{threshold:.15});return document.querySelectorAll("[data-reveal]").forEach(s=>e.observe(s)),window.scrollTo(0,0),()=>e.disconnect()},[t]),null},Gk=({children:t})=>{const n=tn().pathname.startsWith("/admin"),{language:s}=Mt();return _.jsxs("div",{dir:s===ee.AR?"rtl":"ltr",className:`min-h-screen flex flex-col ${s===ee.AR?"font-arabic":"font-englishContent"}`,children:[!n&&_.jsx(Pk,{}),!n&&_.jsx(Dk,{}),!n&&_.jsx(Lk,{}),_.jsx("main",{className:"flex-grow",children:t}),!n&&_.jsx(Ok,{}),!n&&_.jsx(Bk,{})]})},zk=()=>{const[t,e]=D.useState(()=>localStorage.getItem("talia_lang")||ee.AR),n=()=>{const b=t===ee.AR?ee.EN:ee.AR;e(b),localStorage.setItem("talia_lang",b)},[s,o]=D.useState(null),[l,c]=D.useState(()=>{const b=localStorage.getItem("talia_cart");return b?JSON.parse(b):[]});D.useEffect(()=>{localStorage.setItem("talia_cart",JSON.stringify(l))},[l]);const f=(b,w,E=1)=>{c(A=>A.find(C=>C.id===b.id&&C.selectedSize===w)?A.map(C=>C.id===b.id&&C.selectedSize===w?{...C,cartQuantity:C.cartQuantity+E}:C):[...A,{...b,selectedSize:w,cartQuantity:E}]),o(b),setTimeout(()=>o(null),3500),qk({particleCount:80,spread:70,origin:{y:.8},colors:["#f472b6","#d4af37","#ffffff"],ticks:150})},p=(b,w)=>{c(E=>E.filter(A=>!(A.id===b&&A.selectedSize===w)))},h=()=>c([]),v=l.reduce((b,w)=>b+w.cartQuantity,0);return _.jsx(v_.Provider,{value:{language:t,t:Ig[t],toggleLanguage:n},children:_.jsx(g_.Provider,{value:{cart:l,addToCart:f,removeFromCart:p,clearCart:h,totalItems:v,lastAddedItem:s},children:_.jsxs(fE,{children:[_.jsx(Hk,{}),s&&_.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[200] w-[90%] max-w-sm animate-fadeInUp",children:_.jsxs("div",{className:"bg-white/95 backdrop-blur-md border border-blush/20 shadow-2xl p-4 rounded-2xl flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-16 rounded-lg overflow-hidden flex-shrink-0 border border-gray-100",children:_.jsx("img",{src:s.images[0],className:"w-full h-full object-cover",alt:""})}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("p",{className:"text-[10px] font-bold text-blush uppercase tracking-widest mb-1",children:t===ee.AR?"   ":"Added to Cart "}),_.jsx("p",{className:"text-xs font-bold text-gray-800 line-clamp-1",children:s.name})]}),_.jsx($e,{to:"/cart",className:"bg-blush text-white px-4 py-2 rounded-full text-[10px] font-bold hover:bg-taliaBlack transition-colors",children:Ig[t].cart})]})}),_.jsx(Gk,{children:_.jsxs(Zy,{children:[_.jsx(Ht,{path:"/",element:_.jsx(_k,{})}),_.jsx(Ht,{path:"/products",element:_.jsx(Dy,{})}),_.jsx(Ht,{path:"/category/:category",element:_.jsx(Dy,{})}),_.jsx(Ht,{path:"/product/:id",element:_.jsx(wk,{})}),_.jsx(Ht,{path:"/cart",element:_.jsx(Sk,{})}),_.jsx(Ht,{path:"/wishlist",element:_.jsx(xk,{})}),_.jsx(Ht,{path:"/checkout",element:_.jsx(Ek,{})}),_.jsx(Ht,{path:"/admin/login",element:_.jsx(Tk,{})}),_.jsx(Ht,{path:"/admin/*",element:_.jsx(Rk,{})})]})})]})})})},y_=document.getElementById("root");if(!y_)throw new Error("Could not find root element to mount to");const Vk=Fw.createRoot(y_);Vk.render(_.jsx(Oy.StrictMode,{children:_.jsx(zk,{})}));
