(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Dv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wc={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Uw(){if(fg)return lo;fg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return lo.Fragment=e,lo.jsx=n,lo.jsxs=n,lo}var hg;function Ow(){return hg||(hg=1,Wc.exports=Uw()),Wc.exports}var _=Ow(),Qc={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function Pw(){if(pg)return _e;pg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function M(x,q,j){this.props=x,this.context=q,this.refs=C,this.updater=j||A}M.prototype.isReactComponent={},M.prototype.setState=function(x,q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,q,"setState")},M.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function L(){}L.prototype=M.prototype;function I(x,q,j){this.props=x,this.context=q,this.refs=C,this.updater=j||A}var O=I.prototype=new L;O.constructor=I,R(O,M.prototype),O.isPureReactComponent=!0;var K=Array.isArray;function W(){}var U={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function X(x,q,j){var Q=j.ref;return{$$typeof:t,type:x,key:q,ref:Q!==void 0?Q:null,props:j}}function ne(x,q){return X(x.type,q,x.props)}function be(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function Le(x){var q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(j){return q[j]})}var ue=/\/+/g;function Ce(x,q){return typeof x=="object"&&x!==null&&x.key!=null?Le(""+x.key):q.toString(36)}function Ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(W,W):(x.status="pending",x.then(function(q){x.status==="pending"&&(x.status="fulfilled",x.value=q)},function(q){x.status==="pending"&&(x.status="rejected",x.reason=q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function $(x,q,j,Q,ie){var re=typeof x;(re==="undefined"||re==="boolean")&&(x=null);var se=!1;if(x===null)se=!0;else switch(re){case"bigint":case"string":case"number":se=!0;break;case"object":switch(x.$$typeof){case t:case e:se=!0;break;case y:return se=x._init,$(se(x._payload),q,j,Q,ie)}}if(se)return ie=ie(x),se=Q===""?"."+Ce(x,0):Q,K(ie)?(j="",se!=null&&(j=se.replace(ue,"$&/")+"/"),$(ie,q,j,"",function(He){return He})):ie!=null&&(be(ie)&&(ie=ne(ie,j+(ie.key==null||x&&x.key===ie.key?"":(""+ie.key).replace(ue,"$&/")+"/")+se)),q.push(ie)),1;se=0;var fe=Q===""?".":Q+":";if(K(x))for(var ye=0;ye<x.length;ye++)Q=x[ye],re=fe+Ce(Q,ye),se+=$(Q,q,j,re,ie);else if(ye=E(x),typeof ye=="function")for(x=ye.call(x),ye=0;!(Q=x.next()).done;)Q=Q.value,re=fe+Ce(Q,ye++),se+=$(Q,q,j,re,ie);else if(re==="object"){if(typeof x.then=="function")return $(Ye(x),q,j,Q,ie);throw q=String(x),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return se}function te(x,q,j){if(x==null)return x;var Q=[],ie=0;return $(x,Q,"","",function(re){return q.call(j,re,ie++)}),Q}function pe(x){if(x._status===-1){var q=x._result;q=q(),q.then(function(j){(x._status===0||x._status===-1)&&(x._status=1,x._result=j)},function(j){(x._status===0||x._status===-1)&&(x._status=2,x._result=j)}),x._status===-1&&(x._status=0,x._result=q)}if(x._status===1)return x._result.default;throw x._result}var Oe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},B={map:te,forEach:function(x,q,j){te(x,function(){q.apply(this,arguments)},j)},count:function(x){var q=0;return te(x,function(){q++}),q},toArray:function(x){return te(x,function(q){return q})||[]},only:function(x){if(!be(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return _e.Activity=b,_e.Children=B,_e.Component=M,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=I,_e.StrictMode=s,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,_e.__COMPILER_RUNTIME={__proto__:null,c:function(x){return U.H.useMemoCache(x)}},_e.cache=function(x){return function(){return x.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(x,q,j){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Q=R({},x.props),ie=x.key;if(q!=null)for(re in q.key!==void 0&&(ie=""+q.key),q)!Z.call(q,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&q.ref===void 0||(Q[re]=q[re]);var re=arguments.length-2;if(re===1)Q.children=j;else if(1<re){for(var se=Array(re),fe=0;fe<re;fe++)se[fe]=arguments[fe+2];Q.children=se}return X(x.type,ie,Q)},_e.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},_e.createElement=function(x,q,j){var Q,ie={},re=null;if(q!=null)for(Q in q.key!==void 0&&(re=""+q.key),q)Z.call(q,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=q[Q]);var se=arguments.length-2;if(se===1)ie.children=j;else if(1<se){for(var fe=Array(se),ye=0;ye<se;ye++)fe[ye]=arguments[ye+2];ie.children=fe}if(x&&x.defaultProps)for(Q in se=x.defaultProps,se)ie[Q]===void 0&&(ie[Q]=se[Q]);return X(x,re,ie)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(x){return{$$typeof:f,render:x}},_e.isValidElement=be,_e.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:pe}},_e.memo=function(x,q){return{$$typeof:h,type:x,compare:q===void 0?null:q}},_e.startTransition=function(x){var q=U.T,j={};U.T=j;try{var Q=x(),ie=U.S;ie!==null&&ie(j,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(W,Oe)}catch(re){Oe(re)}finally{q!==null&&j.types!==null&&(q.types=j.types),U.T=q}},_e.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},_e.use=function(x){return U.H.use(x)},_e.useActionState=function(x,q,j){return U.H.useActionState(x,q,j)},_e.useCallback=function(x,q){return U.H.useCallback(x,q)},_e.useContext=function(x){return U.H.useContext(x)},_e.useDebugValue=function(){},_e.useDeferredValue=function(x,q){return U.H.useDeferredValue(x,q)},_e.useEffect=function(x,q){return U.H.useEffect(x,q)},_e.useEffectEvent=function(x){return U.H.useEffectEvent(x)},_e.useId=function(){return U.H.useId()},_e.useImperativeHandle=function(x,q,j){return U.H.useImperativeHandle(x,q,j)},_e.useInsertionEffect=function(x,q){return U.H.useInsertionEffect(x,q)},_e.useLayoutEffect=function(x,q){return U.H.useLayoutEffect(x,q)},_e.useMemo=function(x,q){return U.H.useMemo(x,q)},_e.useOptimistic=function(x,q){return U.H.useOptimistic(x,q)},_e.useReducer=function(x,q,j){return U.H.useReducer(x,q,j)},_e.useRef=function(x){return U.H.useRef(x)},_e.useState=function(x){return U.H.useState(x)},_e.useSyncExternalStore=function(x,q,j){return U.H.useSyncExternalStore(x,q,j)},_e.useTransition=function(){return U.H.useTransition()},_e.version="19.2.3",_e}var mg;function Fd(){return mg||(mg=1,Qc.exports=Pw()),Qc.exports}var D=Fd();const Uv=Dv(D);var Zc={exports:{}},uo={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function Lw(){return gg||(gg=1,(function(t){function e($,te){var pe=$.length;$.push(te);e:for(;0<pe;){var Oe=pe-1>>>1,B=$[Oe];if(0<o(B,te))$[Oe]=te,$[pe]=B,pe=Oe;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var te=$[0],pe=$.pop();if(pe!==te){$[0]=pe;e:for(var Oe=0,B=$.length,x=B>>>1;Oe<x;){var q=2*(Oe+1)-1,j=$[q],Q=q+1,ie=$[Q];if(0>o(j,pe))Q<B&&0>o(ie,j)?($[Oe]=ie,$[Q]=pe,Oe=Q):($[Oe]=j,$[q]=pe,Oe=q);else if(Q<B&&0>o(ie,pe))$[Oe]=ie,$[Q]=pe,Oe=Q;else break e}}return te}function o($,te){var pe=$.sortIndex-te.sortIndex;return pe!==0?pe:$.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],h=[],y=1,b=null,w=3,E=!1,A=!1,R=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function O($){for(var te=n(h);te!==null;){if(te.callback===null)s(h);else if(te.startTime<=$)s(h),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(h)}}function K($){if(R=!1,O($),!A)if(n(p)!==null)A=!0,W||(W=!0,Le());else{var te=n(h);te!==null&&Ye(K,te.startTime-$)}}var W=!1,U=-1,Z=5,X=-1;function ne(){return C?!0:!(t.unstable_now()-X<Z)}function be(){if(C=!1,W){var $=t.unstable_now();X=$;var te=!0;try{e:{A=!1,R&&(R=!1,L(U),U=-1),E=!0;var pe=w;try{t:{for(O($),b=n(p);b!==null&&!(b.expirationTime>$&&ne());){var Oe=b.callback;if(typeof Oe=="function"){b.callback=null,w=b.priorityLevel;var B=Oe(b.expirationTime<=$);if($=t.unstable_now(),typeof B=="function"){b.callback=B,O($),te=!0;break t}b===n(p)&&s(p),O($)}else s(p);b=n(p)}if(b!==null)te=!0;else{var x=n(h);x!==null&&Ye(K,x.startTime-$),te=!1}}break e}finally{b=null,w=pe,E=!1}te=void 0}}finally{te?Le():W=!1}}}var Le;if(typeof I=="function")Le=function(){I(be)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Ce=ue.port2;ue.port1.onmessage=be,Le=function(){Ce.postMessage(null)}}else Le=function(){M(be,0)};function Ye($,te){U=M(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function($){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var pe=w;w=te;try{return $()}finally{w=pe}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=w;w=$;try{return te()}finally{w=pe}},t.unstable_scheduleCallback=function($,te,pe){var Oe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Oe+pe:Oe):pe=Oe,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=pe+B,$={id:y++,callback:te,priorityLevel:$,startTime:pe,expirationTime:B,sortIndex:-1},pe>Oe?($.sortIndex=pe,e(h,$),n(p)===null&&$===n(h)&&(R?(L(U),U=-1):R=!0,Ye(K,pe-Oe))):($.sortIndex=B,e(p,$),A||E||(A=!0,W||(W=!0,Le()))),$},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function($){var te=w;return function(){var pe=w;w=te;try{return $.apply(this,arguments)}finally{w=pe}}}})(td)),td}var yg;function Bw(){return yg||(yg=1,ed.exports=Lw()),ed.exports}var nd={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function qw(){if(vg)return Tt;vg=1;var t=Fd();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,h,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:h,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tt.createPortal=function(p,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(p,h,null,y)},Tt.flushSync=function(p){var h=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=h,s.p=y,s.d.f()}},Tt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(p,h))},Tt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Tt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var y=h.as,b=f(y,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?s.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:E}):y==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Tt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=f(h.as,h.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(p)},Tt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,b=f(y,h.crossOrigin);s.d.L(p,y,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Tt.preloadModule=function(p,h){if(typeof p=="string")if(h){var y=f(h.as,h.crossOrigin);s.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(p)},Tt.requestFormReset=function(p){s.d.r(p)},Tt.unstable_batchedUpdates=function(p,h){return p(h)},Tt.useFormState=function(p,h,y){return c.H.useFormState(p,h,y)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var _g;function Hw(){if(_g)return nd.exports;_g=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nd.exports=qw(),nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function Gw(){if(bg)return uo;bg=1;var t=Bw(),e=Fd(),n=Hw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function h(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return p(g),i;if(v===u)return p(g),r;v=v.sibling}throw Error(s(188))}if(a.return!==u.return)a=g,u=v;else{for(var S=!1,T=g.child;T;){if(T===a){S=!0,a=g,u=v;break}if(T===u){S=!0,u=g,a=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===a){S=!0,a=v,u=g;break}if(T===u){S=!0,u=v,a=g;break}T=T.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function Le(i){return i===null||typeof i!="object"?null:(i=be&&i[be]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ue?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case K:return"Suspense";case W:return"SuspenseList";case X:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case I:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case O:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return r=i.displayName||null,r!==null?r:Ce(i.type)||"Memo";case Z:r=i._payload,i=i._init;try{return Ce(i(r))}catch{}}return null}var Ye=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Oe=[],B=-1;function x(i){return{current:i}}function q(i){0>B||(i.current=Oe[B],Oe[B]=null,B--)}function j(i,r){B++,Oe[B]=i.current,i.current=r}var Q=x(null),ie=x(null),re=x(null),se=x(null);function fe(i,r){switch(j(re,r),j(ie,i),j(Q,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Om(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Om(r),i=Pm(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(Q),j(Q,i)}function ye(){q(Q),q(ie),q(re)}function He(i){i.memoizedState!==null&&j(se,i);var r=Q.current,a=Pm(r,i.type);r!==a&&(j(ie,i),j(Q,a))}function Pe(i){ie.current===i&&(q(Q),q(ie)),se.current===i&&(q(se),so._currentValue=pe)}var je,rt;function Se(i){if(je===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);je=r&&r[1]||"",rt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+i+rt}var ht=!1;function At(i,r){if(!i||ht)return"";ht=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(V){var z=V}Reflect.construct(i,[],Y)}else{try{Y.call()}catch(V){z=V}i.call(Y.prototype)}}else{try{throw Error()}catch(V){z=V}(Y=i())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(V){if(V&&z&&typeof V.stack=="string")return[V.stack,z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),S=v[0],T=v[1];if(S&&T){var N=S.split(`
`),G=T.split(`
`);for(g=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(u===N.length||g===G.length)for(u=N.length-1,g=G.length-1;1<=u&&0<=g&&N[u]!==G[g];)g--;for(;1<=u&&0<=g;u--,g--)if(N[u]!==G[g]){if(u!==1||g!==1)do if(u--,g--,0>g||N[u]!==G[g]){var F=`
`+N[u].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=u&&0<=g);break}}}finally{ht=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Se(a):""}function Gt(i,r){switch(i.tag){case 26:case 27:case 5:return Se(i.type);case 16:return Se("Lazy");case 13:return i.child!==r&&r!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return At(i.type,!1);case 11:return At(i.type.render,!1);case 1:return At(i.type,!0);case 31:return Se("Activity");default:return""}}function nn(i){try{var r="",a=null;do r+=Gt(i,a),a=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var yn=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,hr=t.unstable_cancelCallback,Ol=t.unstable_shouldYield,Pl=t.unstable_requestPaint,xt=t.unstable_now,Ll=t.unstable_getCurrentPriorityLevel,pr=t.unstable_ImmediatePriority,Io=t.unstable_UserBlockingPriority,ls=t.unstable_NormalPriority,Mo=t.unstable_LowPriority,mr=t.unstable_IdlePriority,gr=t.log,Bl=t.unstable_setDisableYieldValue,Di=null,zt=null;function ii(i){if(typeof gr=="function"&&Bl(i),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Di,i)}catch{}}var Vt=Math.clz32?Math.clz32:b_,v_=Math.log,__=Math.LN2;function b_(i){return i>>>=0,i===0?32:31-(v_(i)/__|0)|0}var ko=256,Do=262144,Uo=4194304;function Ui(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oo(i,r,a){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var T=u&134217727;return T!==0?(u=T&~v,u!==0?g=Ui(u):(S&=T,S!==0?g=Ui(S):a||(a=T&~i,a!==0&&(g=Ui(a))))):(T=u&~v,T!==0?g=Ui(T):S!==0?g=Ui(S):a||(a=u&~i,a!==0&&(g=Ui(a)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,a=r&-r,v>=a||v===32&&(a&4194048)!==0)?r:g}function yr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function w_(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gf(){var i=Uo;return Uo<<=1,(Uo&62914560)===0&&(Uo=4194304),i}function ql(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function vr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function S_(i,r,a,u,g,v){var S=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var T=i.entanglements,N=i.expirationTimes,G=i.hiddenUpdates;for(a=S&~a;0<a;){var F=31-Vt(a),Y=1<<F;T[F]=0,N[F]=-1;var z=G[F];if(z!==null)for(G[F]=null,F=0;F<z.length;F++){var V=z[F];V!==null&&(V.lane&=-536870913)}a&=~Y}u!==0&&yf(i,u,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(S&~r))}function yf(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Vt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function vf(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Vt(a),g=1<<u;g&r|i[u]&r&&(i[u]|=r),a&=~g}}function _f(i,r){var a=r&-r;return a=(a&42)!==0?1:Hl(a),(a&(i.suspendedLanes|r))!==0?0:a}function Hl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function bf(){var i=te.p;return i!==0?i:(i=window.event,i===void 0?32:rg(i.type))}function wf(i,r){var a=te.p;try{return te.p=i,r()}finally{te.p=a}}var si=Math.random().toString(36).slice(2),yt="__reactFiber$"+si,Dt="__reactProps$"+si,us="__reactContainer$"+si,zl="__reactEvents$"+si,E_="__reactListeners$"+si,x_="__reactHandles$"+si,Sf="__reactResources$"+si,_r="__reactMarker$"+si;function Vl(i){delete i[yt],delete i[Dt],delete i[zl],delete i[E_],delete i[x_]}function cs(i){var r=i[yt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[us]||a[yt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=Vm(i);i!==null;){if(a=i[yt])return a;i=Vm(i)}return r}i=a,a=i.parentNode}return null}function ds(i){if(i=i[yt]||i[us]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function br(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function fs(i){var r=i[Sf];return r||(r=i[Sf]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(i){i[_r]=!0}var Ef=new Set,xf={};function Oi(i,r){hs(i,r),hs(i+"Capture",r)}function hs(i,r){for(xf[i]=r,i=0;i<r.length;i++)Ef.add(r[i])}var T_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tf={},Cf={};function C_(i){return yn.call(Cf,i)?!0:yn.call(Tf,i)?!1:T_.test(i)?Cf[i]=!0:(Tf[i]=!0,!1)}function Po(i,r,a){if(C_(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Lo(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function kn(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Af(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function A_(i,r,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(S){a=""+S,v.call(this,S)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $l(i){if(!i._valueTracker){var r=Af(i)?"checked":"value";i._valueTracker=A_(i,r,""+i[r])}}function Rf(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=Af(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function Bo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var R_=/[\n"\\]/g;function rn(i){return i.replace(R_,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fl(i,r,a,u,g,v,S,T){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),r!=null?S==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+sn(r)):i.value!==""+sn(r)&&(i.value=""+sn(r)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),r!=null?jl(i,S,sn(r)):a!=null?jl(i,S,sn(a)):u!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+sn(T):i.removeAttribute("name")}function Nf(i,r,a,u,g,v,S,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){$l(i);return}a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,T||r===i.value||(i.value=r),i.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=T?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),$l(i)}function jl(i,r,a){r==="number"&&Bo(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ps(i,r,a,u){if(i=i.options,r){r={};for(var g=0;g<a.length;g++)r["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=r.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&u&&(i[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function If(i,r,a){if(r!=null&&(r=""+sn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+sn(a):""}function Mf(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Ye(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=sn(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),$l(i)}function ms(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var N_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kf(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||N_.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Df(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&a[g]!==u&&kf(i,g,u)}else for(var v in r)r.hasOwnProperty(v)&&kf(i,v,r[v])}function Jl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),M_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(i){return M_.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Dn(){}var Yl=null;function Kl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gs=null,ys=null;function Uf(i){var r=ds(i);if(r&&(i=r.stateNode)){var a=i[Dt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Fl(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var g=u[Dt]||null;if(!g)throw Error(s(90));Fl(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&Rf(u)}break e;case"textarea":If(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ps(i,!!a.multiple,r,!1)}}}var Xl=!1;function Of(i,r,a){if(Xl)return i(r,a);Xl=!0;try{var u=i(r);return u}finally{if(Xl=!1,(gs!==null||ys!==null)&&(Ca(),gs&&(r=gs,i=ys,ys=gs=null,Uf(r),i)))for(r=0;r<i.length;r++)Uf(i[r])}}function wr(i,r){var a=i.stateNode;if(a===null)return null;var u=a[Dt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(Un)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Wl=!1}var ri=null,Ql=null,Ho=null;function Pf(){if(Ho)return Ho;var i,r=Ql,a=r.length,u,g="value"in ri?ri.value:ri.textContent,v=g.length;for(i=0;i<a&&r[i]===g[i];i++);var S=a-i;for(u=1;u<=S&&r[a-u]===g[v-u];u++);return Ho=g.slice(i,1<u?1-u:void 0)}function Go(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function zo(){return!0}function Lf(){return!1}function Ut(i){function r(a,u,g,v,S){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(a=i[T],this[T]=a?a(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?zo:Lf,this.isPropagationStopped=Lf,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),r}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Ut(Pi),Er=b({},Pi,{view:0,detail:0}),k_=Ut(Er),Zl,eu,xr,$o=b({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xr&&(xr&&i.type==="mousemove"?(Zl=i.screenX-xr.screenX,eu=i.screenY-xr.screenY):eu=Zl=0,xr=i),Zl)},movementY:function(i){return"movementY"in i?i.movementY:eu}}),Bf=Ut($o),D_=b({},$o,{dataTransfer:0}),U_=Ut(D_),O_=b({},Er,{relatedTarget:0}),tu=Ut(O_),P_=b({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=Ut(P_),B_=b({},Pi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),q_=Ut(B_),H_=b({},Pi,{data:0}),qf=Ut(H_),G_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $_(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=V_[i])?!!r[i]:!1}function nu(){return $_}var F_=b({},Er,{key:function(i){if(i.key){var r=G_[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Go(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?z_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(i){return i.type==="keypress"?Go(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Go(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),j_=Ut(F_),J_=b({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hf=Ut(J_),Y_=b({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),K_=Ut(Y_),X_=b({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),W_=Ut(X_),Q_=b({},$o,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z_=Ut(Q_),eb=b({},Pi,{newState:0,oldState:0}),tb=Ut(eb),nb=[9,13,27,32],iu=Un&&"CompositionEvent"in window,Tr=null;Un&&"documentMode"in document&&(Tr=document.documentMode);var ib=Un&&"TextEvent"in window&&!Tr,Gf=Un&&(!iu||Tr&&8<Tr&&11>=Tr),zf=" ",Vf=!1;function $f(i,r){switch(i){case"keyup":return nb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ff(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vs=!1;function sb(i,r){switch(i){case"compositionend":return Ff(r);case"keypress":return r.which!==32?null:(Vf=!0,zf);case"textInput":return i=r.data,i===zf&&Vf?null:i;default:return null}}function rb(i,r){if(vs)return i==="compositionend"||!iu&&$f(i,r)?(i=Pf(),Ho=Ql=ri=null,vs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gf&&r.locale!=="ko"?null:r.data;default:return null}}var ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ob[i.type]:r==="textarea"}function Jf(i,r,a,u){gs?ys?ys.push(u):ys=[u]:gs=u,r=Da(r,"onChange"),0<r.length&&(a=new Vo("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Cr=null,Ar=null;function ab(i){Nm(i,0)}function Fo(i){var r=br(i);if(Rf(r))return i}function Yf(i,r){if(i==="change")return r}var Kf=!1;if(Un){var su;if(Un){var ru="oninput"in document;if(!ru){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),ru=typeof Xf.oninput=="function"}su=ru}else su=!1;Kf=su&&(!document.documentMode||9<document.documentMode)}function Wf(){Cr&&(Cr.detachEvent("onpropertychange",Qf),Ar=Cr=null)}function Qf(i){if(i.propertyName==="value"&&Fo(Ar)){var r=[];Jf(r,Ar,i,Kl(i)),Of(ab,r)}}function lb(i,r,a){i==="focusin"?(Wf(),Cr=r,Ar=a,Cr.attachEvent("onpropertychange",Qf)):i==="focusout"&&Wf()}function ub(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fo(Ar)}function cb(i,r){if(i==="click")return Fo(r)}function db(i,r){if(i==="input"||i==="change")return Fo(r)}function fb(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var $t=typeof Object.is=="function"?Object.is:fb;function Rr(i,r){if($t(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!yn.call(r,g)||!$t(i[g],r[g]))return!1}return!0}function Zf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function eh(i,r){var a=Zf(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zf(a)}}function th(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?th(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function nh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Bo(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Bo(i.document)}return r}function ou(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var hb=Un&&"documentMode"in document&&11>=document.documentMode,_s=null,au=null,Nr=null,lu=!1;function ih(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lu||_s==null||_s!==Bo(u)||(u=_s,"selectionStart"in u&&ou(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nr&&Rr(Nr,u)||(Nr=u,u=Da(au,"onSelect"),0<u.length&&(r=new Vo("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=_s)))}function Li(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var bs={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},uu={},sh={};Un&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Bi(i){if(uu[i])return uu[i];if(!bs[i])return i;var r=bs[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in sh)return uu[i]=r[a];return i}var rh=Bi("animationend"),oh=Bi("animationiteration"),ah=Bi("animationstart"),pb=Bi("transitionrun"),mb=Bi("transitionstart"),gb=Bi("transitioncancel"),lh=Bi("transitionend"),uh=new Map,cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cu.push("scrollEnd");function vn(i,r){uh.set(i,r),Oi(r,[i])}var jo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},on=[],ws=0,du=0;function Jo(){for(var i=ws,r=du=ws=0;r<i;){var a=on[r];on[r++]=null;var u=on[r];on[r++]=null;var g=on[r];on[r++]=null;var v=on[r];if(on[r++]=null,u!==null&&g!==null){var S=u.pending;S===null?g.next=g:(g.next=S.next,S.next=g),u.pending=g}v!==0&&ch(a,g,v)}}function Yo(i,r,a,u){on[ws++]=i,on[ws++]=r,on[ws++]=a,on[ws++]=u,du|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function fu(i,r,a,u){return Yo(i,r,a,u),Ko(i)}function qi(i,r){return Yo(i,null,null,r),Ko(i)}function ch(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var g=!1,v=i.return;v!==null;)v.childLanes|=a,u=v.alternate,u!==null&&(u.childLanes|=a),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-Vt(a),i=v.hiddenUpdates,u=i[g],u===null?i[g]=[r]:u.push(r),r.lane=a|536870912),v):null}function Ko(i){if(50<Wr)throw Wr=0,wc=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ss={};function yb(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(i,r,a,u){return new yb(i,r,a,u)}function hu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function On(i,r){var a=i.alternate;return a===null?(a=Ft(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function dh(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Xo(i,r,a,u,g,v){var S=0;if(u=i,typeof i=="function")hu(i)&&(S=1);else if(typeof i=="string")S=Sw(i,a,Q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case X:return i=Ft(31,a,r,g),i.elementType=X,i.lanes=v,i;case R:return Hi(a.children,g,v,r);case C:S=8,g|=24;break;case M:return i=Ft(12,a,r,g|2),i.elementType=M,i.lanes=v,i;case K:return i=Ft(13,a,r,g),i.elementType=K,i.lanes=v,i;case W:return i=Ft(19,a,r,g),i.elementType=W,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:S=10;break e;case L:S=9;break e;case O:S=11;break e;case U:S=14;break e;case Z:S=16,u=null;break e}S=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Ft(S,a,r,g),r.elementType=i,r.type=u,r.lanes=v,r}function Hi(i,r,a,u){return i=Ft(7,i,u,r),i.lanes=a,i}function pu(i,r,a){return i=Ft(6,i,null,r),i.lanes=a,i}function fh(i){var r=Ft(18,null,null,0);return r.stateNode=i,r}function mu(i,r,a){return r=Ft(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var hh=new WeakMap;function an(i,r){if(typeof i=="object"&&i!==null){var a=hh.get(i);return a!==void 0?a:(r={value:i,source:r,stack:nn(r)},hh.set(i,r),r)}return{value:i,source:r,stack:nn(r)}}var Es=[],xs=0,Wo=null,Ir=0,ln=[],un=0,oi=null,An=1,Rn="";function Pn(i,r){Es[xs++]=Ir,Es[xs++]=Wo,Wo=i,Ir=r}function ph(i,r,a){ln[un++]=An,ln[un++]=Rn,ln[un++]=oi,oi=i;var u=An;i=Rn;var g=32-Vt(u)-1;u&=~(1<<g),a+=1;var v=32-Vt(r)+g;if(30<v){var S=g-g%5;v=(u&(1<<S)-1).toString(32),u>>=S,g-=S,An=1<<32-Vt(r)+g|a<<g|u,Rn=v+i}else An=1<<v|a<<g|u,Rn=i}function gu(i){i.return!==null&&(Pn(i,1),ph(i,1,0))}function yu(i){for(;i===Wo;)Wo=Es[--xs],Es[xs]=null,Ir=Es[--xs],Es[xs]=null;for(;i===oi;)oi=ln[--un],ln[un]=null,Rn=ln[--un],ln[un]=null,An=ln[--un],ln[un]=null}function mh(i,r){ln[un++]=An,ln[un++]=Rn,ln[un++]=oi,An=r.id,Rn=r.overflow,oi=i}var vt=null,Ke=null,Ne=!1,ai=null,cn=!1,vu=Error(s(519));function li(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mr(an(r,i)),vu}function gh(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[yt]=i,r[Dt]=u,a){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(a=0;a<Zr.length;a++)Te(Zr[a],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Te("invalid",r),Nf(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Te("invalid",r);break;case"textarea":Te("invalid",r),Mf(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||Dm(r.textContent,a)?(u.popover!=null&&(Te("beforetoggle",r),Te("toggle",r)),u.onScroll!=null&&Te("scroll",r),u.onScrollEnd!=null&&Te("scrollend",r),u.onClick!=null&&(r.onclick=Dn),r=!0):r=!1,r||li(i,!0)}function yh(i){for(vt=i.return;vt;)switch(vt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:vt=vt.return}}function Ts(i){if(i!==vt)return!1;if(!Ne)return yh(i),Ne=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Pc(i.type,i.memoizedProps)),a=!a),a&&Ke&&li(i),yh(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ke=zm(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ke=zm(i)}else r===27?(r=Ke,Si(i.type)?(i=Gc,Gc=null,Ke=i):Ke=r):Ke=vt?fn(i.stateNode.nextSibling):null;return!0}function Gi(){Ke=vt=null,Ne=!1}function _u(){var i=ai;return i!==null&&(Bt===null?Bt=i:Bt.push.apply(Bt,i),ai=null),i}function Mr(i){ai===null?ai=[i]:ai.push(i)}var bu=x(null),zi=null,Ln=null;function ui(i,r,a){j(bu,r._currentValue),r._currentValue=a}function Bn(i){i._currentValue=bu.current,q(bu)}function wu(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function Su(i,r,a,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;e:for(;v!==null;){var T=v;v=g;for(var N=0;N<r.length;N++)if(T.context===r[N]){v.lanes|=a,T=v.alternate,T!==null&&(T.lanes|=a),wu(v.return,a,i),u||(S=null);break e}v=T.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(s(341));S.lanes|=a,v=S.alternate,v!==null&&(v.lanes|=a),wu(S,a,i),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Cs(i,r,a,u){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var T=g.type;$t(g.pendingProps.value,S.value)||(i!==null?i.push(T):i=[T])}}else if(g===se.current){if(S=g.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(so):i=[so])}g=g.return}i!==null&&Su(r,i,a,u),r.flags|=262144}function Qo(i){for(i=i.firstContext;i!==null;){if(!$t(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vi(i){zi=i,Ln=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _t(i){return vh(zi,i)}function Zo(i,r){return zi===null&&Vi(i),vh(i,r)}function vh(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ln===null){if(i===null)throw Error(s(308));Ln=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ln=Ln.next=r;return a}var vb=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},_b=t.unstable_scheduleCallback,bb=t.unstable_NormalPriority,ot={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new vb,data:new Map,refCount:0}}function kr(i){i.refCount--,i.refCount===0&&_b(bb,function(){i.controller.abort()})}var Dr=null,xu=0,As=0,Rs=null;function wb(i,r){if(Dr===null){var a=Dr=[];xu=0,As=Ac(),Rs={status:"pending",value:void 0,then:function(u){a.push(u)}}}return xu++,r.then(_h,_h),r}function _h(){if(--xu===0&&Dr!==null){Rs!==null&&(Rs.status="fulfilled");var i=Dr;Dr=null,As=0,Rs=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Sb(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<a.length;g++)(0,a[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var bh=$.S;$.S=function(i,r){im=xt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&wb(i,r),bh!==null&&bh(i,r)};var $i=x(null);function Tu(){var i=$i.current;return i!==null?i:Fe.pooledCache}function ea(i,r){r===null?j($i,$i.current):j($i,r.pool)}function wh(){var i=Tu();return i===null?null:{parent:ot._currentValue,pool:i}}var Ns=Error(s(460)),Cu=Error(s(474)),ta=Error(s(542)),na={then:function(){}};function Sh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Eh(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Dn,Dn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Th(i),i;default:if(typeof r.status=="string")r.then(Dn,Dn);else{if(i=Fe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Th(i),i}throw ji=r,Ns}}function Fi(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ji=a,Ns):a}}var ji=null;function xh(){if(ji===null)throw Error(s(459));var i=ji;return ji=null,i}function Th(i){if(i===Ns||i===ta)throw Error(s(483))}var Is=null,Ur=0;function ia(i){var r=Ur;return Ur+=1,Is===null&&(Is=[]),Eh(Is,i,r)}function Or(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function sa(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ch(i){function r(P,k){if(i){var H=P.deletions;H===null?(P.deletions=[k],P.flags|=16):H.push(k)}}function a(P,k){if(!i)return null;for(;k!==null;)r(P,k),k=k.sibling;return null}function u(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function g(P,k){return P=On(P,k),P.index=0,P.sibling=null,P}function v(P,k,H){return P.index=H,i?(H=P.alternate,H!==null?(H=H.index,H<k?(P.flags|=67108866,k):H):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function S(P){return i&&P.alternate===null&&(P.flags|=67108866),P}function T(P,k,H,J){return k===null||k.tag!==6?(k=pu(H,P.mode,J),k.return=P,k):(k=g(k,H),k.return=P,k)}function N(P,k,H,J){var de=H.type;return de===R?F(P,k,H.props.children,J,H.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Z&&Fi(de)===k.type)?(k=g(k,H.props),Or(k,H),k.return=P,k):(k=Xo(H.type,H.key,H.props,null,P.mode,J),Or(k,H),k.return=P,k)}function G(P,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=mu(H,P.mode,J),k.return=P,k):(k=g(k,H.children||[]),k.return=P,k)}function F(P,k,H,J,de){return k===null||k.tag!==7?(k=Hi(H,P.mode,J,de),k.return=P,k):(k=g(k,H),k.return=P,k)}function Y(P,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=pu(""+k,P.mode,H),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return H=Xo(k.type,k.key,k.props,null,P.mode,H),Or(H,k),H.return=P,H;case A:return k=mu(k,P.mode,H),k.return=P,k;case Z:return k=Fi(k),Y(P,k,H)}if(Ye(k)||Le(k))return k=Hi(k,P.mode,H,null),k.return=P,k;if(typeof k.then=="function")return Y(P,ia(k),H);if(k.$$typeof===I)return Y(P,Zo(P,k),H);sa(P,k)}return null}function z(P,k,H,J){var de=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:T(P,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return H.key===de?N(P,k,H,J):null;case A:return H.key===de?G(P,k,H,J):null;case Z:return H=Fi(H),z(P,k,H,J)}if(Ye(H)||Le(H))return de!==null?null:F(P,k,H,J,null);if(typeof H.then=="function")return z(P,k,ia(H),J);if(H.$$typeof===I)return z(P,k,Zo(P,H),J);sa(P,H)}return null}function V(P,k,H,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(H)||null,T(k,P,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return P=P.get(J.key===null?H:J.key)||null,N(k,P,J,de);case A:return P=P.get(J.key===null?H:J.key)||null,G(k,P,J,de);case Z:return J=Fi(J),V(P,k,H,J,de)}if(Ye(J)||Le(J))return P=P.get(H)||null,F(k,P,J,de,null);if(typeof J.then=="function")return V(P,k,H,ia(J),de);if(J.$$typeof===I)return V(P,k,H,Zo(k,J),de);sa(k,J)}return null}function ae(P,k,H,J){for(var de=null,Ie=null,le=k,Ee=k=0,Re=null;le!==null&&Ee<H.length;Ee++){le.index>Ee?(Re=le,le=null):Re=le.sibling;var Me=z(P,le,H[Ee],J);if(Me===null){le===null&&(le=Re);break}i&&le&&Me.alternate===null&&r(P,le),k=v(Me,k,Ee),Ie===null?de=Me:Ie.sibling=Me,Ie=Me,le=Re}if(Ee===H.length)return a(P,le),Ne&&Pn(P,Ee),de;if(le===null){for(;Ee<H.length;Ee++)le=Y(P,H[Ee],J),le!==null&&(k=v(le,k,Ee),Ie===null?de=le:Ie.sibling=le,Ie=le);return Ne&&Pn(P,Ee),de}for(le=u(le);Ee<H.length;Ee++)Re=V(le,P,Ee,H[Ee],J),Re!==null&&(i&&Re.alternate!==null&&le.delete(Re.key===null?Ee:Re.key),k=v(Re,k,Ee),Ie===null?de=Re:Ie.sibling=Re,Ie=Re);return i&&le.forEach(function(Ai){return r(P,Ai)}),Ne&&Pn(P,Ee),de}function he(P,k,H,J){if(H==null)throw Error(s(151));for(var de=null,Ie=null,le=k,Ee=k=0,Re=null,Me=H.next();le!==null&&!Me.done;Ee++,Me=H.next()){le.index>Ee?(Re=le,le=null):Re=le.sibling;var Ai=z(P,le,Me.value,J);if(Ai===null){le===null&&(le=Re);break}i&&le&&Ai.alternate===null&&r(P,le),k=v(Ai,k,Ee),Ie===null?de=Ai:Ie.sibling=Ai,Ie=Ai,le=Re}if(Me.done)return a(P,le),Ne&&Pn(P,Ee),de;if(le===null){for(;!Me.done;Ee++,Me=H.next())Me=Y(P,Me.value,J),Me!==null&&(k=v(Me,k,Ee),Ie===null?de=Me:Ie.sibling=Me,Ie=Me);return Ne&&Pn(P,Ee),de}for(le=u(le);!Me.done;Ee++,Me=H.next())Me=V(le,P,Ee,Me.value,J),Me!==null&&(i&&Me.alternate!==null&&le.delete(Me.key===null?Ee:Me.key),k=v(Me,k,Ee),Ie===null?de=Me:Ie.sibling=Me,Ie=Me);return i&&le.forEach(function(Dw){return r(P,Dw)}),Ne&&Pn(P,Ee),de}function Ve(P,k,H,J){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case E:e:{for(var de=H.key;k!==null;){if(k.key===de){if(de=H.type,de===R){if(k.tag===7){a(P,k.sibling),J=g(k,H.props.children),J.return=P,P=J;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Z&&Fi(de)===k.type){a(P,k.sibling),J=g(k,H.props),Or(J,H),J.return=P,P=J;break e}a(P,k);break}else r(P,k);k=k.sibling}H.type===R?(J=Hi(H.props.children,P.mode,J,H.key),J.return=P,P=J):(J=Xo(H.type,H.key,H.props,null,P.mode,J),Or(J,H),J.return=P,P=J)}return S(P);case A:e:{for(de=H.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(P,k.sibling),J=g(k,H.children||[]),J.return=P,P=J;break e}else{a(P,k);break}else r(P,k);k=k.sibling}J=mu(H,P.mode,J),J.return=P,P=J}return S(P);case Z:return H=Fi(H),Ve(P,k,H,J)}if(Ye(H))return ae(P,k,H,J);if(Le(H)){if(de=Le(H),typeof de!="function")throw Error(s(150));return H=de.call(H),he(P,k,H,J)}if(typeof H.then=="function")return Ve(P,k,ia(H),J);if(H.$$typeof===I)return Ve(P,k,Zo(P,H),J);sa(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(P,k.sibling),J=g(k,H),J.return=P,P=J):(a(P,k),J=pu(H,P.mode,J),J.return=P,P=J),S(P)):a(P,k)}return function(P,k,H,J){try{Ur=0;var de=Ve(P,k,H,J);return Is=null,de}catch(le){if(le===Ns||le===ta)throw le;var Ie=Ft(29,le,null,P.mode);return Ie.lanes=J,Ie.return=P,Ie}finally{}}}var Ji=Ch(!0),Ah=Ch(!1),ci=!1;function Au(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function di(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fi(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Ko(i),ch(i,null,a),r}return Yo(i,u,r,a),Ko(i)}function Pr(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,vf(i,a)}}function Nu(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?g=v=r:v=v.next=r}else g=v=r;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Iu=!1;function Lr(){if(Iu){var i=Rs;if(i!==null)throw i}}function Br(i,r,a,u){Iu=!1;var g=i.updateQueue;ci=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var N=T,G=N.next;N.next=null,S===null?v=G:S.next=G,S=N;var F=i.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==S&&(T===null?F.firstBaseUpdate=G:T.next=G,F.lastBaseUpdate=N))}if(v!==null){var Y=g.baseState;S=0,F=G=N=null,T=v;do{var z=T.lane&-536870913,V=z!==T.lane;if(V?(Ae&z)===z:(u&z)===z){z!==0&&z===As&&(Iu=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ae=i,he=T;z=r;var Ve=a;switch(he.tag){case 1:if(ae=he.payload,typeof ae=="function"){Y=ae.call(Ve,Y,z);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=he.payload,z=typeof ae=="function"?ae.call(Ve,Y,z):ae,z==null)break e;Y=b({},Y,z);break e;case 2:ci=!0}}z=T.callback,z!==null&&(i.flags|=64,V&&(i.flags|=8192),V=g.callbacks,V===null?g.callbacks=[z]:V.push(z))}else V={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(G=F=V,N=Y):F=F.next=V,S|=z;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;V=T,T=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);F===null&&(N=Y),g.baseState=N,g.firstBaseUpdate=G,g.lastBaseUpdate=F,v===null&&(g.shared.lanes=0),yi|=S,i.lanes=S,i.memoizedState=Y}}function Rh(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Nh(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Rh(a[i],r)}var Ms=x(null),ra=x(0);function Ih(i,r){i=Jn,j(ra,i),j(Ms,r),Jn=i|r.baseLanes}function Mu(){j(ra,Jn),j(Ms,Ms.current)}function ku(){Jn=ra.current,q(Ms),q(ra)}var jt=x(null),dn=null;function hi(i){var r=i.alternate;j(it,it.current&1),j(jt,i),dn===null&&(r===null||Ms.current!==null||r.memoizedState!==null)&&(dn=i)}function Du(i){j(it,it.current),j(jt,i),dn===null&&(dn=i)}function Mh(i){i.tag===22?(j(it,it.current),j(jt,i),dn===null&&(dn=i)):pi()}function pi(){j(it,it.current),j(jt,jt.current)}function Jt(i){q(jt),dn===i&&(dn=null),q(it)}var it=x(0);function oa(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qc(a)||Hc(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qn=0,we=null,Ge=null,at=null,aa=!1,ks=!1,Yi=!1,la=0,qr=0,Ds=null,Eb=0;function et(){throw Error(s(321))}function Uu(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!$t(i[a],r[a]))return!1;return!0}function Ou(i,r,a,u,g,v){return qn=v,we=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?pp:Xu,Yi=!1,v=a(u,g),Yi=!1,ks&&(v=Dh(r,a,u,g)),kh(i),v}function kh(i){$.H=zr;var r=Ge!==null&&Ge.next!==null;if(qn=0,at=Ge=we=null,aa=!1,qr=0,Ds=null,r)throw Error(s(300));i===null||lt||(i=i.dependencies,i!==null&&Qo(i)&&(lt=!0))}function Dh(i,r,a,u){we=i;var g=0;do{if(ks&&(Ds=null),qr=0,ks=!1,25<=g)throw Error(s(301));if(g+=1,at=Ge=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=mp,v=r(a,u)}while(ks);return v}function xb(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?Hr(r):r,i=i.useState()[0],(Ge!==null?Ge.memoizedState:null)!==i&&(we.flags|=1024),r}function Pu(){var i=la!==0;return la=0,i}function Lu(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Bu(i){if(aa){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}aa=!1}qn=0,at=Ge=we=null,ks=!1,qr=la=0,Ds=null}function Rt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?we.memoizedState=at=i:at=at.next=i,at}function st(){if(Ge===null){var i=we.alternate;i=i!==null?i.memoizedState:null}else i=Ge.next;var r=at===null?we.memoizedState:at.next;if(r!==null)at=r,Ge=i;else{if(i===null)throw we.alternate===null?Error(s(467)):Error(s(310));Ge=i,i={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},at===null?we.memoizedState=at=i:at=at.next=i}return at}function ua(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hr(i){var r=qr;return qr+=1,Ds===null&&(Ds=[]),i=Eh(Ds,i,r),r=we,(at===null?r.memoizedState:at.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?pp:Xu),i}function ca(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hr(i);if(i.$$typeof===I)return _t(i)}throw Error(s(438,String(i)))}function qu(i){var r=null,a=we.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=we.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ua(),we.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=ne;return r.index++,a}function Hn(i,r){return typeof r=="function"?r(i):r}function da(i){var r=st();return Hu(r,Ge,i)}function Hu(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var g=i.baseQueue,v=u.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}r.baseQueue=g=v,u.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var T=S=null,N=null,G=r,F=!1;do{var Y=G.lane&-536870913;if(Y!==G.lane?(Ae&Y)===Y:(qn&Y)===Y){var z=G.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),Y===As&&(F=!0);else if((qn&z)===z){G=G.next,z===As&&(F=!0);continue}else Y={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(T=N=Y,S=v):N=N.next=Y,we.lanes|=z,yi|=z;Y=G.action,Yi&&a(v,Y),v=G.hasEagerState?G.eagerState:a(v,Y)}else z={lane:Y,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(T=N=z,S=v):N=N.next=z,we.lanes|=Y,yi|=Y;G=G.next}while(G!==null&&G!==r);if(N===null?S=v:N.next=T,!$t(v,i.memoizedState)&&(lt=!0,F&&(a=Rs,a!==null)))throw a;i.memoizedState=v,i.baseState=S,i.baseQueue=N,u.lastRenderedState=v}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Gu(i){var r=st(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,g=a.pending,v=r.memoizedState;if(g!==null){a.pending=null;var S=g=g.next;do v=i(v,S.action),S=S.next;while(S!==g);$t(v,r.memoizedState)||(lt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),a.lastRenderedState=v}return[v,u]}function Uh(i,r,a){var u=we,g=st(),v=Ne;if(v){if(a===void 0)throw Error(s(407));a=a()}else a=r();var S=!$t((Ge||g).memoizedState,a);if(S&&(g.memoizedState=a,lt=!0),g=g.queue,$u(Lh.bind(null,u,g,i),[i]),g.getSnapshot!==r||S||at!==null&&at.memoizedState.tag&1){if(u.flags|=2048,Us(9,{destroy:void 0},Ph.bind(null,u,g,a,r),null),Fe===null)throw Error(s(349));v||(qn&127)!==0||Oh(u,r,a)}return a}function Oh(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=we.updateQueue,r===null?(r=ua(),we.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Ph(i,r,a,u){r.value=a,r.getSnapshot=u,Bh(r)&&qh(i)}function Lh(i,r,a){return a(function(){Bh(r)&&qh(i)})}function Bh(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!$t(i,a)}catch{return!0}}function qh(i){var r=qi(i,2);r!==null&&qt(r,i,2)}function zu(i){var r=Rt();if(typeof i=="function"){var a=i;if(i=a(),Yi){ii(!0);try{a()}finally{ii(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:i},r}function Hh(i,r,a,u){return i.baseState=a,Hu(i,Ge,typeof u=="function"?u:Hn)}function Tb(i,r,a,u,g){if(pa(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};$.T!==null?a(!0):v.isTransition=!1,u(v),a=r.pending,a===null?(v.next=r.pending=v,Gh(r,v)):(v.next=a.next,r.pending=a.next=v)}}function Gh(i,r){var a=r.action,u=r.payload,g=i.state;if(r.isTransition){var v=$.T,S={};$.T=S;try{var T=a(g,u),N=$.S;N!==null&&N(S,T),zh(i,r,T)}catch(G){Vu(i,r,G)}finally{v!==null&&S.types!==null&&(v.types=S.types),$.T=v}}else try{v=a(g,u),zh(i,r,v)}catch(G){Vu(i,r,G)}}function zh(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Vh(i,r,u)},function(u){return Vu(i,r,u)}):Vh(i,r,a)}function Vh(i,r,a){r.status="fulfilled",r.value=a,$h(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Gh(i,a)))}function Vu(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,$h(r),r=r.next;while(r!==u)}i.action=null}function $h(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Fh(i,r){return r}function jh(i,r){if(Ne){var a=Fe.formState;if(a!==null){e:{var u=we;if(Ne){if(Ke){t:{for(var g=Ke,v=cn;g.nodeType!==8;){if(!v){g=null;break t}if(g=fn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Ke=fn(g.nextSibling),u=g.data==="F!";break e}}li(u)}u=!1}u&&(r=a[0])}}return a=Rt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:r},a.queue=u,a=dp.bind(null,we,u),u.dispatch=a,u=zu(!1),v=Ku.bind(null,we,!1,u.queue),u=Rt(),g={state:r,dispatch:null,action:i,pending:null},u.queue=g,a=Tb.bind(null,we,g,v,a),g.dispatch=a,u.memoizedState=i,[r,a,!1]}function Jh(i){var r=st();return Yh(r,Ge,i)}function Yh(i,r,a){if(r=Hu(i,r,Fh)[0],i=da(Hn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Hr(r)}catch(S){throw S===Ns?ta:S}else u=r;r=st();var g=r.queue,v=g.dispatch;return a!==r.memoizedState&&(we.flags|=2048,Us(9,{destroy:void 0},Cb.bind(null,g,a),null)),[u,v,i]}function Cb(i,r){i.action=r}function Kh(i){var r=st(),a=Ge;if(a!==null)return Yh(r,a,i);st(),r=r.memoizedState,a=st();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function Us(i,r,a,u){return i={tag:i,create:a,deps:u,inst:r,next:null},r=we.updateQueue,r===null&&(r=ua(),we.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function Xh(){return st().memoizedState}function fa(i,r,a,u){var g=Rt();we.flags|=i,g.memoizedState=Us(1|r,{destroy:void 0},a,u===void 0?null:u)}function ha(i,r,a,u){var g=st();u=u===void 0?null:u;var v=g.memoizedState.inst;Ge!==null&&u!==null&&Uu(u,Ge.memoizedState.deps)?g.memoizedState=Us(r,v,a,u):(we.flags|=i,g.memoizedState=Us(1|r,v,a,u))}function Wh(i,r){fa(8390656,8,i,r)}function $u(i,r){ha(2048,8,i,r)}function Ab(i){we.flags|=4;var r=we.updateQueue;if(r===null)r=ua(),we.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function Qh(i){var r=st().memoizedState;return Ab({ref:r,nextImpl:i}),function(){if((De&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Zh(i,r){return ha(4,2,i,r)}function ep(i,r){return ha(4,4,i,r)}function tp(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function np(i,r,a){a=a!=null?a.concat([i]):null,ha(4,4,tp.bind(null,r,i),a)}function Fu(){}function ip(i,r){var a=st();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Uu(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function sp(i,r){var a=st();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Uu(r,u[1]))return u[0];if(u=i(),Yi){ii(!0);try{i()}finally{ii(!1)}}return a.memoizedState=[u,r],u}function ju(i,r,a){return a===void 0||(qn&1073741824)!==0&&(Ae&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=rm(),we.lanes|=i,yi|=i,a)}function rp(i,r,a,u){return $t(a,r)?a:Ms.current!==null?(i=ju(i,a,u),$t(i,r)||(lt=!0),i):(qn&42)===0||(qn&1073741824)!==0&&(Ae&261930)===0?(lt=!0,i.memoizedState=a):(i=rm(),we.lanes|=i,yi|=i,r)}function op(i,r,a,u,g){var v=te.p;te.p=v!==0&&8>v?v:8;var S=$.T,T={};$.T=T,Ku(i,!1,r,a);try{var N=g(),G=$.S;if(G!==null&&G(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=Sb(N,u);Gr(i,r,F,Xt(i))}else Gr(i,r,u,Xt(i))}catch(Y){Gr(i,r,{then:function(){},status:"rejected",reason:Y},Xt())}finally{te.p=v,S!==null&&T.types!==null&&(S.types=T.types),$.T=S}}function Rb(){}function Ju(i,r,a,u){if(i.tag!==5)throw Error(s(476));var g=ap(i).queue;op(i,g,r,pe,a===null?Rb:function(){return lp(i),a(u)})}function ap(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function lp(i){var r=ap(i);r.next===null&&(r=i.alternate.memoizedState),Gr(i,r.next.queue,{},Xt())}function Yu(){return _t(so)}function up(){return st().memoizedState}function cp(){return st().memoizedState}function Nb(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xt();i=di(a);var u=fi(r,i,a);u!==null&&(qt(u,r,a),Pr(u,r,a)),r={cache:Eu()},i.payload=r;return}r=r.return}}function Ib(i,r,a){var u=Xt();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pa(i)?fp(r,a):(a=fu(i,r,a,u),a!==null&&(qt(a,i,u),hp(a,r,u)))}function dp(i,r,a){var u=Xt();Gr(i,r,a,u)}function Gr(i,r,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pa(i))fp(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var S=r.lastRenderedState,T=v(S,a);if(g.hasEagerState=!0,g.eagerState=T,$t(T,S))return Yo(i,r,g,0),Fe===null&&Jo(),!1}catch{}finally{}if(a=fu(i,r,g,u),a!==null)return qt(a,i,u),hp(a,r,u),!0}return!1}function Ku(i,r,a,u){if(u={lane:2,revertLane:Ac(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pa(i)){if(r)throw Error(s(479))}else r=fu(i,a,u,2),r!==null&&qt(r,i,2)}function pa(i){var r=i.alternate;return i===we||r!==null&&r===we}function fp(i,r){ks=aa=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function hp(i,r,a){if((a&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,vf(i,a)}}var zr={readContext:_t,use:ca,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};zr.useEffectEvent=et;var pp={readContext:_t,use:ca,useCallback:function(i,r){return Rt().memoizedState=[i,r===void 0?null:r],i},useContext:_t,useEffect:Wh,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,fa(4194308,4,tp.bind(null,r,i),a)},useLayoutEffect:function(i,r){return fa(4194308,4,i,r)},useInsertionEffect:function(i,r){fa(4,2,i,r)},useMemo:function(i,r){var a=Rt();r=r===void 0?null:r;var u=i();if(Yi){ii(!0);try{i()}finally{ii(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=Rt();if(a!==void 0){var g=a(r);if(Yi){ii(!0);try{a(r)}finally{ii(!1)}}}else g=r;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=Ib.bind(null,we,i),[u.memoizedState,i]},useRef:function(i){var r=Rt();return i={current:i},r.memoizedState=i},useState:function(i){i=zu(i);var r=i.queue,a=dp.bind(null,we,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Fu,useDeferredValue:function(i,r){var a=Rt();return ju(a,i,r)},useTransition:function(){var i=zu(!1);return i=op.bind(null,we,i.queue,!0,!1),Rt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=we,g=Rt();if(Ne){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Fe===null)throw Error(s(349));(Ae&127)!==0||Oh(u,r,a)}g.memoizedState=a;var v={value:a,getSnapshot:r};return g.queue=v,Wh(Lh.bind(null,u,v,i),[i]),u.flags|=2048,Us(9,{destroy:void 0},Ph.bind(null,u,v,a,r),null),a},useId:function(){var i=Rt(),r=Fe.identifierPrefix;if(Ne){var a=Rn,u=An;a=(u&~(1<<32-Vt(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=la++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Eb++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Yu,useFormState:jh,useActionState:jh,useOptimistic:function(i){var r=Rt();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ku.bind(null,we,!0,a),a.dispatch=r,[i,r]},useMemoCache:qu,useCacheRefresh:function(){return Rt().memoizedState=Nb.bind(null,we)},useEffectEvent:function(i){var r=Rt(),a={impl:i};return r.memoizedState=a,function(){if((De&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xu={readContext:_t,use:ca,useCallback:ip,useContext:_t,useEffect:$u,useImperativeHandle:np,useInsertionEffect:Zh,useLayoutEffect:ep,useMemo:sp,useReducer:da,useRef:Xh,useState:function(){return da(Hn)},useDebugValue:Fu,useDeferredValue:function(i,r){var a=st();return rp(a,Ge.memoizedState,i,r)},useTransition:function(){var i=da(Hn)[0],r=st().memoizedState;return[typeof i=="boolean"?i:Hr(i),r]},useSyncExternalStore:Uh,useId:up,useHostTransitionStatus:Yu,useFormState:Jh,useActionState:Jh,useOptimistic:function(i,r){var a=st();return Hh(a,Ge,i,r)},useMemoCache:qu,useCacheRefresh:cp};Xu.useEffectEvent=Qh;var mp={readContext:_t,use:ca,useCallback:ip,useContext:_t,useEffect:$u,useImperativeHandle:np,useInsertionEffect:Zh,useLayoutEffect:ep,useMemo:sp,useReducer:Gu,useRef:Xh,useState:function(){return Gu(Hn)},useDebugValue:Fu,useDeferredValue:function(i,r){var a=st();return Ge===null?ju(a,i,r):rp(a,Ge.memoizedState,i,r)},useTransition:function(){var i=Gu(Hn)[0],r=st().memoizedState;return[typeof i=="boolean"?i:Hr(i),r]},useSyncExternalStore:Uh,useId:up,useHostTransitionStatus:Yu,useFormState:Kh,useActionState:Kh,useOptimistic:function(i,r){var a=st();return Ge!==null?Hh(a,Ge,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:qu,useCacheRefresh:cp};mp.useEffectEvent=Qh;function Wu(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:b({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Qu={enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Xt(),g=di(u);g.payload=r,a!=null&&(g.callback=a),r=fi(i,g,u),r!==null&&(qt(r,i,u),Pr(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Xt(),g=di(u);g.tag=1,g.payload=r,a!=null&&(g.callback=a),r=fi(i,g,u),r!==null&&(qt(r,i,u),Pr(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Xt(),u=di(a);u.tag=2,r!=null&&(u.callback=r),r=fi(i,u,a),r!==null&&(qt(r,i,a),Pr(r,i,a))}};function gp(i,r,a,u,g,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,S):r.prototype&&r.prototype.isPureReactComponent?!Rr(a,u)||!Rr(g,v):!0}function yp(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&Qu.enqueueReplaceState(r,r.state,null)}function Ki(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=b({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}function vp(i){jo(i)}function _p(i){console.error(i)}function bp(i){jo(i)}function ma(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function wp(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zu(i,r,a){return a=di(a),a.tag=3,a.payload={element:null},a.callback=function(){ma(i,r)},a}function Sp(i){return i=di(i),i.tag=3,i}function Ep(i,r,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;i.payload=function(){return g(v)},i.callback=function(){wp(r,a,u)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){wp(r,a,u),typeof g!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function Mb(i,r,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Cs(r,a,g,!0),a=jt.current,a!==null){switch(a.tag){case 31:case 13:return dn===null?Aa():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===na?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),xc(i,u,g)),!1;case 22:return a.flags|=65536,u===na?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),xc(i,u,g)),!1}throw Error(s(435,a.tag))}return xc(i,u,g),Aa(),!1}if(Ne)return r=jt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==vu&&(i=Error(s(422),{cause:u}),Mr(an(i,a)))):(u!==vu&&(r=Error(s(423),{cause:u}),Mr(an(r,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=an(u,a),g=Zu(i.stateNode,u,g),Nu(i,g),tt!==4&&(tt=2)),!1;var v=Error(s(520),{cause:u});if(v=an(v,a),Xr===null?Xr=[v]:Xr.push(v),tt!==4&&(tt=2),r===null)return!0;u=an(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=Zu(a.stateNode,u,i),Nu(a,i),!1;case 1:if(r=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(vi===null||!vi.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Sp(g),Ep(g,i,a,u),Nu(a,g),!1}a=a.return}while(a!==null);return!1}var ec=Error(s(461)),lt=!1;function bt(i,r,a,u){r.child=i===null?Ah(r,null,a,u):Ji(r,i.child,a,u)}function xp(i,r,a,u,g){a=a.render;var v=r.ref;if("ref"in u){var S={};for(var T in u)T!=="ref"&&(S[T]=u[T])}else S=u;return Vi(r),u=Ou(i,r,a,S,v,g),T=Pu(),i!==null&&!lt?(Lu(i,r,g),Gn(i,r,g)):(Ne&&T&&gu(r),r.flags|=1,bt(i,r,u,g),r.child)}function Tp(i,r,a,u,g){if(i===null){var v=a.type;return typeof v=="function"&&!hu(v)&&v.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=v,Cp(i,r,v,u,g)):(i=Xo(a.type,null,u,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!lc(i,g)){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:Rr,a(S,u)&&i.ref===r.ref)return Gn(i,r,g)}return r.flags|=1,i=On(v,u),i.ref=r.ref,i.return=r,r.child=i}function Cp(i,r,a,u,g){if(i!==null){var v=i.memoizedProps;if(Rr(v,u)&&i.ref===r.ref)if(lt=!1,r.pendingProps=u=v,lc(i,g))(i.flags&131072)!==0&&(lt=!0);else return r.lanes=i.lanes,Gn(i,r,g)}return tc(i,r,a,u,g)}function Ap(i,r,a,u){var g=u.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,i!==null){for(u=r.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,r.child=null;return Rp(i,r,v,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ea(r,v!==null?v.cachePool:null),v!==null?Ih(r,v):Mu(),Mh(r);else return u=r.lanes=536870912,Rp(i,r,v!==null?v.baseLanes|a:a,a,u)}else v!==null?(ea(r,v.cachePool),Ih(r,v),pi(),r.memoizedState=null):(i!==null&&ea(r,null),Mu(),pi());return bt(i,r,g,a),r.child}function Vr(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Rp(i,r,a,u,g){var v=Tu();return v=v===null?null:{parent:ot._currentValue,pool:v},r.memoizedState={baseLanes:a,cachePool:v},i!==null&&ea(r,null),Mu(),Mh(r),i!==null&&Cs(i,r,u,!0),r.childLanes=g,null}function ga(i,r){return r=va({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Np(i,r,a){return Ji(r,i.child,null,a),i=ga(r,r.pendingProps),i.flags|=2,Jt(r),r.memoizedState=null,i}function kb(i,r,a){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ne){if(u.mode==="hidden")return i=ga(r,u),r.lanes=536870912,Vr(null,i);if(Du(r),(i=Ke)?(i=Gm(i,cn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oi!==null?{id:An,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},a=fh(i),a.return=r,r.child=a,vt=r,Ke=null)):i=null,i===null)throw li(r);return r.lanes=536870912,null}return ga(r,u)}var v=i.memoizedState;if(v!==null){var S=v.dehydrated;if(Du(r),g)if(r.flags&256)r.flags&=-257,r=Np(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(lt||Cs(i,r,a,!1),g=(a&i.childLanes)!==0,lt||g){if(u=Fe,u!==null&&(S=_f(u,a),S!==0&&S!==v.retryLane))throw v.retryLane=S,qi(i,S),qt(u,i,S),ec;Aa(),r=Np(i,r,a)}else i=v.treeContext,Ke=fn(S.nextSibling),vt=r,Ne=!0,ai=null,cn=!1,i!==null&&mh(r,i),r=ga(r,u),r.flags|=4096;return r}return i=On(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ya(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function tc(i,r,a,u,g){return Vi(r),a=Ou(i,r,a,u,void 0,g),u=Pu(),i!==null&&!lt?(Lu(i,r,g),Gn(i,r,g)):(Ne&&u&&gu(r),r.flags|=1,bt(i,r,a,g),r.child)}function Ip(i,r,a,u,g,v){return Vi(r),r.updateQueue=null,a=Dh(r,u,a,g),kh(i),u=Pu(),i!==null&&!lt?(Lu(i,r,v),Gn(i,r,v)):(Ne&&u&&gu(r),r.flags|=1,bt(i,r,a,v),r.child)}function Mp(i,r,a,u,g){if(Vi(r),r.stateNode===null){var v=Ss,S=a.contextType;typeof S=="object"&&S!==null&&(v=_t(S)),v=new a(u,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qu,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=u,v.state=r.memoizedState,v.refs={},Au(r),S=a.contextType,v.context=typeof S=="object"&&S!==null?_t(S):Ss,v.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Wu(r,a,S,u),v.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Qu.enqueueReplaceState(v,v.state,null),Br(r,u,v,g),Lr(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){v=r.stateNode;var T=r.memoizedProps,N=Ki(a,T);v.props=N;var G=v.context,F=a.contextType;S=Ss,typeof F=="object"&&F!==null&&(S=_t(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||G!==S)&&yp(r,v,u,S),ci=!1;var z=r.memoizedState;v.state=z,Br(r,u,v,g),Lr(),G=r.memoizedState,T||z!==G||ci?(typeof Y=="function"&&(Wu(r,a,Y,u),G=r.memoizedState),(N=ci||gp(r,a,N,u,z,G,S))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),v.props=u,v.state=G,v.context=S,u=N):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Ru(i,r),S=r.memoizedProps,F=Ki(a,S),v.props=F,Y=r.pendingProps,z=v.context,G=a.contextType,N=Ss,typeof G=="object"&&G!==null&&(N=_t(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Y||z!==N)&&yp(r,v,u,N),ci=!1,z=r.memoizedState,v.state=z,Br(r,u,v,g),Lr();var V=r.memoizedState;S!==Y||z!==V||ci||i!==null&&i.dependencies!==null&&Qo(i.dependencies)?(typeof T=="function"&&(Wu(r,a,T,u),V=r.memoizedState),(F=ci||gp(r,a,F,u,z,V,N)||i!==null&&i.dependencies!==null&&Qo(i.dependencies))?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,V,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,V,N)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===i.memoizedProps&&z===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&z===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=V),v.props=u,v.state=V,v.context=N,u=F):(typeof v.componentDidUpdate!="function"||S===i.memoizedProps&&z===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&z===i.memoizedState||(r.flags|=1024),u=!1)}return v=u,ya(i,r),u=(r.flags&128)!==0,v||u?(v=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&u?(r.child=Ji(r,i.child,null,g),r.child=Ji(r,null,a,g)):bt(i,r,a,g),r.memoizedState=v.state,i=r.child):i=Gn(i,r,g),i}function kp(i,r,a,u){return Gi(),r.flags|=256,bt(i,r,a,u),r.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(i){return{baseLanes:i,cachePool:wh()}}function sc(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Kt),i}function Dp(i,r,a){var u=r.pendingProps,g=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=i!==null&&i.memoizedState===null?!1:(it.current&2)!==0),S&&(g=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ne){if(g?hi(r):pi(),(i=Ke)?(i=Gm(i,cn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oi!==null?{id:An,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},a=fh(i),a.return=r,r.child=a,vt=r,Ke=null)):i=null,i===null)throw li(r);return Hc(i)?r.lanes=32:r.lanes=536870912,null}var T=u.children;return u=u.fallback,g?(pi(),g=r.mode,T=va({mode:"hidden",children:T},g),u=Hi(u,g,a,null),T.return=r,u.return=r,T.sibling=u,r.child=T,u=r.child,u.memoizedState=ic(a),u.childLanes=sc(i,S,a),r.memoizedState=nc,Vr(null,u)):(hi(r),rc(r,T))}var N=i.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(v)r.flags&256?(hi(r),r.flags&=-257,r=oc(i,r,a)):r.memoizedState!==null?(pi(),r.child=i.child,r.flags|=128,r=null):(pi(),T=u.fallback,g=r.mode,u=va({mode:"visible",children:u.children},g),T=Hi(T,g,a,null),T.flags|=2,u.return=r,T.return=r,u.sibling=T,r.child=u,Ji(r,i.child,null,a),u=r.child,u.memoizedState=ic(a),u.childLanes=sc(i,S,a),r.memoizedState=nc,r=Vr(null,u));else if(hi(r),Hc(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var G=S.dgst;S=G,u=Error(s(419)),u.stack="",u.digest=S,Mr({value:u,source:null,stack:null}),r=oc(i,r,a)}else if(lt||Cs(i,r,a,!1),S=(a&i.childLanes)!==0,lt||S){if(S=Fe,S!==null&&(u=_f(S,a),u!==0&&u!==N.retryLane))throw N.retryLane=u,qi(i,u),qt(S,i,u),ec;qc(T)||Aa(),r=oc(i,r,a)}else qc(T)?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,Ke=fn(T.nextSibling),vt=r,Ne=!0,ai=null,cn=!1,i!==null&&mh(r,i),r=rc(r,u.children),r.flags|=4096);return r}return g?(pi(),T=u.fallback,g=r.mode,N=i.child,G=N.sibling,u=On(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,G!==null?T=On(G,T):(T=Hi(T,g,a,null),T.flags|=2),T.return=r,u.return=r,u.sibling=T,r.child=u,Vr(null,u),u=r.child,T=i.child.memoizedState,T===null?T=ic(a):(g=T.cachePool,g!==null?(N=ot._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=wh(),T={baseLanes:T.baseLanes|a,cachePool:g}),u.memoizedState=T,u.childLanes=sc(i,S,a),r.memoizedState=nc,Vr(i.child,u)):(hi(r),a=i.child,i=a.sibling,a=On(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(S=r.deletions,S===null?(r.deletions=[i],r.flags|=16):S.push(i)),r.child=a,r.memoizedState=null,a)}function rc(i,r){return r=va({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function va(i,r){return i=Ft(22,i,null,r),i.lanes=0,i}function oc(i,r,a){return Ji(r,i.child,null,a),i=rc(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Up(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),wu(i.return,r,a)}function ac(i,r,a,u,g,v){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:v}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=a,S.tailMode=g,S.treeForkCount=v)}function Op(i,r,a){var u=r.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var S=it.current,T=(S&2)!==0;if(T?(S=S&1|2,r.flags|=128):S&=1,j(it,S),bt(i,r,u,a),u=Ne?Ir:0,!T&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Up(i,a,r);else if(i.tag===19)Up(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(a=r.child,g=null;a!==null;)i=a.alternate,i!==null&&oa(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=r.child,r.child=null):(g=a.sibling,a.sibling=null),ac(r,!1,g,a,v,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&oa(i)===null){r.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}ac(r,!0,a,null,v,u);break;case"together":ac(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Gn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),yi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Cs(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=On(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=On(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function lc(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Qo(i)))}function Db(i,r,a){switch(r.tag){case 3:fe(r,r.stateNode.containerInfo),ui(r,ot,i.memoizedState.cache),Gi();break;case 27:case 5:He(r);break;case 4:fe(r,r.stateNode.containerInfo);break;case 10:ui(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Du(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(hi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Dp(i,r,a):(hi(r),i=Gn(i,r,a),i!==null?i.sibling:null);hi(r);break;case 19:var g=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Cs(i,r,a,!1),u=(a&r.childLanes)!==0),g){if(u)return Op(i,r,a);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),j(it,it.current),u)break;return null;case 22:return r.lanes=0,Ap(i,r,a,r.pendingProps);case 24:ui(r,ot,i.memoizedState.cache)}return Gn(i,r,a)}function Pp(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)lt=!0;else{if(!lc(i,a)&&(r.flags&128)===0)return lt=!1,Db(i,r,a);lt=(i.flags&131072)!==0}else lt=!1,Ne&&(r.flags&1048576)!==0&&ph(r,Ir,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Fi(r.elementType),r.type=i,typeof i=="function")hu(i)?(u=Ki(i,u),r.tag=1,r=Mp(null,r,i,u,a)):(r.tag=0,r=tc(null,r,i,u,a));else{if(i!=null){var g=i.$$typeof;if(g===O){r.tag=11,r=xp(null,r,i,u,a);break e}else if(g===U){r.tag=14,r=Tp(null,r,i,u,a);break e}}throw r=Ce(i)||i,Error(s(306,r,""))}}return r;case 0:return tc(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,g=Ki(u,r.pendingProps),Mp(i,r,u,g,a);case 3:e:{if(fe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var v=r.memoizedState;g=v.element,Ru(i,r),Br(r,u,null,a);var S=r.memoizedState;if(u=S.cache,ui(r,ot,u),u!==v.cache&&Su(r,[ot],a,!0),Lr(),u=S.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=kp(i,r,u,a);break e}else if(u!==g){g=an(Error(s(424)),r),Mr(g),r=kp(i,r,u,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ke=fn(i.firstChild),vt=r,Ne=!0,ai=null,cn=!0,a=Ah(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gi(),u===g){r=Gn(i,r,a);break e}bt(i,r,u,a)}r=r.child}return r;case 26:return ya(i,r),i===null?(a=Jm(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ne||(a=r.type,i=r.pendingProps,u=Ua(re.current).createElement(a),u[yt]=r,u[Dt]=i,wt(u,a,i),pt(u),r.stateNode=u):r.memoizedState=Jm(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return He(r),i===null&&Ne&&(u=r.stateNode=$m(r.type,r.pendingProps,re.current),vt=r,cn=!0,g=Ke,Si(r.type)?(Gc=g,Ke=fn(u.firstChild)):Ke=g),bt(i,r,r.pendingProps.children,a),ya(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ne&&((g=u=Ke)&&(u=uw(u,r.type,r.pendingProps,cn),u!==null?(r.stateNode=u,vt=r,Ke=fn(u.firstChild),cn=!1,g=!0):g=!1),g||li(r)),He(r),g=r.type,v=r.pendingProps,S=i!==null?i.memoizedProps:null,u=v.children,Pc(g,v)?u=null:S!==null&&Pc(g,S)&&(r.flags|=32),r.memoizedState!==null&&(g=Ou(i,r,xb,null,null,a),so._currentValue=g),ya(i,r),bt(i,r,u,a),r.child;case 6:return i===null&&Ne&&((i=a=Ke)&&(a=cw(a,r.pendingProps,cn),a!==null?(r.stateNode=a,vt=r,Ke=null,i=!0):i=!1),i||li(r)),null;case 13:return Dp(i,r,a);case 4:return fe(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ji(r,null,u,a):bt(i,r,u,a),r.child;case 11:return xp(i,r,r.type,r.pendingProps,a);case 7:return bt(i,r,r.pendingProps,a),r.child;case 8:return bt(i,r,r.pendingProps.children,a),r.child;case 12:return bt(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ui(r,r.type,u.value),bt(i,r,u.children,a),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Vi(r),g=_t(g),u=u(g),r.flags|=1,bt(i,r,u,a),r.child;case 14:return Tp(i,r,r.type,r.pendingProps,a);case 15:return Cp(i,r,r.type,r.pendingProps,a);case 19:return Op(i,r,a);case 31:return kb(i,r,a);case 22:return Ap(i,r,a,r.pendingProps);case 24:return Vi(r),u=_t(ot),i===null?(g=Tu(),g===null&&(g=Fe,v=Eu(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),r.memoizedState={parent:u,cache:g},Au(r),ui(r,ot,g)):((i.lanes&a)!==0&&(Ru(i,r),Br(r,null,null,a),Lr()),g=i.memoizedState,v=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),ui(r,ot,u)):(u=v.cache,ui(r,ot,u),u!==g.cache&&Su(r,[ot],a,!0))),bt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function zn(i){i.flags|=4}function uc(i,r,a,u,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(um())i.flags|=8192;else throw ji=na,Cu}else i.flags&=-16777217}function Lp(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qm(r))if(um())i.flags|=8192;else throw ji=na,Cu}function _a(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?gf():536870912,i.lanes|=r,Bs|=r)}function $r(i,r){if(!Ne)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Xe(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function Ub(i,r,a){var u=r.pendingProps;switch(yu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(r),null;case 1:return Xe(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Bn(ot),ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ts(r)?zn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_u())),Xe(r),null;case 26:var g=r.type,v=r.memoizedState;return i===null?(zn(r),v!==null?(Xe(r),Lp(r,v)):(Xe(r),uc(r,g,null,u,a))):v?v!==i.memoizedState?(zn(r),Xe(r),Lp(r,v)):(Xe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&zn(r),Xe(r),uc(r,g,i,u,a)),null;case 27:if(Pe(r),a=re.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Xe(r),null}i=Q.current,Ts(r)?gh(r):(i=$m(g,u,a),r.stateNode=i,zn(r))}return Xe(r),null;case 5:if(Pe(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Xe(r),null}if(v=Q.current,Ts(r))gh(r);else{var S=Ua(re.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?S.createElement(g,{is:u.is}):S.createElement(g)}}v[yt]=r,v[Dt]=u;e:for(S=r.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===r)break e;for(;S.sibling===null;){if(S.return===null||S.return===r)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}r.stateNode=v;e:switch(wt(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&zn(r)}}return Xe(r),uc(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=re.current,Ts(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,g=vt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[yt]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Dm(i.nodeValue,a)),i||li(r,!0)}else i=Ua(i).createTextNode(u),i[yt]=r,r.stateNode=i}return Xe(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(u=Ts(r),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[yt]=r}else Gi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Xe(r),i=!1}else a=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Jt(r),r):(Jt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Xe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ts(r),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[yt]=r}else Gi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Xe(r),g=!1}else g=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Jt(r),r):(Jt(r),null)}return Jt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),_a(r,r.updateQueue),Xe(r),null);case 4:return ye(),i===null&&Mc(r.stateNode.containerInfo),Xe(r),null;case 10:return Bn(r.type),Xe(r),null;case 19:if(q(it),u=r.memoizedState,u===null)return Xe(r),null;if(g=(r.flags&128)!==0,v=u.rendering,v===null)if(g)$r(u,!1);else{if(tt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=oa(i),v!==null){for(r.flags|=128,$r(u,!1),i=v.updateQueue,r.updateQueue=i,_a(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)dh(a,i),a=a.sibling;return j(it,it.current&1|2),Ne&&Pn(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&xt()>xa&&(r.flags|=128,g=!0,$r(u,!1),r.lanes=4194304)}else{if(!g)if(i=oa(v),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,_a(r,i),$r(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Ne)return Xe(r),null}else 2*xt()-u.renderingStartTime>xa&&a!==536870912&&(r.flags|=128,g=!0,$r(u,!1),r.lanes=4194304);u.isBackwards?(v.sibling=r.child,r.child=v):(i=u.last,i!==null?i.sibling=v:r.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=xt(),i.sibling=null,a=it.current,j(it,g?a&1|2:a&1),Ne&&Pn(r,u.treeForkCount),i):(Xe(r),null);case 22:case 23:return Jt(r),ku(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Xe(r),r.subtreeFlags&6&&(r.flags|=8192)):Xe(r),a=r.updateQueue,a!==null&&_a(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&q($i),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bn(ot),Xe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Ob(i,r){switch(yu(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Bn(ot),ye(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pe(r),null;case 31:if(r.memoizedState!==null){if(Jt(r),r.alternate===null)throw Error(s(340));Gi()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Jt(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Gi()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return q(it),null;case 4:return ye(),null;case 10:return Bn(r.type),null;case 22:case 23:return Jt(r),ku(),i!==null&&q($i),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Bn(ot),null;case 25:return null;default:return null}}function Bp(i,r){switch(yu(r),r.tag){case 3:Bn(ot),ye();break;case 26:case 27:case 5:Pe(r);break;case 4:ye();break;case 31:r.memoizedState!==null&&Jt(r);break;case 13:Jt(r);break;case 19:q(it);break;case 10:Bn(r.type);break;case 22:case 23:Jt(r),ku(),i!==null&&q($i);break;case 24:Bn(ot)}}function Fr(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&i)===i){u=void 0;var v=a.create,S=a.inst;u=v(),S.destroy=u}a=a.next}while(a!==g)}}catch(T){qe(r,r.return,T)}}function mi(i,r,a){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&i)===i){var S=u.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,g=r;var N=a,G=T;try{G()}catch(F){qe(g,N,F)}}}u=u.next}while(u!==v)}}catch(F){qe(r,r.return,F)}}function qp(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Nh(r,a)}catch(u){qe(i,i.return,u)}}}function Hp(i,r,a){a.props=Ki(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){qe(i,r,u)}}function jr(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(g){qe(i,r,g)}}function Nn(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){qe(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){qe(i,r,g)}else a.current=null}function Gp(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){qe(i,i.return,g)}}function cc(i,r,a){try{var u=i.stateNode;iw(u,i.type,a,r),u[Dt]=r}catch(g){qe(i,i.return,g)}}function zp(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Si(i.type)||i.tag===4}function dc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Si(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fc(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dn));else if(u!==4&&(u===27&&Si(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(fc(i,r,a),i=i.sibling;i!==null;)fc(i,r,a),i=i.sibling}function ba(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&(u===27&&Si(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(ba(i,r,a),i=i.sibling;i!==null;)ba(i,r,a),i=i.sibling}function Vp(i){var r=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);wt(r,u,a),r[yt]=i,r[Dt]=a}catch(v){qe(i,i.return,v)}}var Vn=!1,ut=!1,hc=!1,$p=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Pb(i,r){if(i=i.containerInfo,Uc=Ga,i=nh(i),ou(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var S=0,T=-1,N=-1,G=0,F=0,Y=i,z=null;t:for(;;){for(var V;Y!==a||g!==0&&Y.nodeType!==3||(T=S+g),Y!==v||u!==0&&Y.nodeType!==3||(N=S+u),Y.nodeType===3&&(S+=Y.nodeValue.length),(V=Y.firstChild)!==null;)z=Y,Y=V;for(;;){if(Y===i)break t;if(z===a&&++G===g&&(T=S),z===v&&++F===u&&(N=S),(V=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=V}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Oc={focusedElem:i,selectionRange:a},Ga=!1,mt=r;mt!==null;)if(r=mt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,mt=i;else for(;mt!==null;){switch(r=mt,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)g=i[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,a=r,g=v.memoizedProps,v=v.memoizedState,u=a.stateNode;try{var ae=Ki(a.type,g);i=u.getSnapshotBeforeUpdate(ae,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(he){qe(a,a.return,he)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Bc(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,mt=i;break}mt=r.return}}function Fp(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(i,a),u&4&&Fr(5,a);break;case 1:if(Fn(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(S){qe(a,a.return,S)}else{var g=Ki(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(S){qe(a,a.return,S)}}u&64&&qp(a),u&512&&jr(a,a.return);break;case 3:if(Fn(i,a),u&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Nh(i,r)}catch(S){qe(a,a.return,S)}}break;case 27:r===null&&u&4&&Vp(a);case 26:case 5:Fn(i,a),r===null&&u&4&&Gp(a),u&512&&jr(a,a.return);break;case 12:Fn(i,a);break;case 31:Fn(i,a),u&4&&Yp(i,a);break;case 13:Fn(i,a),u&4&&Kp(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=Fb.bind(null,a),dw(i,a))));break;case 22:if(u=a.memoizedState!==null||Vn,!u){r=r!==null&&r.memoizedState!==null||ut,g=Vn;var v=ut;Vn=u,(ut=r)&&!v?jn(i,a,(a.subtreeFlags&8772)!==0):Fn(i,a),Vn=g,ut=v}break;case 30:break;default:Fn(i,a)}}function jp(i){var r=i.alternate;r!==null&&(i.alternate=null,jp(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Vl(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var We=null,Ot=!1;function $n(i,r,a){for(a=a.child;a!==null;)Jp(i,r,a),a=a.sibling}function Jp(i,r,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Di,a)}catch{}switch(a.tag){case 26:ut||Nn(a,r),$n(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Nn(a,r);var u=We,g=Ot;Si(a.type)&&(We=a.stateNode,Ot=!1),$n(i,r,a),to(a.stateNode),We=u,Ot=g;break;case 5:ut||Nn(a,r);case 6:if(u=We,g=Ot,We=null,$n(i,r,a),We=u,Ot=g,We!==null)if(Ot)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(a.stateNode)}catch(v){qe(a,r,v)}else try{We.removeChild(a.stateNode)}catch(v){qe(a,r,v)}break;case 18:We!==null&&(Ot?(i=We,qm(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),js(i)):qm(We,a.stateNode));break;case 4:u=We,g=Ot,We=a.stateNode.containerInfo,Ot=!0,$n(i,r,a),We=u,Ot=g;break;case 0:case 11:case 14:case 15:mi(2,a,r),ut||mi(4,a,r),$n(i,r,a);break;case 1:ut||(Nn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Hp(a,r,u)),$n(i,r,a);break;case 21:$n(i,r,a);break;case 22:ut=(u=ut)||a.memoizedState!==null,$n(i,r,a),ut=u;break;default:$n(i,r,a)}}function Yp(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{js(i)}catch(a){qe(r,r.return,a)}}}function Kp(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{js(i)}catch(a){qe(r,r.return,a)}}function Lb(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new $p),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new $p),r;default:throw Error(s(435,i.tag))}}function wa(i,r){var a=Lb(i);r.forEach(function(u){if(!a.has(u)){a.add(u);var g=jb.bind(null,i,u);u.then(g,g)}})}function Pt(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],v=i,S=r,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(Si(T.type)){We=T.stateNode,Ot=!1;break e}break;case 5:We=T.stateNode,Ot=!1;break e;case 3:case 4:We=T.stateNode.containerInfo,Ot=!0;break e}T=T.return}if(We===null)throw Error(s(160));Jp(v,S,g),We=null,Ot=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xp(r,i),r=r.sibling}var _n=null;function Xp(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pt(r,i),Lt(i),u&4&&(mi(3,i,i.return),Fr(3,i),mi(5,i,i.return));break;case 1:Pt(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),u&64&&Vn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=_n;if(Pt(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),u&4){var v=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[_r]||v[yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),wt(v,u,a),v[yt]=i,pt(v),u=v;break e;case"link":var S=Xm("link","href",g).get(u+(a.href||""));if(S){for(var T=0;T<S.length;T++)if(v=S[T],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(T,1);break t}}v=g.createElement(u),wt(v,u,a),g.head.appendChild(v);break;case"meta":if(S=Xm("meta","content",g).get(u+(a.content||""))){for(T=0;T<S.length;T++)if(v=S[T],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(T,1);break t}}v=g.createElement(u),wt(v,u,a),g.head.appendChild(v);break;default:throw Error(s(468,u))}v[yt]=i,pt(v),u=v}i.stateNode=u}else Wm(g,i.type,i.stateNode);else i.stateNode=Km(g,u,i.memoizedProps);else v!==u?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,u===null?Wm(g,i.type,i.stateNode):Km(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&cc(i,i.memoizedProps,a.memoizedProps)}break;case 27:Pt(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),a!==null&&u&4&&cc(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Pt(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),i.flags&32){g=i.stateNode;try{ms(g,"")}catch(ae){qe(i,i.return,ae)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,cc(i,g,a!==null?a.memoizedProps:g)),u&1024&&(hc=!0);break;case 6:if(Pt(r,i),Lt(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(ae){qe(i,i.return,ae)}}break;case 3:if(La=null,g=_n,_n=Oa(r.containerInfo),Pt(r,i),_n=g,Lt(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{js(r.containerInfo)}catch(ae){qe(i,i.return,ae)}hc&&(hc=!1,Wp(i));break;case 4:u=_n,_n=Oa(i.stateNode.containerInfo),Pt(r,i),Lt(i),_n=u;break;case 12:Pt(r,i),Lt(i);break;case 31:Pt(r,i),Lt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wa(i,u)));break;case 13:Pt(r,i),Lt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ea=xt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wa(i,u)));break;case 22:g=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=Vn,F=ut;if(Vn=G||g,ut=F||N,Pt(r,i),ut=F,Vn=G,Lt(i),u&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(a===null||N||Vn||ut||Xi(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(v=N.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=N.stateNode;var Y=N.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ae){qe(N,N.return,ae)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(ae){qe(N,N.return,ae)}}}else if(r.tag===18){if(a===null){N=r;try{var V=N.stateNode;g?Hm(V,!0):Hm(N.stateNode,!1)}catch(ae){qe(N,N.return,ae)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,wa(i,a))));break;case 19:Pt(r,i),Lt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,wa(i,u)));break;case 30:break;case 21:break;default:Pt(r,i),Lt(i)}}function Lt(i){var r=i.flags;if(r&2){try{for(var a,u=i.return;u!==null;){if(zp(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,v=dc(i);ba(i,v,g);break;case 5:var S=a.stateNode;a.flags&32&&(ms(S,""),a.flags&=-33);var T=dc(i);ba(i,T,S);break;case 3:case 4:var N=a.stateNode.containerInfo,G=dc(i);fc(i,G,N);break;default:throw Error(s(161))}}catch(F){qe(i,i.return,F)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Wp(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Wp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Fn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fp(i,r.alternate,r),r=r.sibling}function Xi(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:mi(4,r,r.return),Xi(r);break;case 1:Nn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Hp(r,r.return,a),Xi(r);break;case 27:to(r.stateNode);case 26:case 5:Nn(r,r.return),Xi(r);break;case 22:r.memoizedState===null&&Xi(r);break;case 30:Xi(r);break;default:Xi(r)}i=i.sibling}}function jn(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=i,v=r,S=v.flags;switch(v.tag){case 0:case 11:case 15:jn(g,v,a),Fr(4,v);break;case 1:if(jn(g,v,a),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){qe(u,u.return,G)}if(u=v,g=u.updateQueue,g!==null){var T=u.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)Rh(N[g],T)}catch(G){qe(u,u.return,G)}}a&&S&64&&qp(v),jr(v,v.return);break;case 27:Vp(v);case 26:case 5:jn(g,v,a),a&&u===null&&S&4&&Gp(v),jr(v,v.return);break;case 12:jn(g,v,a);break;case 31:jn(g,v,a),a&&S&4&&Yp(g,v);break;case 13:jn(g,v,a),a&&S&4&&Kp(g,v);break;case 22:v.memoizedState===null&&jn(g,v,a),jr(v,v.return);break;case 30:break;default:jn(g,v,a)}r=r.sibling}}function pc(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&kr(a))}function mc(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kr(i))}function bn(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qp(i,r,a,u),r=r.sibling}function Qp(i,r,a,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:bn(i,r,a,u),g&2048&&Fr(9,r);break;case 1:bn(i,r,a,u);break;case 3:bn(i,r,a,u),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kr(i)));break;case 12:if(g&2048){bn(i,r,a,u),i=r.stateNode;try{var v=r.memoizedProps,S=v.id,T=v.onPostCommit;typeof T=="function"&&T(S,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){qe(r,r.return,N)}}else bn(i,r,a,u);break;case 31:bn(i,r,a,u);break;case 13:bn(i,r,a,u);break;case 23:break;case 22:v=r.stateNode,S=r.alternate,r.memoizedState!==null?v._visibility&2?bn(i,r,a,u):Jr(i,r):v._visibility&2?bn(i,r,a,u):(v._visibility|=2,Os(i,r,a,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&pc(S,r);break;case 24:bn(i,r,a,u),g&2048&&mc(r.alternate,r);break;default:bn(i,r,a,u)}}function Os(i,r,a,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,S=r,T=a,N=u,G=S.flags;switch(S.tag){case 0:case 11:case 15:Os(v,S,T,N,g),Fr(8,S);break;case 23:break;case 22:var F=S.stateNode;S.memoizedState!==null?F._visibility&2?Os(v,S,T,N,g):Jr(v,S):(F._visibility|=2,Os(v,S,T,N,g)),g&&G&2048&&pc(S.alternate,S);break;case 24:Os(v,S,T,N,g),g&&G&2048&&mc(S.alternate,S);break;default:Os(v,S,T,N,g)}r=r.sibling}}function Jr(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,g=u.flags;switch(u.tag){case 22:Jr(a,u),g&2048&&pc(u.alternate,u);break;case 24:Jr(a,u),g&2048&&mc(u.alternate,u);break;default:Jr(a,u)}r=r.sibling}}var Yr=8192;function Ps(i,r,a){if(i.subtreeFlags&Yr)for(i=i.child;i!==null;)Zp(i,r,a),i=i.sibling}function Zp(i,r,a){switch(i.tag){case 26:Ps(i,r,a),i.flags&Yr&&i.memoizedState!==null&&Ew(a,_n,i.memoizedState,i.memoizedProps);break;case 5:Ps(i,r,a);break;case 3:case 4:var u=_n;_n=Oa(i.stateNode.containerInfo),Ps(i,r,a),_n=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Yr,Yr=16777216,Ps(i,r,a),Yr=u):Ps(i,r,a));break;default:Ps(i,r,a)}}function em(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Kr(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];mt=u,nm(u,i)}em(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tm(i),i=i.sibling}function tm(i){switch(i.tag){case 0:case 11:case 15:Kr(i),i.flags&2048&&mi(9,i,i.return);break;case 3:Kr(i);break;case 12:Kr(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Sa(i)):Kr(i);break;default:Kr(i)}}function Sa(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];mt=u,nm(u,i)}em(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:mi(8,r,r.return),Sa(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Sa(r));break;default:Sa(r)}i=i.sibling}}function nm(i,r){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:mi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kr(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,mt=u;else e:for(a=i;mt!==null;){u=mt;var g=u.sibling,v=u.return;if(jp(u),u===a){mt=null;break e}if(g!==null){g.return=v,mt=g;break e}mt=v}}}var Bb={getCacheForType:function(i){var r=_t(ot),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return _t(ot).controller.signal}},qb=typeof WeakMap=="function"?WeakMap:Map,De=0,Fe=null,xe=null,Ae=0,Be=0,Yt=null,gi=!1,Ls=!1,gc=!1,Jn=0,tt=0,yi=0,Wi=0,yc=0,Kt=0,Bs=0,Xr=null,Bt=null,vc=!1,Ea=0,im=0,xa=1/0,Ta=null,vi=null,dt=0,_i=null,qs=null,Yn=0,_c=0,bc=null,sm=null,Wr=0,wc=null;function Xt(){return(De&2)!==0&&Ae!==0?Ae&-Ae:$.T!==null?Ac():bf()}function rm(){if(Kt===0)if((Ae&536870912)===0||Ne){var i=Do;Do<<=1,(Do&3932160)===0&&(Do=262144),Kt=i}else Kt=536870912;return i=jt.current,i!==null&&(i.flags|=32),Kt}function qt(i,r,a){(i===Fe&&(Be===2||Be===9)||i.cancelPendingCommit!==null)&&(Hs(i,0),bi(i,Ae,Kt,!1)),vr(i,a),((De&2)===0||i!==Fe)&&(i===Fe&&((De&2)===0&&(Wi|=a),tt===4&&bi(i,Ae,Kt,!1)),In(i))}function om(i,r,a){if((De&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&i.expiredLanes)===0||yr(i,r),g=u?zb(i,r):Ec(i,r,!0),v=u;do{if(g===0){Ls&&!u&&bi(i,r,0,!1);break}else{if(a=i.current.alternate,v&&!Hb(a)){g=Ec(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var T=i;g=Xr;var N=T.current.memoizedState.isDehydrated;if(N&&(Hs(T,S).flags|=256),S=Ec(T,S,!1),S!==2){if(gc&&!N){T.errorRecoveryDisabledLanes|=v,Wi|=v,g=4;break e}v=Bt,Bt=g,v!==null&&(Bt===null?Bt=v:Bt.push.apply(Bt,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){Hs(i,0),bi(i,r,0,!0);break}e:{switch(u=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:bi(u,r,Kt,!gi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=Ea+300-xt(),10<g)){if(bi(u,r,Kt,!gi),Oo(u,0,!0)!==0)break e;Yn=r,u.timeoutHandle=Lm(am.bind(null,u,a,Bt,Ta,vc,r,Kt,Wi,Bs,gi,v,"Throttled",-0,0),g);break e}am(u,a,Bt,Ta,vc,r,Kt,Wi,Bs,gi,v,null,-0,0)}}break}while(!0);In(i)}function am(i,r,a,u,g,v,S,T,N,G,F,Y,z,V){if(i.timeoutHandle=-1,Y=r.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},Zp(r,v,Y);var ae=(v&62914560)===v?Ea-xt():(v&4194048)===v?im-xt():0;if(ae=xw(Y,ae),ae!==null){Yn=v,i.cancelPendingCommit=ae(mm.bind(null,i,r,v,a,u,g,S,T,N,F,Y,null,z,V)),bi(i,v,S,!G);return}}mm(i,r,v,a,u,g,S,T,N)}function Hb(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],v=g.getSnapshot;g=g.value;try{if(!$t(v(),g))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bi(i,r,a,u){r&=~yc,r&=~Wi,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var g=r;0<g;){var v=31-Vt(g),S=1<<v;u[v]=-1,g&=~S}a!==0&&yf(i,a,r)}function Ca(){return(De&6)===0?(Qr(0),!1):!0}function Sc(){if(xe!==null){if(Be===0)var i=xe.return;else i=xe,Ln=zi=null,Bu(i),Is=null,Ur=0,i=xe;for(;i!==null;)Bp(i.alternate,i),i=i.return;xe=null}}function Hs(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,ow(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Yn=0,Sc(),Fe=i,xe=a=On(i.current,null),Ae=r,Be=0,Yt=null,gi=!1,Ls=yr(i,r),gc=!1,Bs=Kt=yc=Wi=yi=tt=0,Bt=Xr=null,vc=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var g=31-Vt(u),v=1<<g;r|=i[g],u&=~v}return Jn=r,Jo(),a}function lm(i,r){we=null,$.H=zr,r===Ns||r===ta?(r=xh(),Be=3):r===Cu?(r=xh(),Be=4):Be=r===ec?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yt=r,xe===null&&(tt=1,ma(i,an(r,i.current)))}function um(){var i=jt.current;return i===null?!0:(Ae&4194048)===Ae?dn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?i===dn:!1}function cm(){var i=$.H;return $.H=zr,i===null?zr:i}function dm(){var i=$.A;return $.A=Bb,i}function Aa(){tt=4,gi||(Ae&4194048)!==Ae&&jt.current!==null||(Ls=!0),(yi&134217727)===0&&(Wi&134217727)===0||Fe===null||bi(Fe,Ae,Kt,!1)}function Ec(i,r,a){var u=De;De|=2;var g=cm(),v=dm();(Fe!==i||Ae!==r)&&(Ta=null,Hs(i,r)),r=!1;var S=tt;e:do try{if(Be!==0&&xe!==null){var T=xe,N=Yt;switch(Be){case 8:Sc(),S=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(r=!0);var G=Be;if(Be=0,Yt=null,Gs(i,T,N,G),a&&Ls){S=0;break e}break;default:G=Be,Be=0,Yt=null,Gs(i,T,N,G)}}Gb(),S=tt;break}catch(F){lm(i,F)}while(!0);return r&&i.shellSuspendCounter++,Ln=zi=null,De=u,$.H=g,$.A=v,xe===null&&(Fe=null,Ae=0,Jo()),S}function Gb(){for(;xe!==null;)fm(xe)}function zb(i,r){var a=De;De|=2;var u=cm(),g=dm();Fe!==i||Ae!==r?(Ta=null,xa=xt()+500,Hs(i,r)):Ls=yr(i,r);e:do try{if(Be!==0&&xe!==null){r=xe;var v=Yt;t:switch(Be){case 1:Be=0,Yt=null,Gs(i,r,v,1);break;case 2:case 9:if(Sh(v)){Be=0,Yt=null,hm(r);break}r=function(){Be!==2&&Be!==9||Fe!==i||(Be=7),In(i)},v.then(r,r);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Sh(v)?(Be=0,Yt=null,hm(r)):(Be=0,Yt=null,Gs(i,r,v,7));break;case 5:var S=null;switch(xe.tag){case 26:S=xe.memoizedState;case 5:case 27:var T=xe;if(S?Qm(S):T.stateNode.complete){Be=0,Yt=null;var N=T.sibling;if(N!==null)xe=N;else{var G=T.return;G!==null?(xe=G,Ra(G)):xe=null}break t}}Be=0,Yt=null,Gs(i,r,v,5);break;case 6:Be=0,Yt=null,Gs(i,r,v,6);break;case 8:Sc(),tt=6;break e;default:throw Error(s(462))}}Vb();break}catch(F){lm(i,F)}while(!0);return Ln=zi=null,$.H=u,$.A=g,De=a,xe!==null?0:(Fe=null,Ae=0,Jo(),tt)}function Vb(){for(;xe!==null&&!Ol();)fm(xe)}function fm(i){var r=Pp(i.alternate,i,Jn);i.memoizedProps=i.pendingProps,r===null?Ra(i):xe=r}function hm(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Ip(a,r,r.pendingProps,r.type,void 0,Ae);break;case 11:r=Ip(a,r,r.pendingProps,r.type.render,r.ref,Ae);break;case 5:Bu(r);default:Bp(a,r),r=xe=dh(r,Jn),r=Pp(a,r,Jn)}i.memoizedProps=i.pendingProps,r===null?Ra(i):xe=r}function Gs(i,r,a,u){Ln=zi=null,Bu(r),Is=null,Ur=0;var g=r.return;try{if(Mb(i,g,r,a,Ae)){tt=1,ma(i,an(a,i.current)),xe=null;return}}catch(v){if(g!==null)throw xe=g,v;tt=1,ma(i,an(a,i.current)),xe=null;return}r.flags&32768?(Ne||u===1?i=!0:Ls||(Ae&536870912)!==0?i=!1:(gi=i=!0,(u===2||u===9||u===3||u===6)&&(u=jt.current,u!==null&&u.tag===13&&(u.flags|=16384))),pm(r,i)):Ra(r)}function Ra(i){var r=i;do{if((r.flags&32768)!==0){pm(r,gi);return}i=r.return;var a=Ub(r.alternate,r,Jn);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=i}while(r!==null);tt===0&&(tt=5)}function pm(i,r){do{var a=Ob(i.alternate,i);if(a!==null){a.flags&=32767,xe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){xe=i;return}xe=i=a}while(i!==null);tt=6,xe=null}function mm(i,r,a,u,g,v,S,T,N){i.cancelPendingCommit=null;do Na();while(dt!==0);if((De&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=du,S_(i,a,v,S,T,N),i===Fe&&(xe=Fe=null,Ae=0),qs=r,_i=i,Yn=a,_c=v,bc=g,sm=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Jb(ls,function(){return bm(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,g=te.p,te.p=2,S=De,De|=4;try{Pb(i,r,a)}finally{De=S,te.p=g,$.T=u}}dt=1,gm(),ym(),vm()}}function gm(){if(dt===1){dt=0;var i=_i,r=qs,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var u=te.p;te.p=2;var g=De;De|=4;try{Xp(r,i);var v=Oc,S=nh(i.containerInfo),T=v.focusedElem,N=v.selectionRange;if(S!==T&&T&&T.ownerDocument&&th(T.ownerDocument.documentElement,T)){if(N!==null&&ou(T)){var G=N.start,F=N.end;if(F===void 0&&(F=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var V=z.getSelection(),ae=T.textContent.length,he=Math.min(N.start,ae),Ve=N.end===void 0?he:Math.min(N.end,ae);!V.extend&&he>Ve&&(S=Ve,Ve=he,he=S);var P=eh(T,he),k=eh(T,Ve);if(P&&k&&(V.rangeCount!==1||V.anchorNode!==P.node||V.anchorOffset!==P.offset||V.focusNode!==k.node||V.focusOffset!==k.offset)){var H=Y.createRange();H.setStart(P.node,P.offset),V.removeAllRanges(),he>Ve?(V.addRange(H),V.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),V.addRange(H))}}}}for(Y=[],V=T;V=V.parentNode;)V.nodeType===1&&Y.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var J=Y[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ga=!!Uc,Oc=Uc=null}finally{De=g,te.p=u,$.T=a}}i.current=r,dt=2}}function ym(){if(dt===2){dt=0;var i=_i,r=qs,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var u=te.p;te.p=2;var g=De;De|=4;try{Fp(i,r.alternate,r)}finally{De=g,te.p=u,$.T=a}}dt=3}}function vm(){if(dt===4||dt===3){dt=0,Pl();var i=_i,r=qs,a=Yn,u=sm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?dt=5:(dt=0,qs=_i=null,_m(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(vi=null),Gl(a),r=r.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Di,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=$.T,g=te.p,te.p=2,$.T=null;try{for(var v=i.onRecoverableError,S=0;S<u.length;S++){var T=u[S];v(T.value,{componentStack:T.stack})}}finally{$.T=r,te.p=g}}(Yn&3)!==0&&Na(),In(i),g=i.pendingLanes,(a&261930)!==0&&(g&42)!==0?i===wc?Wr++:(Wr=0,wc=i):Wr=0,Qr(0)}}function _m(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kr(r)))}function Na(){return gm(),ym(),vm(),bm()}function bm(){if(dt!==5)return!1;var i=_i,r=_c;_c=0;var a=Gl(Yn),u=$.T,g=te.p;try{te.p=32>a?32:a,$.T=null,a=bc,bc=null;var v=_i,S=Yn;if(dt=0,qs=_i=null,Yn=0,(De&6)!==0)throw Error(s(331));var T=De;if(De|=4,tm(v.current),Qp(v,v.current,S,a),De=T,Qr(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Di,v)}catch{}return!0}finally{te.p=g,$.T=u,_m(i,r)}}function wm(i,r,a){r=an(a,r),r=Zu(i.stateNode,r,2),i=fi(i,r,2),i!==null&&(vr(i,2),In(i))}function qe(i,r,a){if(i.tag===3)wm(i,i,a);else for(;r!==null;){if(r.tag===3){wm(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(vi===null||!vi.has(u))){i=an(a,i),a=Sp(2),u=fi(r,a,2),u!==null&&(Ep(a,u,r,i),vr(u,2),In(u));break}}r=r.return}}function xc(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new qb;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(a)||(gc=!0,g.add(a),i=$b.bind(null,i,r,a),r.then(i,i))}function $b(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Fe===i&&(Ae&a)===a&&(tt===4||tt===3&&(Ae&62914560)===Ae&&300>xt()-Ea?(De&2)===0&&Hs(i,0):yc|=a,Bs===Ae&&(Bs=0)),In(i)}function Sm(i,r){r===0&&(r=gf()),i=qi(i,r),i!==null&&(vr(i,r),In(i))}function Fb(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Sm(i,a)}function jb(i,r){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Sm(i,a)}function Jb(i,r){return kt(i,r)}var Ia=null,zs=null,Tc=!1,Ma=!1,Cc=!1,wi=0;function In(i){i!==zs&&i.next===null&&(zs===null?Ia=zs=i:zs=zs.next=i),Ma=!0,Tc||(Tc=!0,Kb())}function Qr(i,r){if(!Cc&&Ma){Cc=!0;do for(var a=!1,u=Ia;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var S=u.suspendedLanes,T=u.pingedLanes;v=(1<<31-Vt(42|i)+1)-1,v&=g&~(S&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Cm(u,v))}else v=Ae,v=Oo(u,u===Fe?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||yr(u,v)||(a=!0,Cm(u,v));u=u.next}while(a);Cc=!1}}function Yb(){Em()}function Em(){Ma=Tc=!1;var i=0;wi!==0&&rw()&&(i=wi);for(var r=xt(),a=null,u=Ia;u!==null;){var g=u.next,v=xm(u,r);v===0?(u.next=null,a===null?Ia=g:a.next=g,g===null&&(zs=a)):(a=u,(i!==0||(v&3)!==0)&&(Ma=!0)),u=g}dt!==0&&dt!==5||Qr(i),wi!==0&&(wi=0)}function xm(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var S=31-Vt(v),T=1<<S,N=g[S];N===-1?((T&a)===0||(T&u)!==0)&&(g[S]=w_(T,r)):N<=r&&(i.expiredLanes|=T),v&=~T}if(r=Fe,a=Ae,a=Oo(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===r&&(Be===2||Be===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&hr(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||yr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&hr(u),Gl(a)){case 2:case 8:a=Io;break;case 32:a=ls;break;case 268435456:a=mr;break;default:a=ls}return u=Tm.bind(null,i),a=kt(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&hr(u),i.callbackPriority=2,i.callbackNode=null,2}function Tm(i,r){if(dt!==0&&dt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Na()&&i.callbackNode!==a)return null;var u=Ae;return u=Oo(i,i===Fe?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(om(i,u,r),xm(i,xt()),i.callbackNode!=null&&i.callbackNode===a?Tm.bind(null,i):null)}function Cm(i,r){if(Na())return null;om(i,r,!0)}function Kb(){aw(function(){(De&6)!==0?kt(pr,Yb):Em()})}function Ac(){if(wi===0){var i=As;i===0&&(i=ko,ko<<=1,(ko&261888)===0&&(ko=256)),wi=i}return wi}function Am(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qo(""+i)}function Rm(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function Xb(i,r,a,u,g){if(r==="submit"&&a&&a.stateNode===g){var v=Am((g[Dt]||null).action),S=u.submitter;S&&(r=(r=S[Dt]||null)?Am(r.formAction):S.getAttribute("formAction"),r!==null&&(v=r,S=null));var T=new Vo("action","action",null,u,g);i.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wi!==0){var N=S?Rm(g,S):new FormData(g);Ju(a,{pending:!0,data:N,method:g.method,action:v},null,N)}}else typeof v=="function"&&(T.preventDefault(),N=S?Rm(g,S):new FormData(g),Ju(a,{pending:!0,data:N,method:g.method,action:v},v,N))},currentTarget:g}]})}}for(var Rc=0;Rc<cu.length;Rc++){var Nc=cu[Rc],Wb=Nc.toLowerCase(),Qb=Nc[0].toUpperCase()+Nc.slice(1);vn(Wb,"on"+Qb)}vn(rh,"onAnimationEnd"),vn(oh,"onAnimationIteration"),vn(ah,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(pb,"onTransitionRun"),vn(mb,"onTransitionStart"),vn(gb,"onTransitionCancel"),vn(lh,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zr));function Nm(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],g=u.event;u=u.listeners;e:{var v=void 0;if(r)for(var S=u.length-1;0<=S;S--){var T=u[S],N=T.instance,G=T.currentTarget;if(T=T.listener,N!==v&&g.isPropagationStopped())break e;v=T,g.currentTarget=G;try{v(g)}catch(F){jo(F)}g.currentTarget=null,v=N}else for(S=0;S<u.length;S++){if(T=u[S],N=T.instance,G=T.currentTarget,T=T.listener,N!==v&&g.isPropagationStopped())break e;v=T,g.currentTarget=G;try{v(g)}catch(F){jo(F)}g.currentTarget=null,v=N}}}}function Te(i,r){var a=r[zl];a===void 0&&(a=r[zl]=new Set);var u=i+"__bubble";a.has(u)||(Im(r,i,2,!1),a.add(u))}function Ic(i,r,a){var u=0;r&&(u|=4),Im(a,i,u,r)}var ka="_reactListening"+Math.random().toString(36).slice(2);function Mc(i){if(!i[ka]){i[ka]=!0,Ef.forEach(function(a){a!=="selectionchange"&&(Zb.has(a)||Ic(a,!1,i),Ic(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ka]||(r[ka]=!0,Ic("selectionchange",!1,r))}}function Im(i,r,a,u){switch(rg(r)){case 2:var g=Aw;break;case 8:g=Rw;break;default:g=jc}a=g.bind(null,r,a,i),g=void 0,!Wl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(r,a,{capture:!0,passive:g}):i.addEventListener(r,a,!0):g!==void 0?i.addEventListener(r,a,{passive:g}):i.addEventListener(r,a,!1)}function kc(i,r,a,u,g){var v=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var T=u.stateNode.containerInfo;if(T===g)break;if(S===4)for(S=u.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;T!==null;){if(S=cs(T),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){u=v=S;continue e}T=T.parentNode}}u=u.return}Of(function(){var G=v,F=Kl(a),Y=[];e:{var z=uh.get(i);if(z!==void 0){var V=Vo,ae=i;switch(i){case"keypress":if(Go(a)===0)break e;case"keydown":case"keyup":V=j_;break;case"focusin":ae="focus",V=tu;break;case"focusout":ae="blur",V=tu;break;case"beforeblur":case"afterblur":V=tu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=U_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=K_;break;case rh:case oh:case ah:V=L_;break;case lh:V=W_;break;case"scroll":case"scrollend":V=k_;break;case"wheel":V=Z_;break;case"copy":case"cut":case"paste":V=q_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Hf;break;case"toggle":case"beforetoggle":V=tb}var he=(r&4)!==0,Ve=!he&&(i==="scroll"||i==="scrollend"),P=he?z!==null?z+"Capture":null:z;he=[];for(var k=G,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||P===null||(J=wr(k,P),J!=null&&he.push(eo(k,J,H))),Ve)break;k=k.return}0<he.length&&(z=new V(z,ae,null,a,F),Y.push({event:z,listeners:he}))}}if((r&7)===0){e:{if(z=i==="mouseover"||i==="pointerover",V=i==="mouseout"||i==="pointerout",z&&a!==Yl&&(ae=a.relatedTarget||a.fromElement)&&(cs(ae)||ae[us]))break e;if((V||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,V?(ae=a.relatedTarget||a.toElement,V=G,ae=ae?cs(ae):null,ae!==null&&(Ve=l(ae),he=ae.tag,ae!==Ve||he!==5&&he!==27&&he!==6)&&(ae=null)):(V=null,ae=G),V!==ae)){if(he=Bf,J="onMouseLeave",P="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(he=Hf,J="onPointerLeave",P="onPointerEnter",k="pointer"),Ve=V==null?z:br(V),H=ae==null?z:br(ae),z=new he(J,k+"leave",V,a,F),z.target=Ve,z.relatedTarget=H,J=null,cs(F)===G&&(he=new he(P,k+"enter",ae,a,F),he.target=H,he.relatedTarget=Ve,J=he),Ve=J,V&&ae)t:{for(he=ew,P=V,k=ae,H=0,J=P;J;J=he(J))H++;J=0;for(var de=k;de;de=he(de))J++;for(;0<H-J;)P=he(P),H--;for(;0<J-H;)k=he(k),J--;for(;H--;){if(P===k||k!==null&&P===k.alternate){he=P;break t}P=he(P),k=he(k)}he=null}else he=null;V!==null&&Mm(Y,z,V,he,!1),ae!==null&&Ve!==null&&Mm(Y,Ve,ae,he,!0)}}e:{if(z=G?br(G):window,V=z.nodeName&&z.nodeName.toLowerCase(),V==="select"||V==="input"&&z.type==="file")var Ie=Yf;else if(jf(z))if(Kf)Ie=db;else{Ie=ub;var le=lb}else V=z.nodeName,!V||V.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?G&&Jl(G.elementType)&&(Ie=Yf):Ie=cb;if(Ie&&(Ie=Ie(i,G))){Jf(Y,Ie,a,F);break e}le&&le(i,z,G),i==="focusout"&&G&&z.type==="number"&&G.memoizedProps.value!=null&&jl(z,"number",z.value)}switch(le=G?br(G):window,i){case"focusin":(jf(le)||le.contentEditable==="true")&&(_s=le,au=G,Nr=null);break;case"focusout":Nr=au=_s=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,ih(Y,a,F);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":ih(Y,a,F)}var Ee;if(iu)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else vs?$f(i,a)&&(Re="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(Gf&&a.locale!=="ko"&&(vs||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&vs&&(Ee=Pf()):(ri=F,Ql="value"in ri?ri.value:ri.textContent,vs=!0)),le=Da(G,Re),0<le.length&&(Re=new qf(Re,i,null,a,F),Y.push({event:Re,listeners:le}),Ee?Re.data=Ee:(Ee=Ff(a),Ee!==null&&(Re.data=Ee)))),(Ee=ib?sb(i,a):rb(i,a))&&(Re=Da(G,"onBeforeInput"),0<Re.length&&(le=new qf("onBeforeInput","beforeinput",null,a,F),Y.push({event:le,listeners:Re}),le.data=Ee)),Xb(Y,i,G,a,F)}Nm(Y,r)})}function eo(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Da(i,r){for(var a=r+"Capture",u=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=wr(i,a),g!=null&&u.unshift(eo(i,g,v)),g=wr(i,r),g!=null&&u.push(eo(i,g,v))),i.tag===3)return u;i=i.return}return[]}function ew(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mm(i,r,a,u,g){for(var v=r._reactName,S=[];a!==null&&a!==u;){var T=a,N=T.alternate,G=T.stateNode;if(T=T.tag,N!==null&&N===u)break;T!==5&&T!==26&&T!==27||G===null||(N=G,g?(G=wr(a,v),G!=null&&S.unshift(eo(a,G,N))):g||(G=wr(a,v),G!=null&&S.push(eo(a,G,N)))),a=a.return}S.length!==0&&i.push({event:r,listeners:S})}var tw=/\r\n?/g,nw=/\u0000|\uFFFD/g;function km(i){return(typeof i=="string"?i:""+i).replace(tw,`
`).replace(nw,"")}function Dm(i,r){return r=km(r),km(i)===r}function ze(i,r,a,u,g,v){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ms(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ms(i,""+u);break;case"className":Lo(i,"class",u);break;case"tabIndex":Lo(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(i,a,u);break;case"style":Df(i,u,v);break;case"data":if(r!=="object"){Lo(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=qo(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(r!=="input"&&ze(i,r,"name",g.name,g,null),ze(i,r,"formEncType",g.formEncType,g,null),ze(i,r,"formMethod",g.formMethod,g,null),ze(i,r,"formTarget",g.formTarget,g,null)):(ze(i,r,"encType",g.encType,g,null),ze(i,r,"method",g.method,g,null),ze(i,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=qo(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Dn);break;case"onScroll":u!=null&&Te("scroll",i);break;case"onScrollEnd":u!=null&&Te("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=qo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Te("beforetoggle",i),Te("toggle",i),Po(i,"popover",u);break;case"xlinkActuate":kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":kn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":kn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":kn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":kn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Po(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=I_.get(a)||a,Po(i,a,u))}}function Dc(i,r,a,u,g,v){switch(a){case"style":Df(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?ms(i,u):(typeof u=="number"||typeof u=="bigint")&&ms(i,""+u);break;case"onScroll":u!=null&&Te("scroll",i);break;case"onScrollEnd":u!=null&&Te("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),r=a.slice(2,g?a.length-7:void 0),v=i[Dt]||null,v=v!=null?v[a]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,g);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Po(i,a,u)}}}function wt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",i),Te("load",i);var u=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var S=a[v];if(S!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ze(i,r,v,S,a,null)}}g&&ze(i,r,"srcSet",a.srcSet,a,null),u&&ze(i,r,"src",a.src,a,null);return;case"input":Te("invalid",i);var T=v=S=g=null,N=null,G=null;for(u in a)if(a.hasOwnProperty(u)){var F=a[u];if(F!=null)switch(u){case"name":g=F;break;case"type":S=F;break;case"checked":N=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:ze(i,r,u,F,a,null)}}Nf(i,v,T,N,G,S,g,!1);return;case"select":Te("invalid",i),u=S=v=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":v=T;break;case"defaultValue":S=T;break;case"multiple":u=T;default:ze(i,r,g,T,a,null)}r=v,a=S,i.multiple=!!u,r!=null?ps(i,!!u,r,!1):a!=null&&ps(i,!!u,a,!0);return;case"textarea":Te("invalid",i),v=g=u=null;for(S in a)if(a.hasOwnProperty(S)&&(T=a[S],T!=null))switch(S){case"value":u=T;break;case"defaultValue":g=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ze(i,r,S,T,a,null)}Mf(i,u,g,v);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ze(i,r,N,u,a,null)}return;case"dialog":Te("beforetoggle",i),Te("toggle",i),Te("cancel",i),Te("close",i);break;case"iframe":case"object":Te("load",i);break;case"video":case"audio":for(u=0;u<Zr.length;u++)Te(Zr[u],i);break;case"image":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"embed":case"source":case"link":Te("error",i),Te("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(u=a[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ze(i,r,G,u,a,null)}return;default:if(Jl(r)){for(F in a)a.hasOwnProperty(F)&&(u=a[F],u!==void 0&&Dc(i,r,F,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&ze(i,r,T,u,a,null))}function iw(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,T=null,N=null,G=null,F=null;for(V in a){var Y=a[V];if(a.hasOwnProperty(V)&&Y!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":N=Y;default:u.hasOwnProperty(V)||ze(i,r,V,null,u,Y)}}for(var z in u){var V=u[z];if(Y=a[z],u.hasOwnProperty(z)&&(V!=null||Y!=null))switch(z){case"type":v=V;break;case"name":g=V;break;case"checked":G=V;break;case"defaultChecked":F=V;break;case"value":S=V;break;case"defaultValue":T=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,r));break;default:V!==Y&&ze(i,r,z,V,u,Y)}}Fl(i,S,T,N,G,F,v,g);return;case"select":V=S=T=z=null;for(v in a)if(N=a[v],a.hasOwnProperty(v)&&N!=null)switch(v){case"value":break;case"multiple":V=N;default:u.hasOwnProperty(v)||ze(i,r,v,null,u,N)}for(g in u)if(v=u[g],N=a[g],u.hasOwnProperty(g)&&(v!=null||N!=null))switch(g){case"value":z=v;break;case"defaultValue":T=v;break;case"multiple":S=v;default:v!==N&&ze(i,r,g,v,u,N)}r=T,a=S,u=V,z!=null?ps(i,!!a,z,!1):!!u!=!!a&&(r!=null?ps(i,!!a,r,!0):ps(i,!!a,a?[]:"",!1));return;case"textarea":V=z=null;for(T in a)if(g=a[T],a.hasOwnProperty(T)&&g!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ze(i,r,T,null,u,g)}for(S in u)if(g=u[S],v=a[S],u.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":z=g;break;case"defaultValue":V=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&ze(i,r,S,g,u,v)}If(i,z,V);return;case"option":for(var ae in a)if(z=a[ae],a.hasOwnProperty(ae)&&z!=null&&!u.hasOwnProperty(ae))switch(ae){case"selected":i.selected=!1;break;default:ze(i,r,ae,null,u,z)}for(N in u)if(z=u[N],V=a[N],u.hasOwnProperty(N)&&z!==V&&(z!=null||V!=null))switch(N){case"selected":i.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ze(i,r,N,z,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)z=a[he],a.hasOwnProperty(he)&&z!=null&&!u.hasOwnProperty(he)&&ze(i,r,he,null,u,z);for(G in u)if(z=u[G],V=a[G],u.hasOwnProperty(G)&&z!==V&&(z!=null||V!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,r));break;default:ze(i,r,G,z,u,V)}return;default:if(Jl(r)){for(var Ve in a)z=a[Ve],a.hasOwnProperty(Ve)&&z!==void 0&&!u.hasOwnProperty(Ve)&&Dc(i,r,Ve,void 0,u,z);for(F in u)z=u[F],V=a[F],!u.hasOwnProperty(F)||z===V||z===void 0&&V===void 0||Dc(i,r,F,z,u,V);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!u.hasOwnProperty(P)&&ze(i,r,P,null,u,z);for(Y in u)z=u[Y],V=a[Y],!u.hasOwnProperty(Y)||z===V||z==null&&V==null||ze(i,r,Y,z,u,V)}function Um(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sw(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],v=g.transferSize,S=g.initiatorType,T=g.duration;if(v&&T&&Um(S)){for(S=0,T=g.responseEnd,u+=1;u<a.length;u++){var N=a[u],G=N.startTime;if(G>T)break;var F=N.transferSize,Y=N.initiatorType;F&&Um(Y)&&(N=N.responseEnd,S+=F*(N<T?1:(T-G)/(N-G)))}if(--u,r+=8*(v+S)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Uc=null,Oc=null;function Ua(i){return i.nodeType===9?i:i.ownerDocument}function Om(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pm(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Pc(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lc=null;function rw(){var i=window.event;return i&&i.type==="popstate"?i===Lc?!1:(Lc=i,!0):(Lc=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,ow=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(i){return Bm.resolve(null).then(i).catch(lw)}:Lm;function lw(i){setTimeout(function(){throw i})}function Si(i){return i==="head"}function qm(i,r){var a=r,u=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(g),js(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")to(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,to(a);for(var v=a.firstChild;v;){var S=v.nextSibling,T=v.nodeName;v[_r]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}else a==="body"&&to(i.ownerDocument.body);a=g}while(a);js(r)}function Hm(i,r){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function Bc(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bc(a),Vl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function uw(i,r,a,u){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[_r])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=fn(i.nextSibling),i===null)break}return null}function cw(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=fn(i.nextSibling),i===null))return null;return i}function Gm(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=fn(i.nextSibling),i===null))return null;return i}function qc(i){return i.data==="$?"||i.data==="$~"}function Hc(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function dw(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function fn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Gc=null;function zm(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return fn(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function Vm(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function $m(i,r,a){switch(r=Ua(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function to(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Vl(i)}var hn=new Map,Fm=new Set;function Oa(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Kn=te.d;te.d={f:fw,r:hw,D:pw,C:mw,L:gw,m:yw,X:_w,S:vw,M:bw};function fw(){var i=Kn.f(),r=Ca();return i||r}function hw(i){var r=ds(i);r!==null&&r.tag===5&&r.type==="form"?lp(r):Kn.r(i)}var Vs=typeof document>"u"?null:document;function jm(i,r,a){var u=Vs;if(u&&typeof r=="string"&&r){var g=rn(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Fm.has(g)||(Fm.add(g),i={rel:i,crossOrigin:a,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),wt(r,"link",i),pt(r),u.head.appendChild(r)))}}function pw(i){Kn.D(i),jm("dns-prefetch",i,null)}function mw(i,r){Kn.C(i,r),jm("preconnect",i,r)}function gw(i,r,a){Kn.L(i,r,a);var u=Vs;if(u&&i&&r){var g='link[rel="preload"][as="'+rn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+rn(a.imageSizes)+'"]')):g+='[href="'+rn(i)+'"]';var v=g;switch(r){case"style":v=$s(i);break;case"script":v=Fs(i)}hn.has(v)||(i=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),hn.set(v,i),u.querySelector(g)!==null||r==="style"&&u.querySelector(no(v))||r==="script"&&u.querySelector(io(v))||(r=u.createElement("link"),wt(r,"link",i),pt(r),u.head.appendChild(r)))}}function yw(i,r){Kn.m(i,r);var a=Vs;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(i)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Fs(i)}if(!hn.has(v)&&(i=b({rel:"modulepreload",href:i},r),hn.set(v,i),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(io(v)))return}u=a.createElement("link"),wt(u,"link",i),pt(u),a.head.appendChild(u)}}}function vw(i,r,a){Kn.S(i,r,a);var u=Vs;if(u&&i){var g=fs(u).hoistableStyles,v=$s(i);r=r||"default";var S=g.get(v);if(!S){var T={loading:0,preload:null};if(S=u.querySelector(no(v)))T.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},a),(a=hn.get(v))&&zc(i,a);var N=S=u.createElement("link");pt(N),wt(N,"link",i),N._p=new Promise(function(G,F){N.onload=G,N.onerror=F}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pa(S,r,u)}S={type:"stylesheet",instance:S,count:1,state:T},g.set(v,S)}}}function _w(i,r){Kn.X(i,r);var a=Vs;if(a&&i){var u=fs(a).hoistableScripts,g=Fs(i),v=u.get(g);v||(v=a.querySelector(io(g)),v||(i=b({src:i,async:!0},r),(r=hn.get(g))&&Vc(i,r),v=a.createElement("script"),pt(v),wt(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function bw(i,r){Kn.M(i,r);var a=Vs;if(a&&i){var u=fs(a).hoistableScripts,g=Fs(i),v=u.get(g);v||(v=a.querySelector(io(g)),v||(i=b({src:i,async:!0,type:"module"},r),(r=hn.get(g))&&Vc(i,r),v=a.createElement("script"),pt(v),wt(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function Jm(i,r,a,u){var g=(g=re.current)?Oa(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=$s(a.href),a=fs(g).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=$s(a.href);var v=fs(g).hoistableStyles,S=v.get(i);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,S),(v=g.querySelector(no(i)))&&!v._p&&(S.instance=v,S.state.loading=5),hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(i,a),v||ww(g,i,a,S.state))),r&&u===null)throw Error(s(528,""));return S}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fs(a),a=fs(g).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function $s(i){return'href="'+rn(i)+'"'}function no(i){return'link[rel="stylesheet"]['+i+"]"}function Ym(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function ww(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),wt(r,"link",a),pt(r),i.head.appendChild(r))}function Fs(i){return'[src="'+rn(i)+'"]'}function io(i){return"script[async]"+i}function Km(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+rn(a.href)+'"]');if(u)return r.instance=u,pt(u),u;var g=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pt(u),wt(u,"style",g),Pa(u,a.precedence,i),r.instance=u;case"stylesheet":g=$s(a.href);var v=i.querySelector(no(g));if(v)return r.state.loading|=4,r.instance=v,pt(v),v;u=Ym(a),(g=hn.get(g))&&zc(u,g),v=(i.ownerDocument||i).createElement("link"),pt(v);var S=v;return S._p=new Promise(function(T,N){S.onload=T,S.onerror=N}),wt(v,"link",u),r.state.loading|=4,Pa(v,a.precedence,i),r.instance=v;case"script":return v=Fs(a.src),(g=i.querySelector(io(v)))?(r.instance=g,pt(g),g):(u=a,(g=hn.get(v))&&(u=b({},a),Vc(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),pt(g),wt(g,"link",u),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Pa(u,a.precedence,i));return r.instance}function Pa(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,S=0;S<u.length;S++){var T=u[S];if(T.dataset.precedence===r)v=T;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function zc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Vc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var La=null;function Xm(i,r,a){if(La===null){var u=new Map,g=La=new Map;g.set(a,u)}else g=La,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var v=a[g];if(!(v[_r]||v[yt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(r)||"";S=i+S;var T=u.get(S);T?T.push(v):u.set(S,[v])}}return u}function Wm(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function Sw(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qm(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Ew(i,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=$s(u.href),v=r.querySelector(no(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Ba.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=v,pt(v);return}v=r.ownerDocument||r,u=Ym(u),(g=hn.get(g))&&zc(u,g),v=v.createElement("link"),pt(v);var S=v;S._p=new Promise(function(T,N){S.onload=T,S.onerror=N}),wt(v,"link",u),a.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Ba.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var $c=0;function xw(i,r){return i.stylesheets&&i.count===0&&Ha(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&Ha(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&$c===0&&($c=62500*sw());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ha(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>$c?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Ba(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ha(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qa=null;function Ha(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qa=new Map,r.forEach(Tw,i),qa=null,Ba.call(i))}function Tw(i,r){if(!(r.state.loading&4)){var a=qa.get(i);if(a)var u=a.get(null);else{a=new Map,qa.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),u=S)}u&&a.set(null,u)}g=r.instance,S=g.getAttribute("data-precedence"),v=a.get(S)||u,v===u&&a.set(null,g),a.set(S,g),this.count++,u=Ba.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var so={$$typeof:I,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Cw(i,r,a,u,g,v,S,T,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.hiddenUpdates=ql(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Zm(i,r,a,u,g,v,S,T,N,G,F,Y){return i=new Cw(i,r,a,S,N,G,F,Y,T),r=1,v===!0&&(r|=24),v=Ft(3,null,null,r),i.current=v,v.stateNode=i,r=Eu(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:u,isDehydrated:a,cache:r},Au(v),i}function eg(i){return i?(i=Ss,i):Ss}function tg(i,r,a,u,g,v){g=eg(g),u.context===null?u.context=g:u.pendingContext=g,u=di(r),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=fi(i,u,r),a!==null&&(qt(a,i,r),Pr(a,i,r))}function ng(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Fc(i,r){ng(i,r),(i=i.alternate)&&ng(i,r)}function ig(i){if(i.tag===13||i.tag===31){var r=qi(i,67108864);r!==null&&qt(r,i,67108864),Fc(i,67108864)}}function sg(i){if(i.tag===13||i.tag===31){var r=Xt();r=Hl(r);var a=qi(i,r);a!==null&&qt(a,i,r),Fc(i,r)}}var Ga=!0;function Aw(i,r,a,u){var g=$.T;$.T=null;var v=te.p;try{te.p=2,jc(i,r,a,u)}finally{te.p=v,$.T=g}}function Rw(i,r,a,u){var g=$.T;$.T=null;var v=te.p;try{te.p=8,jc(i,r,a,u)}finally{te.p=v,$.T=g}}function jc(i,r,a,u){if(Ga){var g=Jc(u);if(g===null)kc(i,r,u,za,a),og(i,u);else if(Iw(g,i,r,a,u))u.stopPropagation();else if(og(i,u),r&4&&-1<Nw.indexOf(i)){for(;g!==null;){var v=ds(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Ui(v.pendingLanes);if(S!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var N=1<<31-Vt(S);T.entanglements[1]|=N,S&=~N}In(v),(De&6)===0&&(xa=xt()+500,Qr(0))}}break;case 31:case 13:T=qi(v,2),T!==null&&qt(T,v,2),Ca(),Fc(v,2)}if(v=Jc(u),v===null&&kc(i,r,u,za,a),v===g)break;g=v}g!==null&&u.stopPropagation()}else kc(i,r,u,null,a)}}function Jc(i){return i=Kl(i),Yc(i)}var za=null;function Yc(i){if(za=null,i=cs(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=f(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return za=i,null}function rg(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ll()){case pr:return 2;case Io:return 8;case ls:case Mo:return 32;case mr:return 268435456;default:return 32}default:return 32}}var Kc=!1,Ei=null,xi=null,Ti=null,ro=new Map,oo=new Map,Ci=[],Nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function og(i,r){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":ro.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(r.pointerId)}}function ao(i,r,a,u,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},r!==null&&(r=ds(r),r!==null&&ig(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function Iw(i,r,a,u,g){switch(r){case"focusin":return Ei=ao(Ei,i,r,a,u,g),!0;case"dragenter":return xi=ao(xi,i,r,a,u,g),!0;case"mouseover":return Ti=ao(Ti,i,r,a,u,g),!0;case"pointerover":var v=g.pointerId;return ro.set(v,ao(ro.get(v)||null,i,r,a,u,g)),!0;case"gotpointercapture":return v=g.pointerId,oo.set(v,ao(oo.get(v)||null,i,r,a,u,g)),!0}return!1}function ag(i){var r=cs(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,wf(i.priority,function(){sg(a)});return}}else if(r===31){if(r=f(a),r!==null){i.blockedOn=r,wf(i.priority,function(){sg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Va(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Jc(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Yl=u,a.target.dispatchEvent(u),Yl=null}else return r=ds(a),r!==null&&ig(r),i.blockedOn=a,!1;r.shift()}return!0}function lg(i,r,a){Va(i)&&a.delete(r)}function Mw(){Kc=!1,Ei!==null&&Va(Ei)&&(Ei=null),xi!==null&&Va(xi)&&(xi=null),Ti!==null&&Va(Ti)&&(Ti=null),ro.forEach(lg),oo.forEach(lg)}function $a(i,r){i.blockedOn===r&&(i.blockedOn=null,Kc||(Kc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mw)))}var Fa=null;function ug(i){Fa!==i&&(Fa=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fa===i&&(Fa=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],g=i[r+2];if(typeof u!="function"){if(Yc(u||a)===null)continue;break}var v=ds(a);v!==null&&(i.splice(r,3),r-=3,Ju(v,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function js(i){function r(N){return $a(N,i)}Ei!==null&&$a(Ei,i),xi!==null&&$a(xi,i),Ti!==null&&$a(Ti,i),ro.forEach(r),oo.forEach(r);for(var a=0;a<Ci.length;a++){var u=Ci[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ci.length&&(a=Ci[0],a.blockedOn===null);)ag(a),a.blockedOn===null&&Ci.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],v=a[u+1],S=g[Dt]||null;if(typeof v=="function")S||ug(a);else if(S){var T=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[Dt]||null)T=S.formAction;else if(Yc(g)!==null)continue}else T=S.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),ug(a)}}}function cg(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Xc(i){this._internalRoot=i}ja.prototype.render=Xc.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Xt();tg(a,u,i,r,null,null)},ja.prototype.unmount=Xc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;tg(i.current,2,null,i,null,null),Ca(),r[us]=null}};function ja(i){this._internalRoot=i}ja.prototype.unstable_scheduleHydration=function(i){if(i){var r=bf();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Ci.length&&r!==0&&r<Ci[a].priority;a++);Ci.splice(a,0,i),a===0&&ag(i)}};var dg=e.version;if(dg!=="19.2.3")throw Error(s(527,dg,"19.2.3"));te.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=h(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var kw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{Di=Ja.inject(kw),zt=Ja}catch{}}return uo.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",g=vp,v=_p,S=bp;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),r=Zm(i,1,!1,null,null,a,u,null,g,v,S,cg),i[us]=r.current,Mc(i),new Xc(r)},uo.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,g="",v=vp,S=_p,T=bp,N=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=Zm(i,1,!0,r,a??null,u,g,N,v,S,T,cg),r.context=eg(null),a=r.current,u=Xt(),u=Hl(u),g=di(u),g.callback=null,fi(a,g,u),a=u,r.current.lanes=a,vr(r,a),In(r),i[us]=r.current,Mc(i),new ja(r)},uo.version="19.2.3",uo}var wg;function zw(){if(wg)return Zc.exports;wg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zc.exports=Gw(),Zc.exports}var Vw=zw();const $w=Dv(Vw);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sg="popstate";function Fw(t={}){function e(o,l){let{pathname:c="/",search:f="",hash:p=""}=os(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),yd("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=o.location.href,h=p.indexOf("#");f=h===-1?p:p.slice(0,h)}return f+"#"+(typeof l=="string"?l:_o(l))}function s(o,l){en(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Jw(e,n,s,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function en(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jw(){return Math.random().toString(36).substring(2,10)}function Eg(t,e){return{usr:t.state,key:t.key,idx:e}}function yd(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?os(e):e,state:n,key:e&&e.key||s||jw()}}function _o({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function os(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Jw(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,f="POP",p=null,h=y();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function y(){return(c.state||{idx:null}).idx}function b(){f="POP";let C=y(),M=C==null?null:C-h;h=C,p&&p({action:f,location:R.location,delta:M})}function w(C,M){f="PUSH";let L=yd(R.location,C,M);n&&n(L,C),h=y()+1;let I=Eg(L,h),O=R.createHref(L);try{c.pushState(I,"",O)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(O)}l&&p&&p({action:f,location:R.location,delta:1})}function E(C,M){f="REPLACE";let L=yd(R.location,C,M);n&&n(L,C),h=y();let I=Eg(L,h),O=R.createHref(L);c.replaceState(I,"",O),l&&p&&p({action:f,location:R.location,delta:0})}function A(C){return Yw(C)}let R={get action(){return f},get location(){return t(o,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Sg,b),p=C,()=>{o.removeEventListener(Sg,b),p=null}},createHref(C){return e(o,C)},createURL:A,encodeLocation(C){let M=A(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:E,go(C){return c.go(C)}};return R}function Yw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:_o(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ov(t,e,n="/"){return Kw(t,e,n,!1)}function Kw(t,e,n,s){let o=typeof e=="string"?os(e):e,l=Qn(o.pathname||"/",n);if(l==null)return null;let c=Pv(t);Xw(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let h=aS(l);f=rS(c[p],h,s)}return f}function Pv(t,e=[],n=[],s="",o=!1){let l=(c,f,p=o,h)=>{let y={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Ze(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=Wn([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(Ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Pv(c.children,e,w,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:iS(b,c.index),routesMeta:w})};return t.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,f);else for(let h of Lv(c.path))l(c,f,!0,h)}),e}function Lv(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Lv(s.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function Xw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ww=/^:[\w-]+$/,Qw=3,Zw=2,eS=1,tS=10,nS=-2,xg=t=>t==="*";function iS(t,e){let n=t.split("/"),s=n.length;return n.some(xg)&&(s+=nS),e&&(s+=Zw),n.filter(o=>!xg(o)).reduce((o,l)=>o+(Ww.test(l)?Qw:l===""?eS:tS),s)}function sS(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function rS(t,e,n=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let f=0;f<s.length;++f){let p=s[f],h=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},y),w=p.route;if(!b&&h&&n&&!s[s.length-1].route.index&&(b=cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Wn([l,b.pathname]),pathnameBase:dS(Wn([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Wn([l,b.pathnameBase]))}return c}function cl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=oS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((h,{paramName:y,isOptional:b},w)=>{if(y==="*"){let A=f[w]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const E=f[w];return b&&!E?h[y]=void 0:h[y]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function oS(t,e=!1,n=!0){en(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var Bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lS=t=>Bv.test(t);function uS(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?os(t):t,l;if(n)if(lS(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),en(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Tg(n.substring(1),"/"):l=Tg(n,e)}else l=e;return{pathname:l,search:fS(s),hash:hS(o)}}function Tg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function id(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qv(t){let e=cS(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Hv(t,e,n,s=!1){let o;typeof t=="string"?o=os(t):(o={...t},Ze(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}f=b>=0?e[b]:"/"}let p=uS(o,f),h=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(h||y)&&(p.pathname+="/"),p}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),dS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,pS=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function mS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function gS(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zv(t,e){let n=t;if(typeof n!="string"||!Bv.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(Gv)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Qn(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:o=!0}catch{en(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vv=["POST","PUT","PATCH","DELETE"];new Set(Vv);var yS=["GET",...Vv];new Set(yS);var ur=D.createContext(null);ur.displayName="DataRouter";var Sl=D.createContext(null);Sl.displayName="DataRouterState";var vS=D.createContext(!1),$v=D.createContext({isTransitioning:!1});$v.displayName="ViewTransition";var _S=D.createContext(new Map);_S.displayName="Fetchers";var bS=D.createContext(null);bS.displayName="Await";var gn=D.createContext(null);gn.displayName="Navigation";var Co=D.createContext(null);Co.displayName="Location";var Mn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var jd=D.createContext(null);jd.displayName="RouteError";var Fv="REACT_ROUTER_ERROR",wS="REDIRECT",SS="ROUTE_ERROR_RESPONSE";function ES(t){if(t.startsWith(`${Fv}:${wS}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xS(t){if(t.startsWith(`${Fv}:${SS}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new pS(e.status,e.statusText,e.data)}catch{}}function TS(t,{relative:e}={}){Ze(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(gn),{hash:o,pathname:l,search:c}=Ro(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Wn([n,l])),s.createHref({pathname:f,search:c,hash:o})}function Ao(){return D.useContext(Co)!=null}function tn(){return Ze(Ao(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Co).location}var jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jv(t){D.useContext(gn).static||D.useLayoutEffect(t)}function Mi(){let{isDataRoute:t}=D.useContext(Mn);return t?BS():CS()}function CS(){Ze(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(ur),{basename:e,navigator:n}=D.useContext(gn),{matches:s}=D.useContext(Mn),{pathname:o}=tn(),l=JSON.stringify(qv(s)),c=D.useRef(!1);return Jv(()=>{c.current=!0}),D.useCallback((p,h={})=>{if(en(c.current,jv),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Hv(p,JSON.parse(l),o,h.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Wn([e,y.pathname])),(h.replace?n.replace:n.push)(y,h.state,h)},[e,n,l,o,t])}D.createContext(null);function Yv(){let{matches:t}=D.useContext(Mn),e=t[t.length-1];return e?e.params:{}}function Ro(t,{relative:e}={}){let{matches:n}=D.useContext(Mn),{pathname:s}=tn(),o=JSON.stringify(qv(n));return D.useMemo(()=>Hv(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function AS(t,e){return Kv(t,e)}function Kv(t,e,n,s,o){var L;Ze(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(gn),{matches:c}=D.useContext(Mn),f=c[c.length-1],p=f?f.params:{},h=f?f.pathname:"/",y=f?f.pathnameBase:"/",b=f&&f.route;{let I=b&&b.path||"";Wv(h,!b||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let w=tn(),E;if(e){let I=typeof e=="string"?os(e):e;Ze(y==="/"||((L=I.pathname)==null?void 0:L.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${I.pathname}" was given in the \`location\` prop.`),E=I}else E=w;let A=E.pathname||"/",R=A;if(y!=="/"){let I=y.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=Ov(t,{pathname:R});en(b||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),en(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=kS(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:Wn([y,l.encodeLocation?l.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?y:Wn([y,l.encodeLocation?l.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),c,n,s,o);return e&&M?D.createElement(Co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function RS(){let t=LS(),e=mS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,c)}var NS=D.createElement(RS,null),Xv=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=xS(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(Mn.Provider,{value:this.props.routeContext},D.createElement(jd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(IS,{error:t},e):e}};Xv.contextType=vS;var sd=new WeakMap;function IS({children:t,error:e}){let{basename:n}=D.useContext(gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ES(e.digest);if(s){let o=sd.get(e);if(o)throw o;let l=zv(s.location,n);if(Gv&&!sd.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw sd.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function MS({routeContext:t,match:e,children:n}){let s=D.useContext(ur);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Mn.Provider,{value:t},n)}function kS(t,e=[],n=null,s=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let y=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);Ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let b=l[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=y),b.route.id){let{loaderData:w,errors:E}=n,A=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||A){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let h=n&&s?(y,b)=>{var w,E;s(y,{location:n.location,params:((E=(w=n.matches)==null?void 0:w[0])==null?void 0:E.params)??{},unstable_pattern:gS(n.matches),errorInfo:b})}:void 0;return l.reduceRight((y,b,w)=>{let E,A=!1,R=null,C=null;n&&(E=c&&b.route.id?c[b.route.id]:void 0,R=b.route.errorElement||NS,f&&(p<0&&w===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):p===w&&(A=!0,C=b.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,w+1)),L=()=>{let I;return E?I=R:A?I=C:b.route.Component?I=D.createElement(b.route.Component,null):b.route.element?I=b.route.element:I=y,D.createElement(MS,{match:b,routeContext:{outlet:y,matches:M,isDataRoute:n!=null},children:I})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?D.createElement(Xv,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:h}):L()},null)}function Jd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(t){let e=D.useContext(ur);return Ze(e,Jd(t)),e}function US(t){let e=D.useContext(Sl);return Ze(e,Jd(t)),e}function OS(t){let e=D.useContext(Mn);return Ze(e,Jd(t)),e}function Yd(t){let e=OS(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function PS(){return Yd("useRouteId")}function LS(){var s;let t=D.useContext(jd),e=US("useRouteError"),n=Yd("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function BS(){let{router:t}=DS("useNavigate"),e=Yd("useNavigate"),n=D.useRef(!1);return Jv(()=>{n.current=!0}),D.useCallback(async(o,l={})=>{en(n.current,jv),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Cg={};function Wv(t,e,n){!e&&!Cg[t]&&(Cg[t]=!0,en(!1,n))}D.memo(qS);function qS({routes:t,future:e,state:n,onError:s}){return Kv(t,void 0,n,s,e)}function Ht(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HS({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){Ze(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[f,o,l,c]);typeof n=="string"&&(n=os(n));let{pathname:h="/",search:y="",hash:b="",state:w=null,key:E="default"}=n,A=D.useMemo(()=>{let R=Qn(h,f);return R==null?null:{location:{pathname:R,search:y,hash:b,state:w,key:E},navigationType:s}},[f,h,y,b,w,E,s]);return en(A!=null,`<Router basename="${f}"> is not able to match the URL "${h}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:D.createElement(gn.Provider,{value:p},D.createElement(Co.Provider,{children:e,value:A}))}function Qv({children:t,location:e}){return AS(vd(t),e)}function vd(t,e=[]){let n=[];return D.Children.forEach(t,(s,o)=>{if(!D.isValidElement(s))return;let l=[...e,o];if(s.type===D.Fragment){n.push.apply(n,vd(s.props.children,l));return}Ze(s.type===Ht,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=vd(s.props.children,l)),n.push(c)}),n}var ol="get",al="application/x-www-form-urlencoded";function El(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function GS(t){return El(t)&&t.tagName.toLowerCase()==="button"}function zS(t){return El(t)&&t.tagName.toLowerCase()==="form"}function VS(t){return El(t)&&t.tagName.toLowerCase()==="input"}function $S(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FS(t,e){return t.button===0&&(!e||e==="_self")&&!$S(t)}function _d(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function jS(t,e){let n=_d(t);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var Ya=null;function JS(){if(Ya===null)try{new FormData(document.createElement("form"),0),Ya=!1}catch{Ya=!0}return Ya}var YS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(t){return t!=null&&!YS.has(t)?(en(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${al}"`),null):t}function KS(t,e){let n,s,o,l,c;if(zS(t)){let f=t.getAttribute("action");s=f?Qn(f,e):null,n=t.getAttribute("method")||ol,o=rd(t.getAttribute("enctype"))||al,l=new FormData(t)}else if(GS(t)||VS(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?Qn(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||ol,o=rd(t.getAttribute("formenctype"))||rd(f.getAttribute("enctype"))||al,l=new FormData(f,t),!JS()){let{name:h,type:y,value:b}=t;if(y==="image"){let w=h?`${h}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else h&&l.append(h,b)}}else{if(El(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ol,s=null,o=al,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XS(t,e,n,s){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Qn(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function WS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZS(t,e,n){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await WS(l,n);return c.links?c.links():[]}return[]}));return iE(s.flat(1).filter(QS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ag(t,e,n,s,o,l){let c=(p,h)=>n[h]?p.route.id!==n[h].route.id:!0,f=(p,h)=>{var y;return n[h].pathname!==p.pathname||((y=n[h].route.path)==null?void 0:y.endsWith("*"))&&n[h].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,h)=>c(p,h)||f(p,h)):l==="data"?e.filter((p,h)=>{var b;let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function eE(t,e,{includeHydrateFallback:n}={}){return tE(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function tE(t){return[...new Set(t)]}function nE(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function iE(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(nE(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function Zv(){let t=D.useContext(ur);return Kd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sE(){let t=D.useContext(Sl);return Kd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xd=D.createContext(void 0);Xd.displayName="FrameworkContext";function e0(){let t=D.useContext(Xd);return Kd(t,"You must render this element inside a <HydratedRouter> element"),t}function rE(t,e){let n=D.useContext(Xd),[s,o]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:y,onTouchStart:b}=e,w=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=M=>{M.forEach(L=>{c(L.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[t]),D.useEffect(()=>{if(s){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[s]);let E=()=>{o(!0)},A=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:co(f,E),onBlur:co(p,A),onMouseEnter:co(h,E),onMouseLeave:co(y,A),onTouchStart:co(b,E)}]:[!1,w,{}]}function co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oE({page:t,...e}){let{router:n}=Zv(),s=D.useMemo(()=>Ov(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(lE,{page:t,matches:s,...e}):null}function aE(t){let{manifest:e,routeModules:n}=e0(),[s,o]=D.useState([]);return D.useEffect(()=>{let l=!1;return ZS(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),s}function lE({page:t,matches:e,...n}){let s=tn(),{future:o,manifest:l,routeModules:c}=e0(),{basename:f}=Zv(),{loaderData:p,matches:h}=sE(),y=D.useMemo(()=>Ag(t,e,h,l,s,"data"),[t,e,h,l,s]),b=D.useMemo(()=>Ag(t,e,h,l,s,"assets"),[t,e,h,l,s]),w=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let R=new Set,C=!1;if(e.forEach(L=>{var O;let I=l.routes[L.route.id];!I||!I.hasLoader||(!y.some(K=>K.route.id===L.route.id)&&L.route.id in p&&((O=c[L.route.id])!=null&&O.shouldRevalidate)||I.hasClientLoader?C=!0:R.add(L.route.id))}),R.size===0)return[];let M=XS(t,f,o.unstable_trailingSlashAwareDataRequests,"data");return C&&R.size>0&&M.searchParams.set("_routes",e.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[f,o.unstable_trailingSlashAwareDataRequests,p,s,l,y,e,t,c]),E=D.useMemo(()=>eE(b,l),[b,l]),A=aE(b);return D.createElement(D.Fragment,null,w.map(R=>D.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),E.map(R=>D.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),A.map(({key:R,link:C})=>D.createElement("link",{key:R,nonce:n.nonce,...C})))}function uE(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cE&&(window.__reactRouterVersion="7.12.0")}catch{}function dE({basename:t,children:e,unstable_useTransitions:n,window:s}){let o=D.useRef();o.current==null&&(o.current=Fw({window:s,v5Compat:!0}));let l=o.current,[c,f]=D.useState({action:l.action,location:l.location}),p=D.useCallback(h=>{n===!1?f(h):D.startTransition(()=>f(h))},[n]);return D.useLayoutEffect(()=>l.listen(p),[l,p]),D.createElement(HS,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:f,target:p,to:h,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},A){let{basename:R,unstable_useTransitions:C}=D.useContext(gn),M=typeof h=="string"&&t0.test(h),L=zv(h,R);h=L.to;let I=TS(h,{relative:o}),[O,K,W]=rE(s,E),U=mE(h,{replace:c,state:f,target:p,preventScrollReset:y,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:C});function Z(ne){e&&e(ne),ne.defaultPrevented||U(ne)}let X=D.createElement("a",{...E,...W,href:L.absoluteURL||I,onClick:L.isExternal||l?e:Z,ref:uE(A,K),target:p,"data-discover":!M&&n==="render"?"true":void 0});return O&&!M?D.createElement(D.Fragment,null,X,D.createElement(oE,{page:I})):X});$e.displayName="Link";var fE=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:f,children:p,...h},y){let b=Ro(c,{relative:h.relative}),w=tn(),E=D.useContext(Sl),{navigator:A,basename:R}=D.useContext(gn),C=E!=null&&wE(b)&&f===!0,M=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,L=w.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(L=L.toLowerCase(),I=I?I.toLowerCase():null,M=M.toLowerCase()),I&&R&&(I=Qn(I,R)||I);const O=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let K=L===M||!o&&L.startsWith(M)&&L.charAt(O)==="/",W=I!=null&&(I===M||!o&&I.startsWith(M)&&I.charAt(M.length)==="/"),U={isActive:K,isPending:W,isTransitioning:C},Z=K?e:void 0,X;typeof s=="function"?X=s(U):X=[s,K?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ne=typeof l=="function"?l(U):l;return D.createElement($e,{...h,"aria-current":Z,className:X,ref:y,style:ne,to:c,viewTransition:f},typeof p=="function"?p(U):p)});fE.displayName="NavLink";var hE=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=ol,action:f,onSubmit:p,relative:h,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w,...E},A)=>{let{unstable_useTransitions:R}=D.useContext(gn),C=_E(),M=bE(f,{relative:h}),L=c.toLowerCase()==="get"?"get":"post",I=typeof f=="string"&&t0.test(f),O=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let W=K.nativeEvent.submitter,U=(W==null?void 0:W.getAttribute("formmethod"))||c,Z=()=>C(W||K.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:o,state:l,relative:h,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w});R&&n!==!1?D.startTransition(()=>Z()):Z()};return D.createElement("form",{ref:A,method:L,action:M,onSubmit:s?p:O,...E,"data-discover":!I&&t==="render"?"true":void 0})});hE.displayName="Form";function pE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n0(t){let e=D.useContext(ur);return Ze(e,pE(t)),e}function mE(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let h=Mi(),y=tn(),b=Ro(t,{relative:l});return D.useCallback(w=>{if(FS(w,e)){w.preventDefault();let E=n!==void 0?n:_o(y)===_o(b),A=()=>h(t,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});p?D.startTransition(()=>A()):A()}},[y,h,b,n,s,e,t,o,l,c,f,p])}function gE(t){en(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(_d(t)),n=D.useRef(!1),s=tn(),o=D.useMemo(()=>jS(s.search,n.current?null:e.current),[s.search]),l=Mi(),c=D.useCallback((f,p)=>{const h=_d(typeof f=="function"?f(new URLSearchParams(o)):f);n.current=!0,l("?"+h,p)},[l,o]);return[o,c]}var yE=0,vE=()=>`__${String(++yE)}__`;function _E(){let{router:t}=n0("useSubmit"),{basename:e}=D.useContext(gn),n=PS(),s=t.fetch,o=t.navigate;return D.useCallback(async(l,c={})=>{let{action:f,method:p,encType:h,formData:y,body:b}=KS(l,e);if(c.navigate===!1){let w=c.fetcherKey||vE();await s(w,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:b,formMethod:c.method||p,formEncType:c.encType||h,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:b,formMethod:c.method||p,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function bE(t,{relative:e}={}){let{basename:n}=D.useContext(gn),s=D.useContext(Mn);Ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ro(t||".",{relative:e})},c=tn();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Wn([n,l.pathname])),_o(l)}function wE(t,{relative:e}={}){let n=D.useContext($v);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=n0("useViewTransitionState"),o=Ro(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qn(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Qn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return cl(o.pathname,c)!=null||cl(o.pathname,l)!=null}var ee=(t=>(t.AR="ar",t.EN="en",t))(ee||{}),rs=(t=>(t.PENDING=" ",t.ACCEPTED="",t.DELIVERING=" ",t.DELIVERED=" ",t.REJECTED="",t))(rs||{});const SE="+962798739259",go=3,Wd=["","  ","  ","  (Denim Suits)","  ","  ",""," "," "," "," - Blazer Jacket","","",""," "," "," "," ",""," ",""," ",""," - Kimono"],Rg=["","","","","","","","","","","",""],Ng={[ee.AR]:{marquee:"   TaliaMode7 |       |       |         |     |  : 0798739259",heroTitle:"Luxury Collection 2026",heroSubtitle:"  ",heroDesc:"        .       .",shopNow:" ",viewOffers:" ",newArrivals:"  ",bestSellers:"  ",topRated:"  ",allProducts:" ",cart:" ",wishlist:"",checkout:" ",addToCart:" ",buyNow:" ",outOfStock:" ",size:"",total:"",deliveryFee:" ",grandTotal:" ",fullName:" ",phone:" ",city:"",address:" ",confirmOrder:" ",searchPlaceholder:"  ...",couponCode:" ",apply:"",categoriesLabel:"",itemsAvailable:" ",orderSummary:" ",discount:"",secureCheckout:"    .",orderContent:" ",additionalNotes:"  ()",sizeGuide:" ",loading:" ...",backToHome:"",emptyWishlist:"   .",categories:{all:" ",:"","  ":"  ","  ":"  ","  (Denim Suits)":" ","  ":" ","  ":" ",:""," ":" "," ":" "," ":" "," - Blazer Jacket":"",:"",:"",:""," ":" "," ":" "," ":" "," ":" ",:""," ":" ",:""," ":" ",:""," - Kimono":""}},[ee.EN]:{marquee:"Welcome to TaliaMode7 | Premium Turkish Brands Specialist | Videos are our own property | No exchange or return after delivery | Cash on Delivery only | Contact: 0798739259",heroTitle:"Luxury Collection 2026",heroSubtitle:"Elegance That Speaks For You",heroDesc:"Discover the latest carefully selected Turkish fashion trends. Unique pieces that give you the confidence and luxury you deserve.",shopNow:"Shop Now",viewOffers:"View Offers",newArrivals:"New Arrivals ",bestSellers:"Best Sellers ",topRated:"Top Rated ",allProducts:"All Products",cart:"Shopping Cart",wishlist:"Wishlist",checkout:"Checkout",addToCart:"Add to Cart",buyNow:"Buy Now",outOfStock:"Out of Stock",size:"Size",total:"Total",deliveryFee:"Delivery Fee",grandTotal:"Grand Total",fullName:"Full Name",phone:"Phone Number",city:"City",address:"Detailed Address",confirmOrder:"Confirm Order",searchPlaceholder:"Search for your elegance...",couponCode:"Coupon Code",apply:"Apply",categoriesLabel:"Categories",itemsAvailable:"items available",orderSummary:"Order Summary",discount:"Discount",secureCheckout:"Secure checkout. Cash on Delivery only.",orderContent:"Order Items",additionalNotes:"Additional Notes (Optional)",sizeGuide:"Size Guide",loading:"Loading...",backToHome:"Home",emptyWishlist:"Your wishlist is currently empty.",categories:{all:"All Products",:"New In","  ":"Best Sellers","  ":"Top Rated","  (Denim Suits)":"Denim Suits","  ":"Formal Suits","  ":"Casual Suits",:"Pants"," ":"Jeans"," ":"Fabric Pants"," ":"Tops & Hoodies"," - Blazer Jacket":"Blazers",:"Trench Coats",:"Skirts",:"Jackets"," ":"Leather Jackets"," ":"Wool Jackets"," ":"Denim Jackets"," ":"Knitwear",:"Scarves"," ":"Bags & Accessories",:"Dresses"," ":"Basic Pieces",:"Shirts"," - Kimono":"Kimono"}}},EE="https://res.cloudinary.com/de9xnhjn1/video/upload/q_auto:good,f_auto/v1/IMG_2353_vbb9pg.mp4",xE="https://res.cloudinary.com/de9xnhjn1/video/upload/q_auto,f_auto,so_0/v1/IMG_2353_vbb9pg.jpg",TE=()=>{const{t}=Mt(),e=D.useRef(null);return D.useEffect(()=>{e.current&&e.current.play().catch(n=>{console.log("Video autoplay prevented by browser:",n)})},[]),_.jsxs("section",{className:"relative h-[85vh] w-full overflow-hidden flex items-center justify-center text-center",children:[_.jsxs("div",{className:"absolute inset-0 z-0",children:[_.jsx("video",{ref:e,src:EE,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",poster:xE,className:"w-full h-full object-cover",children:"Your browser does not support the video tag."}),_.jsx("div",{className:"absolute inset-0 bg-pearl/10"})]}),_.jsxs("div",{className:"relative z-10 container mx-auto px-4 flex flex-col items-center gap-6",children:[_.jsx("div",{className:"opacity-0 animate-[fadeIn_1s_ease-out_forwards]",children:_.jsx("span",{className:"font-englishContent text-sm md:text-lg font-bold tracking-[0.3em] uppercase text-gold drop-shadow-md",children:t.heroTitle})}),_.jsx("div",{className:"opacity-0 animate-[fadeInUp_1s_ease-out_0.3s_forwards]",children:_.jsx("h1",{className:"font-englishTitle text-4xl md:text-6xl font-bold text-taliaBlack leading-snug drop-shadow-lg max-w-5xl",children:t.heroSubtitle})}),_.jsx("div",{className:"opacity-0 animate-[fadeInUp_1s_ease-out_0.6s_forwards] max-w-2xl",children:_.jsx("p",{className:"text-sm md:text-base font-bold text-taliaBlack leading-relaxed tracking-wide drop-shadow-md",children:t.heroDesc})}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8 opacity-0 animate-[fadeInUp_1s_ease-out_0.9s_forwards]",children:[_.jsx($e,{to:"/products",className:"bg-blush text-white px-10 py-4 text-xs font-bold tracking-[0.2em] uppercase hover:bg-taliaBlack transition-colors duration-300 shadow-xl",children:t.shopNow}),_.jsx($e,{to:"/category/  ",className:"bg-white/80 backdrop-blur-sm text-taliaBlack px-10 py-4 text-xs font-bold tracking-[0.2em] uppercase hover:bg-white transition-colors duration-300 shadow-xl border border-white",children:t.viewOffers})]})]})]})},dl=({product:t})=>{const{t:e,language:n}=Mt(),[s,o]=D.useState(!1),l=t.sizes.every(p=>p.quantity===0),c=n===ee.AR?"":"JOD";D.useEffect(()=>{const p=JSON.parse(localStorage.getItem("talia_likes")||"[]");o(p.includes(t.id))},[t.id]);const f=p=>{p.preventDefault(),p.stopPropagation();const h=JSON.parse(localStorage.getItem("talia_likes")||"[]");let y;s?y=h.filter(b=>b!==t.id):y=[...h,t.id],localStorage.setItem("talia_likes",JSON.stringify(y)),o(!s),window.dispatchEvent(new Event("wishlistUpdate"))};return _.jsxs("div",{className:"group bg-white border border-gold/10 overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 relative rounded-2xl h-full flex flex-col",children:[_.jsx($e,{to:`/product/${t.id}`,className:"relative block flex-grow",children:_.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[_.jsx("img",{src:t.images[0]||"https://picsum.photos/400/533",alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000 ease-in-out",loading:"lazy"}),_.jsx("button",{onClick:f,className:`absolute top-3 right-3 md:top-4 md:right-4 z-20 p-2 md:p-2.5 rounded-full backdrop-blur-md transition-all duration-300 ${s?"bg-blush text-white scale-110 shadow-lg":"bg-white/70 text-gray-400 hover:text-blush hover:bg-white"}`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 md:h-4 md:w-4",fill:s?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),t.is_new&&_.jsx("span",{className:"absolute top-3 left-3 md:top-4 md:left-4 bg-blush text-white text-[8px] md:text-[9px] font-bold px-2 py-1 md:px-3 md:py-1.5 uppercase tracking-widest shadow-lg rounded-sm",children:n===ee.AR?" ":"New "}),l&&_.jsx("div",{className:"absolute inset-0 bg-pearl/60 backdrop-blur-[2px] flex items-center justify-center",children:_.jsx("span",{className:"bg-taliaBlack text-white text-[10px] font-bold px-5 py-2.5 uppercase tracking-widest",children:e.outOfStock})}),_.jsx("div",{className:"absolute inset-x-0 bottom-0 p-4 md:p-6 translate-y-full group-hover:translate-y-0 transition-transform duration-500 bg-gradient-to-t from-taliaBlack/80 to-transparent flex justify-center hidden md:flex",children:_.jsx("button",{className:"bg-white text-taliaBlack text-[10px] font-bold py-3 px-8 uppercase tracking-[0.2em] hover:bg-gold hover:text-white transition-all shadow-xl",children:e.shopNow})})]})}),_.jsxs("div",{className:"p-3 md:p-5 text-center bg-white flex flex-col justify-end flex-grow-0",children:[_.jsx("h3",{className:`text-xs font-bold mb-2 truncate text-gray-800 group-hover:text-blush transition-colors tracking-wide ${n===ee.EN?"font-englishContent":""}`,children:t.name}),_.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-3 flex-wrap",children:[_.jsxs("span",{className:"text-blush font-bold text-sm",children:[t.price," ",c]}),t.old_price&&_.jsxs("span",{className:"text-gray-300 text-[10px] md:text-[11px] line-through decoration-red-400/30",children:[t.old_price," ",c]})]})]})]})};function xl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function CE(t,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(y){try{h(s.next(y))}catch(b){c(b)}}function p(y){try{h(s.throw(y))}catch(b){c(b)}}function h(y){y.done?l(y.value):o(y.value).then(f,p)}h((s=s.apply(t,e||[])).next())})}const AE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Qd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class RE extends Qd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ig extends Qd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mg extends Qd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bd||(bd={}));class NE{constructor(e,{headers:n={},customFetch:s,region:o=bd.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=AE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return CE(this,arguments,void 0,function*(n,s={}){var o;let l,c;try{const{headers:f,method:p,body:h,signal:y,timeout:b}=s;let w={},{region:E}=s;E||(E=this.region);const A=new URL(`${this.url}/${n}`);E&&E!=="any"&&(w["x-region"]=E,A.searchParams.set("forceFunctionRegion",E));let R;h&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",R=h):typeof h=="string"?(w["Content-Type"]="text/plain",R=h):typeof FormData<"u"&&h instanceof FormData?R=h:(w["Content-Type"]="application/json",R=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?R=JSON.stringify(h):R=h;let C=y;b&&(c=new AbortController,l=setTimeout(()=>c.abort(),b),y?(C=c.signal,y.addEventListener("abort",()=>c.abort())):C=c.signal);const M=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:R,signal:C}).catch(K=>{throw new RE(K)}),L=M.headers.get("x-relay-error");if(L&&L==="true")throw new Ig(M);if(!M.ok)throw new Mg(M);let I=((o=M.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),O;return I==="application/json"?O=yield M.json():I==="application/octet-stream"||I==="application/pdf"?O=yield M.blob():I==="text/event-stream"?O=M:I==="multipart/form-data"?O=yield M.formData():O=yield M.text(),{data:O,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof Mg||f instanceof Ig?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var IE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ME=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,f=null,p=null,h=l.status,y=l.statusText;if(l.ok){var b,w;if(n.method!=="HEAD"){var E;const M=await l.text();M===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((E=n.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=M:f=JSON.parse(M))}const R=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),C=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&C&&C.length>1&&(p=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,h=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var A;const R=await l.text();try{c=JSON.parse(R),Array.isArray(c)&&l.status===404&&(f=[],c=null,h=200,y="OK")}catch{l.status===404&&R===""?(h=204,y="No Content"):c={message:R}}if(c&&n.isMaybeSingle&&(!(c==null||(A=c.details)===null||A===void 0)&&A.includes("0 rows"))&&(c=null,h=200,y="OK"),c&&n.shouldThrowOnError)throw new IE(c)}return{error:c,data:f,count:p,status:h,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let f="";const p=l==null?void 0:l.cause;if(p){var h,y,b,w;const A=(h=p==null?void 0:p.message)!==null&&h!==void 0?h:"",R=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";f=`${(b=l==null?void 0:l.name)!==null&&b!==void 0?b:"FetchError"}: ${l==null?void 0:l.message}`,f+=`

Caused by: ${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"Error"}: ${A}`,R&&(f+=` (${R})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var E;f=(E=l==null?void 0:l.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},kE=class extends ME{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var c;const f=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const kg=new RegExp("[,()]");var Zs=class extends kE{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&kg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&kg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},DE=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",c),s&&p.append("Prefer",`count=${s}`),new Zs({method:o,url:f,headers:p,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);l.searchParams.set("columns",p.join(","))}}return new Zs({method:o,url:l,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const c="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),s&&p.append("Prefer",`count=${s}`),o||p.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(h.length>0){const y=[...new Set(h)].map(b=>`"${b}"`);f.searchParams.set("columns",y.join(","))}}return new Zs({method:c,url:f,headers:p,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Zs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Zs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},UE=class i0{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new DE(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var c;let f;const p=new URL(`${this.url}/rpc/${e}`);let h;const y=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(y)),b=s&&Object.values(n).some(y);b?(f="POST",h=n):s||o?(f=s?"HEAD":"GET",Object.entries(n).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{p.searchParams.append(E,A)})):(f="POST",h=n);const w=new Headers(this.headers);return b?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new Zs({method:f,url:p,headers:w,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class OE{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const PE="2.90.1",LE=`realtime-js/${PE}`,s0="1.0.0",BE="2.0.0",Dg=s0,wd=1e4,qE=1e3,HE=100;var Ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ri||(Ri={}));var ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ft||(ft={}));var En;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(En||(En={}));var Sd;(function(t){t.websocket="websocket"})(Sd||(Sd={}));var ns;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ns||(ns={}));class GE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,s){var o,l;const c=e.topic,f=(o=e.ref)!==null&&o!==void 0?o:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",h=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+h.length+b.length,E=new ArrayBuffer(this.HEADER_LENGTH+w);let A=new DataView(E),R=0;A.setUint8(R++,this.KINDS.userBroadcastPush),A.setUint8(R++,p.length),A.setUint8(R++,f.length),A.setUint8(R++,c.length),A.setUint8(R++,h.length),A.setUint8(R++,b.length),A.setUint8(R++,n),Array.from(p,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(f,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(c,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(h,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(b,M=>A.setUint8(R++,M.charCodeAt(0)));var C=new Uint8Array(E.byteLength+s.byteLength);return C.set(new Uint8Array(E),0),C.set(new Uint8Array(s),E.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,c,f,p]=s;return n({join_ref:o,ref:l,topic:c,event:f,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const h=s.decode(e.slice(p,p+o));p=p+o;const y=s.decode(e.slice(p,p+l));p=p+l;const b=s.decode(e.slice(p,p+c));p=p+c;const w=e.slice(p,e.byteLength),E=f===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,A={type:this.BROADCAST_EVENT,event:y,payload:E};return c>0&&(A.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class r0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Je||(Je={}));const Ug=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=zE(c,t,e,o),l),{}):{}},zE=(t,e,n,s)=>{const o=e.find(f=>f.name===t),l=o==null?void 0:o.type,c=n[t];return l&&!s.includes(l)?o0(l,c):Ed(c)},o0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return jE(e,n)}switch(t){case Je.bool:return VE(e);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return $E(e);case Je.json:case Je.jsonb:return FE(e);case Je.timestamp:return JE(e);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Ed(e);default:return Ed(e)}},Ed=t=>t,VE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$E=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},FE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},jE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>o0(e,f))}return t},JE=t=>typeof t=="string"?t.replace(" ","T"):t,a0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class od{constructor(e,n,s={},o=wd){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Og;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Og||(Og={}));class yo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yo.syncState(this.state,o,l,c),this.pendingDiffs.forEach(p=>{this.state=yo.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=yo.syncDiff(this.state,o,l,c),f())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),c=this.transformState(n),f={},p={};return this.map(l,(h,y)=>{c[h]||(p[h]=y)}),this.map(c,(h,y)=>{const b=l[h];if(b){const w=y.map(C=>C.presence_ref),E=b.map(C=>C.presence_ref),A=y.filter(C=>E.indexOf(C.presence_ref)<0),R=b.filter(C=>w.indexOf(C.presence_ref)<0);A.length>0&&(f[h]=A),R.length>0&&(p[h]=R)}else f[h]=y}),this.syncDiff(l,{joins:f,leaves:p},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(f,p)=>{var h;const y=(h=e[f])!==null&&h!==void 0?h:[];if(e[f]=this.cloneDeep(p),y.length>0){const b=e[f].map(E=>E.presence_ref),w=y.filter(E=>b.indexOf(E.presence_ref)<0);e[f].unshift(...w)}s(f,y,p)}),this.map(c,(f,p)=>{let h=e[f];if(!h)return;const y=p.map(b=>b.presence_ref);h=h.filter(b=>y.indexOf(b.presence_ref)<0),e[f]=h,o(f,h,p),h.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Pg||(Pg={}));var vo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vo||(vo={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class ir{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,En.join,this.params,this.timeout),this.rejoinTimer=new r0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new yo(this),this.broadcastEndpointURL=a0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,h=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[vo.PRESENCE]&&this.bindings[vo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},w={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(Xn.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e==null||e(Xn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,C=(A=R==null?void 0:R.length)!==null&&A!==void 0?A:0,M=[];for(let L=0;L<C;L++){const I=R[L],{filter:{event:O,schema:K,table:W,filter:U}}=I,Z=E&&E[L];if(Z&&Z.event===O&&ir.isFilterValueEqual(Z.schema,K)&&ir.isFilterValueEqual(Z.table,W)&&ir.isFilterValueEqual(Z.filter,U))M.push(Object.assign(Object.assign({},I),{id:Z.id}));else{this.unsubscribe(),this.state=ft.errored,e==null||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(Xn.SUBSCRIBED);return}}).receive("error",E=>{this.state=ft.errored,e==null||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ft.joined&&e===vo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const h=await f.json();p=h.error||h.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,p;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new od(this,En.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new od(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>HE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const c=e.toLocaleLowerCase(),{close:f,error:p,leave:h,join:y}=En;if(s&&[f,p,h,y].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var A,R,C;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(R=E.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(E=>E.callback(w,s)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var A,R,C,M,L,I,O,K;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const W=E.id,U=(A=E.filter)===null||A===void 0?void 0:A.event;return W&&((R=n.ids)===null||R===void 0?void 0:R.includes(W))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!((M=E.filter)===null||M===void 0)&&M.table)||E.filter.table===((L=n.data)===null||L===void 0?void 0:L.table))}else{const W=(O=(I=E==null?void 0:E.filter)===null||I===void 0?void 0:I.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return W==="*"||W===((K=n==null?void 0:n.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:R,table:C,commit_timestamp:M,type:L,errors:I}=A;w=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:M,eventType:L,new:{},old:{},errors:I}),this._getPayloadRecords(A))}E.callback(w,s)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&ir.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(En.close,{},e)}_onError(e){this._on(En.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ug(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ug(e.columns,e.old_record)),n}}const ad=()=>{},Ka={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},YE=[1e3,2e3,5e3,1e4],KE=1e4,XE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WE{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wd,this.transport=null,this.heartbeatIntervalMs=Ka.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ad,this.ref=0,this.reconnectTimer=null,this.vsn=Dg,this.logger=ad,this.conn=null,this.sendBuffer=[],this.serializer=new GE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sd.websocket}`,this.httpEndpoint=a0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=OE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return ns.Connecting;case Ri.open:return ns.Open;case Ri.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new ir(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,c=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(qE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ka.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:c}=n,f=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${s} ${o} ${f}`.trim(),l),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ri.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ri.open||this.conn.readyState===Ri.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(En.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([XE],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:LE};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(En.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new r0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ka.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,c,f,p,h,y,b,w,E;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:wd,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Ka.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:ad,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:Dg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(A=>YE[A-1]||KE),this.vsn){case s0:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((A,R)=>R(JSON.stringify(A))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((A,R)=>R(JSON.parse(A)));break;case BE:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var bo=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QE(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function ZE(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function ex(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:c}){const f=QE(t.baseUrl,s,o),p=await ZE(t.auth),h=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...c},body:l?JSON.stringify(l):void 0}),y=await h.text(),b=(h.headers.get("content-type")||"").includes("application/json"),w=b&&y?JSON.parse(y):y;if(!h.ok){const E=b?w:void 0,A=E==null?void 0:E.error;throw new bo((A==null?void 0:A.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:E})}return{status:h.status,headers:h.headers,data:w}}}}function Xa(t){return t.join("")}var tx=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Xa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xa(t.namespace)}`}),!0}catch(e){if(e instanceof bo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof bo&&n.status===409)return;throw n}}};function Js(t){return t.join("")}var nx=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof bo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof bo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},ix=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=ex({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new tx(this.client,e),this.tableOps=new nx(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Tl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var sx=class extends Tl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xd=class extends Tl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Zd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rx=()=>Response,Td=t=>{if(Array.isArray(t))return t.map(n=>Td(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Td(s)}),e},ox=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ax=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function lx(t,e){if(wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(wo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ux(t){var e=lx(t,"string");return wo(e)=="symbol"?e:e+""}function cx(t,e,n){return(e=ux(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lg(Object(n),!0).forEach(function(s){cx(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const ld=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},dx=async(t,e,n)=>{t instanceof await rx()&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const o=t.status||500,l=(s==null?void 0:s.statusCode)||o+"";e(new sx(ld(s),o,l))}).catch(s=>{e(new xd(ld(s),s))}):e(new xd(ld(t),t))},fx=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(ox(s)?(o.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),ge(ge({},o),n))};async function No(t,e,n,s,o,l){return new Promise((c,f)=>{t(n,fx(e,s,o,l)).then(p=>{if(!p.ok)throw p;return s!=null&&s.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>dx(p,f,s))})}async function So(t,e,n,s){return No(t,"GET",e,n,s)}async function Sn(t,e,n,s,o){return No(t,"POST",e,s,o,n)}async function Cd(t,e,n,s,o){return No(t,"PUT",e,s,o,n)}async function hx(t,e,n,s){return No(t,"HEAD",e,ge(ge({},n),{},{noResolveJson:!0}),s)}async function ef(t,e,n,s,o){return No(t,"DELETE",e,s,o,n)}var px=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};let l0;l0=Symbol.toStringTag;var mx=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[l0]="BlobDownloadBuilder",this.promise=null}asStream(){return new px(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};const gx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yx=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Zd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const c=ge(ge({},Bg),s);let f=ge(ge({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",o.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),p&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(p))):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(f=ge(ge({},f),s.headers));const h=o._removeEmptyFolders(e),y=o._getFinalPath(h),b=await(t=="PUT"?Cd:Sn)(o.fetch,`${o.url}/object/${y}`,l,ge({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),c=o._getFinalPath(l),f=new URL(o.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let p;const h=ge({upsert:Bg.upsert},s),y=ge(ge({},o.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",h.cacheControl)):(p=n,y["cache-control"]=`max-age=${h.cacheControl}`,y["content-type"]=h.contentType),{data:{path:l,fullPath:(await Cd(o.fetch,f.toString(),p,{headers:y})).Key},error:null}}catch(p){if(o.shouldThrowOnError)throw p;if(Qe(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ge({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await Sn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(n.url+l.url),f=c.searchParams.get("token");if(!f)throw new Tl("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await Sn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await Sn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await Sn(s.fetch,`${s.url}/object/sign/${o}`,ge({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await Sn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>ge(ge({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>So(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new mx(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Td(await So(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await hx(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Qe(s)&&s instanceof xd){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ge(ge(ge({},gx),e),{},{prefix:t||""});return{data:await Sn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ge({},t);return{data:await Sn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const u0="2.90.1",c0={"X-Client-Info":`storage-js/${u0}`};var vx=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ge(ge({},c0),e),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await So(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await So(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Cd(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},_x=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},c0),e),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Sn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await So(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!ax(t))throw new Tl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new ix({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(o,f),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}}}})}};const tf={"X-Client-Info":`storage-js/${u0}`,"Content-Type":"application/json"};var d0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Qt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var ud=class extends d0{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bx=class extends d0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const nf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sx=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new ud(qg(l),s,c))}).catch(()=>{const l=s+"";e(new ud(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new ud(o.statusText||`HTTP ${s} error`,s,l))}}else e(new bx(qg(t),t))},Ex=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(wx(s)?(o.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,ge(ge({},o),n)):o};async function xx(t,e,n,s,o,l){return new Promise((c,f)=>{t(n,Ex(e,s,o,l)).then(p=>{if(!p.ok)throw p;if(s!=null&&s.noResolveJson)return p;const h=p.headers.get("content-type");return!h||!h.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>Sx(p,f,s))})}async function Zt(t,e,n,s,o){return xx(t,"POST",e,s,o,n)}var Tx=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Zt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Zt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}},Cx=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Zt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Zt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Zt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}},Ax=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}},Rx=class extends Ax{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Nx(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Nx=class extends Tx{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Ix(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ix=class extends Cx{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Mx=class extends vx{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new yx(this.url,this.headers,t,this.fetch)}get vectors(){return new Rx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _x(this.url+"/iceberg",this.headers,this.fetch)}};const f0="2.90.1",er=30*1e3,Ad=3,cd=Ad*er,kx="http://localhost:9999",Dx="supabase.auth.token",Ux={"X-Client-Info":`gotrue-js/${f0}`},Rd="X-Supabase-Api-Version",h0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ox=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Px=600*1e3;class Eo extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Lx extends Eo{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Bx(t){return ce(t)&&t.name==="AuthApiError"}class is extends Eo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ei extends Eo{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Wt extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qx(t){return ce(t)&&t.name==="AuthSessionMissingError"}class Ys extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wa extends ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qa extends ei{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hx(t){return ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hg extends ei{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gx extends ei{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nd extends ei{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function dd(t){return ce(t)&&t.name==="AuthRetryableFetchError"}class Gg extends ei{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Id extends ei{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zg=` 	
\r=`.split(""),zx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zg.length;e+=1)t[zg[e].charCodeAt(0)]=-2;for(let e=0;e<fl.length;e+=1)t[fl[e].charCodeAt(0)]=e;return t})();function Vg(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(fl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(fl[s]),e.queuedBits-=6}}function p0(t,e,n){const s=zx[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $g(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{Fx(c,s,n)};for(let c=0;c<t.length;c+=1)p0(t.charCodeAt(c),o,l);return e.join("")}function Vx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $x(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Vx(s,e)}}function Fx(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function or(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)p0(t.charCodeAt(o),n,s);return new Uint8Array(e)}function jx(t){const e=[];return $x(t,n=>e.push(n)),new Uint8Array(e)}function ss(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Vg(o,n,s)),Vg(null,n,s),e.join("")}function Jx(t){return Math.round(Date.now()/1e3)+t}function Yx(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",Qi={tested:!1,writable:!1},m0=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qi.tested)return Qi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qi.tested=!0,Qi.writable=!0}catch{Qi.tested=!0,Qi.writable=!1}return Qi.writable};function Kx(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const g0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Xx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},St=async(t,e)=>{await t.removeItem(e)};class Cl{constructor(){this.promise=new Cl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cl.promiseConstructor=Promise;function fd(t){const e=t.split(".");if(e.length!==3)throw new Id("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Ox.test(e[s]))throw new Id("JWT not in base64url format");return{header:JSON.parse($g(e[0])),payload:JSON.parse($g(e[1])),signature:or(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Qx(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function Zx(t){return("0"+t.toString(16)).substr(-2)}function eT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,Zx).join("")}async function tT(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function nT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await tT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ks(t,e,n=!1){const s=eT();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await tr(t,`${e}-code-verifier`,o);const l=await nT(s);return[l,s===l?"plain":"s256"]}const iT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sT(t){const e=t.headers.get(Rd);if(!e||!e.match(iT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xs(t){if(!aT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lT(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function Fg(t){return JSON.parse(JSON.stringify(t))}const es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uT=[502,503,504];async function jg(t){var e;if(!Xx(t))throw new Nd(es(t),0);if(uT.includes(t.status))throw new Nd(es(t),t.status);let n;try{n=await t.json()}catch(l){throw new is(es(l),l)}let s;const o=sT(t);if(o&&o.getTime()>=h0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Gg(es(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Wt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Gg(es(n),t.status,n.weak_password.reasons);throw new Lx(es(n),t.status||500,s)}const cT=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function me(t,e,n,s){var o;const l=Object.assign({},s==null?void 0:s.headers);l[Rd]||(l[Rd]=h0["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await dT(t,e,n+f,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(p):{data:Object.assign({},p),error:null}}async function dT(t,e,n,s,o,l){const c=cT(e,s,o,l);let f;try{f=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new Nd(es(p),0)}if(f.ok||await jg(f),s!=null&&s.noResolveJson)return f;try{return await f.json()}catch(p){await jg(p)}}function wn(t){var e;let n=null;pT(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Jx(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Jg(t){const e=wn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ni(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fT(t){return{data:t,error:null}}function hT(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,c=xl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function Yg(t){return t}function pT(t){return t.access_token&&t.refresh_token&&t.expires_in}const pd=["global","local","others"];class mT{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=g0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=pd[0]){if(pd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pd.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ni})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=xl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:hT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ni})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,c,f,p;try{const h={nextPage:null,lastPage:0,total:0},y=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Yg});if(y.error)throw y.error;const b=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);h[`${C}Page`]=R}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(ce(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Xs(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ni})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Xs(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ni})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Xs(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ni})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Xs(e.userId);try{const{data:n,error:s}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Xs(e.userId),Xs(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,c,f,p;try{const h={nextPage:null,lastPage:0,total:0},y=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Yg});if(y.error)throw y.error;const b=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);h[`${C}Page`]=R}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(ce(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function Kg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ws={debug:!!(globalThis&&m0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gT extends y0{}async function yT(t,e,n){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ws.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function vT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function v0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function _T(t){return parseInt(t,16)}function bT(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function wT(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:p,resources:h,scheme:y,uri:b,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=v0(t.address),A=y?`${y}://${s}`:s,R=t.statement?`${t.statement}
`:"",C=`${A} wants you to sign in with your Ethereum account:
${E}

${R}`;let M=`URI: ${b}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(M+=`
Expiration Time: ${o.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),p&&(M+=`
Request ID: ${p}`),h){let L=`
Resources:`;for(const I of h){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);L+=`
- ${I}`}M+=L}return`${C}
${M}`}class ct extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class hl extends ct{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ST({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(_0(c)){if(l.rp.id!==c)return new ct({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ET({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(_0(s)){if(n.rpId!==s)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class xT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const TT=new xT;function CT(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=xl(t,["challenge","user","excludeCredentials"]),l=or(e).buffer,c=Object.assign(Object.assign({},n),{id:or(n.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:c});if(s&&s.length>0){f.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const h=s[p];f.excludeCredentials[p]=Object.assign(Object.assign({},h),{id:or(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return f}function AT(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=xl(t,["challenge","allowCredentials"]),o=or(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:or(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function RT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ss(new Uint8Array(t.response.attestationObject)),clientDataJSON:ss(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function NT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ss(new Uint8Array(o.authenticatorData)),clientDataJSON:ss(new Uint8Array(o.clientDataJSON)),signature:ss(new Uint8Array(o.signature)),userHandle:o.userHandle?ss(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Xg(){var t,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function IT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:ST({error:e,options:t})}}}async function MT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:ET({error:e,options:t})}}}const kT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(n(c))s[l]=c;else if(e(c)){const f=s[l];e(f)?s[l]=pl(f,c):s[l]=pl(c)}else s[l]=c}return s}function UT(t,e){return pl(kT,t,e||{})}function OT(t,e){return pl(DT,t,e||{})}class PT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:f};const p=o??TT.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=UT(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:b}=await IT({publicKey:h,signal:p});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const h=OT(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:b}=await MT(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:p}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(c){return ce(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new Eo("rpId is required for WebAuthn authentication")};try{if(!Xg())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(c){return ce(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new Eo("rpId is required for WebAuthn registration")};try{if(!Xg())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:p,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:h}}catch(c){return ce(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in register",c)}}}}vT();const LT={url:kx,storageKey:Dx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ux,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wg(t,e,n){return await n()}const Qs={};class xo{get jwks(){var e,n;return(n=(e=Qs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Qs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},LT),e);if(this.storageKey=l.storageKey,this.instanceID=(n=xo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,xo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Et()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new mT({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=g0(l.fetch),this.lock=l.lock||Wg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Et()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=yT:this.lock=Wg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:m0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${f0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(Et()&&(n=Kx(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),Et()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Hx(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?this._returnResult({error:n}):this._returnResult({error:new is("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:wn}),{data:c,error:f}=l;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:y,password:b,options:w}=e;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await Ks(this.storage,this.storageKey)),l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:b,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:E,code_challenge_method:A},xform:wn})}else if("phone"in e){const{phone:y,password:b,options:w}=e;l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:wn})}else throw new Wa("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return await St(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:f}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jg})}else if("phone"in e){const{phone:l,password:c,options:f}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jg})}else throw new Wa("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Ys;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,c,f,p,h,y,b,w;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:R,wallet:C,statement:M,options:L}=e;let I;if(Et())if(typeof C=="object")I=C;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")I=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const O=new URL((n=L==null?void 0:L.url)!==null&&n!==void 0?n:window.location.href),K=await I.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=v0(K[0]);let U=(s=L==null?void 0:L.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!U){const X=await I.request({method:"eth_chainId"});U=_T(X)}const Z={domain:O.host,address:W,statement:M,uri:O.href,version:"1",chainId:U,nonce:(o=L==null?void 0:L.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=L==null?void 0:L.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=L==null?void 0:L.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=L==null?void 0:L.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(y=L==null?void 0:L.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=wT(Z),A=await I.request({method:"personal_sign",params:[bT(E),W]})}try{const{data:R,error:C}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:A},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:wn});if(C)throw C;if(!R||!R.session||!R.user){const M=new Ys;return this._returnResult({data:{user:null,session:null},error:M})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:C})}catch(R){if(ce(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(e){var n,s,o,l,c,f,p,h,y,b,w,E;let A,R;if("message"in e)A=e.message,R=e.signature;else{const{chain:C,wallet:M,statement:L,options:I}=e;let O;if(Et())if(typeof M=="object")O=M;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))O=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=M}const K=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const W=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),L?{statement:L}:null));let U;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")U=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)U=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)A=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),R=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${K.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(s=I==null?void 0:I.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((b=(y=I==null?void 0:I.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...I.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const W=await O.signMessage(new TextEncoder().encode(A),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=W}}try{const{data:C,error:M}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:ss(R)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:wn});if(M)throw M;if(!C||!C.session||!C.user){const L=new Ys;return this._returnResult({data:{user:null,session:null},error:L})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:M})}catch(C){if(ce(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await Zi(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new Gx;const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:wn});if(await St(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const f=new Ys;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:c}=e,f=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wn}),{data:p,error:h}=f;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!p||!p.session||!p.user){const y=new Ys;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:h})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,c;try{if("email"in e){const{email:f,options:p}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Ks(this.storage,this.storageKey));const{error:b}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(s=p==null?void 0:p.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:f,options:p}=e,{data:h,error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:y})}throw new Wa("You must provide either an email or phone number.")}catch(f){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:f}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:wn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,h=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ks(this.storage,this.storageKey));const h=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:fT});return!((l=h.data)===null||l===void 0)&&l.url&&Et()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(f){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Wt;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:c}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:c,error:f}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new Wa("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<cd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Zi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=hd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=lT(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ni}):await this._useSession(async n=>{var s,o,l;const{data:c,error:f}=n;if(f)throw f;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Ni})})}catch(n){if(ce(n))return qx(n)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Wt;const c=o.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await Ks(this.storage,this.storageKey));const{data:h,error:y}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:Ni});if(y)throw y;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wt;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:c}=fd(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:f}=n;if(f)throw f;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Wt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Et())throw new Qa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Hg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hg("No code detected.");const{data:L,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:f,expires_at:p,token_type:h}=e;if(!l||!f||!c||!h)throw new Qa("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(f);let w=y+b;p&&(w=parseInt(p));const E=w-y;E*1e3<=er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const A=w-b;y-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,y):y-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,y);const{data:R,error:C}=await this._getUser(l);if(C)throw C;const M={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:b,expires_at:w,refresh_token:c,token_type:h,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(s){if(ce(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(Bx(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Yx(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ks(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var c,f,p,h,y;const{data:b,error:w}=l;if(w)throw w;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(ce(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:f,token:p,access_token:h,nonce:y}=e,b=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:f,id_token:p,access_token:h,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:wn}),{data:w,error:E}=b;return E?this._returnResult({data:{user:null,session:null},error:E}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ys}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:E}))}catch(o){if(await St(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)throw c;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Qx(async o=>(o>0&&await Wx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wn})),(o,l)=>{const c=200*Math.pow(2,o);return l&&dd(l)&&Date.now()+c-s<er})}catch(s){if(this._debug(n,"error",s),ce(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Et()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Zi(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await tr(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:hd()}else if(o&&!o.user&&!o.user){const c=await Zi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await St(this.storage,this.storageKey+"-user"),await tr(this.storage,this.storageKey,o)):o.user=hd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${cd}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),dd(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Cl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Wt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),ce(l)){const c={data:null,error:l};return dd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await St(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await tr(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Fg(o);await tr(this.storage,this.storageKey,l)}else{const o=Fg(n);await tr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${er}ms, refresh threshold is ${Ad} ticks`),o<=Ad&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof y0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ks(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:h}=await me(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?RT(e.webauthn.credential_response):NT(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:CT(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:AT(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=fd(s.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Wt});const c=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Wt});const c=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(e){if(ce(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(f=>f.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(f=>f.kid===e),s&&this.jwks_cached_at+Px>o)return s;const{data:l,error:c}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(f=>f.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:E,error:A}=await this.getSession();if(A||!E.session)return this._returnResult({data:null,error:A});s=E.session.access_token}const{header:o,payload:l,signature:c,raw:{header:f,payload:p}}=fd(s);n!=null&&n.allowExpired||rT(l.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:l,header:o,signature:c},error:null}}const y=oT(o.alg),b=await crypto.subtle.importKey("jwk",h,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,c,jx(`${f}.${p}`)))throw new Id("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}}xo.nextInstanceID={};const BT=xo,qT="2.90.1";let po="";typeof Deno<"u"?po="deno":typeof document<"u"?po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?po="react-native":po="node";const HT={"X-Client-Info":`supabase-js-${po}/${qT}`},GT={headers:HT},zT={schema:"public"},VT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$T={};function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function FT(t,e){if(To(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(To(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jT(t){var e=FT(t,"string");return To(e)=="symbol"?e:e+""}function JT(t,e,n){return(e=jT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(n),!0).forEach(function(s){JT(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const YT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),KT=()=>Headers,XT=(t,e,n)=>{const s=YT(n),o=KT();return async(l,c)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:t;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(l,nt(nt({},c),{},{headers:h}))}};function WT(t){return t.endsWith("/")?t:t+"/"}function QT(t,e){var n,s;const{db:o,auth:l,realtime:c,global:f}=t,{db:p,auth:h,realtime:y,global:b}=e,w={db:nt(nt({},p),o),auth:nt(nt({},h),l),realtime:nt(nt({},y),c),storage:{},global:nt(nt(nt({},b),f),{},{headers:nt(nt({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function ZT(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eC=class extends BT{constructor(t){super(t)}},tC=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=ZT(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:zT,realtime:$T,auth:nt(nt({},VT),{},{storageKey:c}),global:GT},p=QT(n??{},f);if(this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=p.auth)!==null&&h!==void 0?h:{},this.headers,p.global.fetch)}this.fetch=XT(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new UE(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Mx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new NE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:c,lock:f,debug:p,throwOnError:h},y,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eC({url:this.authUrl.href,headers:nt(nt({},w),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:c,lock:f,debug:p,throwOnError:h,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new WE(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nC=(t,e,n)=>new tC(t,e,n);function iC(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}iC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sC="https://zdpmfportgxwttmrhhwr.supabase.co",rC="sb_publishable_dEAlsD-rH1msokWdbs9P7g_DrDWXoPN",Ue=nC(sC,rC),Zg="product-images";var oC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aC,lC;function uC(){return{geminiUrl:aC,vertexUrl:lC}}function cC(t,e,n,s){var o,l;if(!(t!=null&&t.baseUrl)){const c=uC();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:n:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ti{}function oe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let h=0;h<p.length;h++){const y=p[h];m(y,e.slice(l+1),n[h])}else for(const h of p)m(h,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],o=t[s];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(f=>d(f,e.slice(s+1),n)):n}else return n}else t=t[o]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function dC(t,e){for(const[n,s]of Object.entries(e)){const o=n.split("."),l=s.split("."),c=new Set;let f=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){f=p;break}if(f!==-1&&l.length>f)for(let p=f;p<l.length;p++){const h=l[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Md(t,o,l,0,c)}}function Md(t,e,n,s,o){if(s>=e.length||typeof t!="object"||t===null)return;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const p of f[c])Md(p,e,n,s+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(h=>!h.startsWith("_")&&!o.has(h)),p={};for(const h of f)p[h]=c[h];for(const[h,y]of Object.entries(p)){const b=[];for(const w of n.slice(s))w==="*"?b.push(h):b.push(w);m(c,b,y)}for(const h of f)delete c[h]}}else{const c=t;l in c&&Md(c[l],e,n,s+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(t){const e={},n=d(t,["operationName"]);n!=null&&m(e,["operationName"],n);const s=d(t,["resourceName"]);return s!=null&&m(e,["_url","resourceName"],s),e}function hC(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],mC(c)),e}function pC(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],gC(c)),e}function mC(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>yC(c))),m(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&m(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function gC(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>vC(c))),m(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&m(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function yC(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],xC(n)),e}function vC(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],TC(n)),e}function _C(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function bC(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function wC(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],SC(c)),e}function SC(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&m(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function b0(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],EC(c)),e}function EC(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&m(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function xC(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&m(e,["videoBytes"],sf(s));const o=d(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function TC(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&m(e,["videoBytes"],sf(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ey;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ey||(ey={}));var ty;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ty||(ty={}));var ny;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ny||(ny={}));var Ii;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ii||(Ii={}));var iy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(iy||(iy={}));var sy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(sy||(sy={}));var ry;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ry||(ry={}));var oy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(oy||(oy={}));var ay;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ay||(ay={}));var ly;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ly||(ly={}));var uy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(uy||(uy={}));var cy;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(cy||(cy={}));var dy;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dy||(dy={}));var fy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(fy||(fy={}));var hy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(hy||(hy={}));var py;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(py||(py={}));var my;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(my||(my={}));var gy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gy||(gy={}));var yy;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yy||(yy={}));var vy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(vy||(vy={}));var _y;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_y||(_y={}));var ml;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ml||(ml={}));var by;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(by||(by={}));var wy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wy||(wy={}));var Sy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sy||(Sy={}));var kd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kd||(kd={}));var Ey;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ey||(Ey={}));var xy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(xy||(xy={}));var Ty;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ty||(Ty={}));var Cy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Cy||(Cy={}));var Ay;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ay||(Ay={}));var Ry;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ry||(Ry={}));var Ny;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ny||(Ny={}));var Iy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Iy||(Iy={}));var My;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(My||(My={}));var ky;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ky||(ky={}));var Dy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Dy||(Dy={}));var Uy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Uy||(Uy={}));var Oy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Oy||(Oy={}));var Py;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Py||(Py={}));var Ly;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ly||(Ly={}));var By;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(By||(By={}));var qy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(qy||(qy={}));var Hy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Hy||(Hy={}));var Gy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Gy||(Gy={}));var zy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zy||(zy={}));var Vy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Vy||(Vy={}));var $y;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($y||($y={}));var Fy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Fy||(Fy={}));var jy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jy||(jy={}));var Jy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Jy||(Jy={}));var Yy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Yy||(Yy={}));var Ky;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ky||(Ky={}));var Xy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Xy||(Xy={}));var sr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(sr||(sr={}));class Dd{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class fo{get text(){var e,n,s,o,l,c,f,p;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const b=[];for(const w of(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[E,A]of Object.entries(w))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(A!==null||A!==void 0)&&b.push(E);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;y=!0,h+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var e,n,s,o,l,c,f,p;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const b of(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[w,E]of Object.entries(b))w!=="inlineData"&&(E!==null||E!==void 0)&&y.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(h+=atob(b.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,s,o,l,c,f,p;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,s,o,l,c,f,p,h;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,s,o,l,c,f,p,h;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class Wy{}class Qy{}class CC{}class AC{}class RC{}class NC{}class Zy{}class ev{}class tv{}class IC{}class gl{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new gl;let o;const l=e;return n?o=pC(l):o=hC(l),Object.assign(s,o),s}}class nv{}class iv{}class sv{}class rv{}class MC{}class kC{}class DC{}class rf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new rf,l=wC(e);return Object.assign(s,l),s}}class UC{}class OC{}class PC{}class ov{}class LC{get text(){var e,n,s;let o="",l=!1;const c=[];for(const f of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[p,h]of Object.entries(f))p!=="text"&&p!=="thought"&&h!==null&&c.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,s;let o="";const l=[];for(const c of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[f,p]of Object.entries(c))f!=="inlineData"&&p!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class BC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class of{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new of,l=b0(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function w0(t,e){const n=ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function S0(t){return Array.isArray(t)?t.map(e=>yl(e)):[yl(t)]}function yl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function E0(t){const e=yl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function x0(t){const e=yl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function av(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function T0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>av(e)):[av(t)]}function Ud(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function lv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function uv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ct(t){if(t==null)throw new Error("ContentUnion is required");return Ud(t)?t:{role:"user",parts:T0(t)}}function af(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Ct(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=Ct(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ct(n)):[Ct(e)]}function pn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(lv(t)||uv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(t)]}const e=[],n=[],s=Ud(t[0]);for(const o of t){const l=Ud(o);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(lv(o)||uv(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return s||e.push({role:"user",parts:T0(n)}),e}function qC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(Ii).includes(n[0].toUpperCase())?n[0].toUpperCase():Ii.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(Ii).includes(s.toUpperCase())?s.toUpperCase():Ii.TYPE_UNSPECIFIED})}}function ar(t){const e={},n=["items"],s=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&qC(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ii).includes(f.toUpperCase())?f.toUpperCase():Ii.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=ar(f);else if(s.includes(c)){const p=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}p.push(ar(h))}e[c]=p}else if(o.includes(c)){const p={};for(const[h,y]of Object.entries(f))p[h]=ar(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=f}return e}function lf(t){return ar(t)}function uf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function cf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function cr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ar(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ar(e.response));return t}function dr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function HC(t,e,n,s=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return HC(t,e,"cachedContents")}function C0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ki(t){return sf(t)}function GC(t){return t!=null&&typeof t=="object"&&"name"in t}function zC(t){return t!=null&&typeof t=="object"&&"video"in t}function VC(t){return t!=null&&typeof t=="object"&&"uri"in t}function A0(t){var e;let n;if(GC(t)&&(n=t.name),!(VC(t)&&(n=t.uri,n===void 0))&&!(zC(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function R0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function N0(t){for(const e of["models","tunedModels","publisherModels"])if($C(t,e))return t[e];return[]}function $C(t,e){return t!==null&&typeof t=="object"&&e in t}function FC(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function jC(t,e={}){const n=[],s=new Set;for(const o of t){const l=o.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=FC(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function I0(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function JC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function M0(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const c of o){if(typeof c!="object"||c===null)continue;const p=c.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function fr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function k0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(t){const e={},n=d(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const s=d(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>RA(c))),m(e,["inlinedResponses"],l)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["inlinedEmbedContentResponses"],l)}return e}function KC(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const s=d(t,["gcsDestination","outputUriPrefix"]);s!=null&&m(e,["gcsUri"],s);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function XC(t){const e={},n=d(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const s=d(t,["gcsUri"]);s!=null&&m(e,["gcsDestination","outputUriPrefix"],s);const o=d(t,["bigqueryUri"]);if(o!=null&&m(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ll(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata","displayName"]);s!=null&&m(e,["displayName"],s);const o=d(t,["metadata","state"]);o!=null&&m(e,["state"],k0(o));const l=d(t,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&m(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=d(t,["metadata","model"]);p!=null&&m(e,["model"],p);const h=d(t,["metadata","output"]);return h!=null&&m(e,["dest"],YC(M0(h))),e}function Od(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["displayName"]);s!=null&&m(e,["displayName"],s);const o=d(t,["state"]);o!=null&&m(e,["state"],k0(o));const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["createTime"]);c!=null&&m(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(e,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(e,["updateTime"],h);const y=d(t,["model"]);y!=null&&m(e,["model"],y);const b=d(t,["inputConfig"]);b!=null&&m(e,["src"],WC(b));const w=d(t,["outputConfig"]);w!=null&&m(e,["dest"],KC(M0(w)));const E=d(t,["completionStats"]);return E!=null&&m(e,["completionStats"],E),e}function WC(t){const e={},n=d(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const s=d(t,["gcsSource","uris"]);s!=null&&m(e,["gcsUri"],s);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function QC(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=d(e,["fileName"]);s!=null&&m(n,["fileName"],s);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>AA(t,c))),m(n,["requests","requests"],l)}return n}function ZC(t){const e={},n=d(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const s=d(t,["gcsUri"]);s!=null&&m(e,["gcsSource","uris"],s);const o=d(t,["bigqueryUri"]);if(o!=null&&m(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eA(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function tA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function nA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function iA(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&m(e,["citationMetadata"],sA(s));const o=d(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=d(t,["safetyRatings"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(E=>E)),m(e,["safetyRatings"],w)}const b=d(t,["urlContextMetadata"]);return b!=null&&m(e,["urlContextMetadata"],b),e}function sA(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),m(e,["citations"],s)}return e}function D0(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>OA(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function rA(t,e){const n={},s=d(t,["displayName"]);if(e!==void 0&&s!=null&&m(e,["batch","displayName"],s),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function oA(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const o=d(t,["dest"]);return e!==void 0&&o!=null&&m(e,["outputConfig"],XC(JC(o))),n}function cv(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["src"]);o!=null&&m(n,["batch","inputConfig"],QC(t,I0(t,o)));const l=d(e,["config"]);return l!=null&&rA(l,n),n}function aA(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],ke(t,s));const o=d(e,["src"]);o!=null&&m(n,["inputConfig"],ZC(I0(t,o)));const l=d(e,["config"]);return l!=null&&oA(l,n),n}function lA(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&m(e,["batch","displayName"],s),n}function uA(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["src"]);o!=null&&m(n,["batch","inputConfig"],gA(t,o));const l=d(e,["config"]);return l!=null&&lA(l,n),n}function cA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function dA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function fA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);return l!=null&&m(e,["error"],l),e}function hA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);return l!=null&&m(e,["error"],l),e}function pA(t,e){const n={},s=d(e,["contents"]);if(s!=null){let l=af(t,s);Array.isArray(l)&&(l=l.map(c=>c)),m(n,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(m(n,["_self"],mA(o,n)),dC(n,{"requests[].*":"requests[].request.*"})),n}function mA(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&m(e,["requests[]","taskType"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gA(t,e){const n={},s=d(e,["fileName"]);s!=null&&m(n,["file_name"],s);const o=d(e,["inlinedRequests"]);return o!=null&&m(n,["requests"],pA(t,o)),n}function yA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function vA(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _A(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&m(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bA(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],D0(Ct(o)));const l=d(e,["temperature"]);l!=null&&m(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const f=d(e,["topK"]);f!=null&&m(s,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(s,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(s,["maxOutputTokens"],h);const y=d(e,["stopSequences"]);y!=null&&m(s,["stopSequences"],y);const b=d(e,["responseLogprobs"]);b!=null&&m(s,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(s,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&m(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&m(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&m(s,["responseSchema"],lf(M));const L=d(e,["responseJsonSchema"]);if(L!=null&&m(s,["responseJsonSchema"],L),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(n!==void 0&&I!=null){let ue=I;Array.isArray(ue)&&(ue=ue.map(Ce=>PA(Ce))),m(n,["safetySettings"],ue)}const O=d(e,["tools"]);if(n!==void 0&&O!=null){let ue=dr(O);Array.isArray(ue)&&(ue=ue.map(Ce=>BA(cr(Ce)))),m(n,["tools"],ue)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&m(n,["toolConfig"],LA(K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=d(e,["cachedContent"]);n!==void 0&&W!=null&&m(n,["cachedContent"],ni(t,W));const U=d(e,["responseModalities"]);U!=null&&m(s,["responseModalities"],U);const Z=d(e,["mediaResolution"]);Z!=null&&m(s,["mediaResolution"],Z);const X=d(e,["speechConfig"]);if(X!=null&&m(s,["speechConfig"],uf(X)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=d(e,["thinkingConfig"]);ne!=null&&m(s,["thinkingConfig"],ne);const be=d(e,["imageConfig"]);be!=null&&m(s,["imageConfig"],CA(be));const Le=d(e,["enableEnhancedCivicAnswers"]);return Le!=null&&m(s,["enableEnhancedCivicAnswers"],Le),s}function wA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>iA(h))),m(e,["candidates"],p)}const o=d(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function SA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function EA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],fr(t,s)),n}function xA(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function TA(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function CA(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&m(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function AA(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["request","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let f=pn(o);Array.isArray(f)&&(f=f.map(p=>D0(p))),m(n,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&m(n,["metadata"],l);const c=d(e,["config"]);return c!=null&&m(n,["request","generationConfig"],bA(t,c,d(n,["request"],{}))),n}function RA(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],wA(n));const s=d(t,["error"]);return s!=null&&m(e,["error"],s),e}function NA(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function IA(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const l=d(t,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),n}function MA(t){const e={},n=d(t,["config"]);return n!=null&&NA(n,e),e}function kA(t){const e={},n=d(t,["config"]);return n!=null&&IA(n,e),e}function DA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ll(c))),m(e,["batchJobs"],l)}return e}function UA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Od(c))),m(e,["batchJobs"],l)}return e}function OA(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],yA(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],vA(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],eA(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function PA(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&m(e,["threshold"],s),e}function LA(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&m(e,["functionCallingConfig"],_A(s)),e}function BA(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(b=>b)),m(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],xA(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],TA(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Zn||(Zn={}));class as{constructor(e,n,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,o)}init(e,n,s){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qA extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=cv(this.apiClient,e),s=n._url,o=oe("{model}:batchGenerateContent",s),f=n.batch.inputConfig.requests,p=f.requests,h=[];for(const y of p){const b=Object.assign({},y);if(b.systemInstruction){const w=b.systemInstruction;delete b.systemInstruction;const E=b.request;E.systemInstruction=w,b.request=E}h.push(b)}return f.requests=h,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},o=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${o}`),s.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${o}`;else if(c)s.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=aA(this.apiClient,e);return f=oe("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Od(y))}else{const h=cv(this.apiClient,e);return f=oe("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ll(y))}}async createEmbeddingsInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=uA(this.apiClient,e);return l=oe("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>ll(p))}}async get(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=EA(this.apiClient,e);return f=oe("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Od(y))}else{const h=SA(this.apiClient,e);return f=oe("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ll(y))}}async cancel(e){var n,s,o,l;let c="",f={};if(this.apiClient.isVertexAI()){const p=nA(this.apiClient,e);c=oe("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const p=tA(this.apiClient,e);c=oe("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=kA(e);return f=oe("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=UA(y),w=new ov;return Object.assign(w,b),w})}else{const h=MA(e);return f=oe("batches",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=DA(y),w=new ov;return Object.assign(w,b),w})}}async delete(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=dA(this.apiClient,e);return f=oe("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>hA(y))}else{const h=cA(this.apiClient,e);return f=oe("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>fA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HA(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function dv(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>uR(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function GA(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&m(e,["ttl"],s);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let y=pn(c);Array.isArray(y)&&(y=y.map(b=>dv(b))),m(e,["contents"],y)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],dv(Ct(f)));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(b=>dR(b))),m(e,["tools"],y)}const h=d(t,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],cR(h)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function zA(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&m(e,["ttl"],s);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let b=pn(c);Array.isArray(b)&&(b=b.map(w=>w)),m(e,["contents"],b)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Ct(f));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>fR(w))),m(e,["tools"],b)}const h=d(t,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const y=d(t,["kmsKeyName"]);return e!==void 0&&y!=null&&m(e,["encryption_spec","kmsKeyName"],y),n}function VA(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],w0(t,s));const o=d(e,["config"]);return o!=null&&GA(o,n),n}function $A(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["model"],w0(t,s));const o=d(e,["config"]);return o!=null&&zA(o,n),n}function FA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],ni(t,s)),n}function jA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],ni(t,s)),n}function JA(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function YA(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function KA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function XA(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WA(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&m(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function QA(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&m(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function ZA(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],ni(t,s)),n}function eR(t,e){const n={},s=d(e,["name"]);return s!=null&&m(n,["_url","name"],ni(t,s)),n}function tR(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function nR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function iR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function sR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function rR(t){const e={},n=d(t,["config"]);return n!=null&&iR(n,e),e}function oR(t){const e={},n=d(t,["config"]);return n!=null&&sR(n,e),e}function aR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["cachedContents"],l)}return e}function lR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["cachedContents"],l)}return e}function uR(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],KA(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],XA(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],HA(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function cR(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&m(e,["functionCallingConfig"],WA(s)),e}function dR(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(b=>b)),m(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],tR(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],nR(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function fR(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&m(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>QA(w))),m(e,["functionDeclarations"],b)}const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const h=d(t,["googleSearchRetrieval"]);h!=null&&m(e,["googleSearchRetrieval"],h);const y=d(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function hR(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&m(e,["ttl"],s);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function pR(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&m(e,["ttl"],s);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function mR(t,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ni(t,s));const o=d(e,["config"]);return o!=null&&hR(o,n),n}function gR(t,e){const n={},s=d(e,["name"]);s!=null&&m(n,["_url","name"],ni(t,s));const o=d(e,["config"]);return o!=null&&pR(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yR extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=$A(this.apiClient,e);return f=oe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=VA(this.apiClient,e);return f=oe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=eR(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=ZA(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=jA(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=YA(y),w=new sv;return Object.assign(w,b),w})}else{const h=FA(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=JA(y),w=new sv;return Object.assign(w,b),w})}}async update(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=gR(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=mR(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=oR(e);return f=oe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=lR(y),w=new rv;return Object.assign(w,b),w})}else{const h=rR(e);return f=oe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=aR(y),w=new rv;return Object.assign(w,b),w})}}}function vl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function fv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t){return this instanceof ve?(this.v=t,this):new ve(t)}function xn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(E){return function(A){return Promise.resolve(A).then(E,b)}}function f(E,A){s[E]&&(o[E]=function(R){return new Promise(function(C,M){l.push([E,R,C,M])>1||p(E,R)})},A&&(o[E]=A(o[E])))}function p(E,A){try{h(s[E](A))}catch(R){w(l[0][3],R)}}function h(E){E.value instanceof ve?Promise.resolve(E.value.v).then(y,b):w(l[0][2],E)}function y(E){p("next",E)}function b(E){p("throw",E)}function w(E,A){E(A),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Tn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fv=="function"?fv(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=t[l]&&function(c){return new Promise(function(f,p){c=t[l](c),o(f,p,c.done,c.value)})}}function o(l,c,f,p){Promise.resolve(p).then(function(h){l({value:h,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vR(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:U0(n)}function U0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function _R(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function hv(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const o=[];let l=!0;for(;s<n&&t[s].role==="model";)o.push(t[s]),l&&!U0(t[s])&&(l=!1),s++;l?e.push(...o):e.pop()}return e}class bR{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new wR(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class wR{constructor(e,n,s,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),_R(l)}async sendMessage(e){var n;await this.sendPromise;const s=Ct(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,f;const p=await o,h=(c=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];y!=null&&(w=(f=y.slice(b))!==null&&f!==void 0?f:[]);const E=h?[h]:[];this.recordHistory(s,E,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const s=Ct(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,s)}getHistory(e=!1){const n=e?hv(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return xn(this,arguments,function*(){var o,l,c,f,p,h;const y=[];try{for(var b=!0,w=Tn(e),E;E=yield ve(w.next()),o=E.done,!o;b=!0){f=E.value,b=!1;const A=f;if(vR(A)){const R=(h=(p=A.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;R!==void 0&&y.push(R)}yield yield ve(A)}}catch(A){l={error:A}}finally{try{!b&&!o&&(c=w.return)&&(yield ve(c.call(w)))}finally{if(l)throw l.error}}this.recordHistory(n,y)})}recordHistory(e,n,s){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...hv(s)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Al extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Al.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SR(t){const e={},n=d(t,["file"]);return n!=null&&m(e,["file"],n),e}function ER(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function xR(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],A0(n)),e}function TR(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function CR(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],A0(n)),e}function AR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function RR(t){const e={},n=d(t,["config"]);return n!=null&&AR(n,e),e}function NR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IR extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=RR(e);return l=oe("files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=NR(p),y=new UC;return Object.assign(y,h),y})}}async createInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=SR(e);return l=oe("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=ER(p),y=new OC;return Object.assign(y,h),y})}}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=CR(e);return l=oe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xR(e);return l=oe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=TR(p),y=new PC;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ul(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function MR(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>JR(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function kR(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function DR(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UR(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&m(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function OR(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&m(e,["responseJsonSchema"],s);const o=d(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&m(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const y=d(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const b=d(t,["presencePenalty"]);b!=null&&m(e,["presencePenalty"],b);const w=d(t,["responseLogprobs"]);w!=null&&m(e,["responseLogprobs"],w);const E=d(t,["responseMimeType"]);E!=null&&m(e,["responseMimeType"],E);const A=d(t,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const R=d(t,["responseSchema"]);R!=null&&m(e,["responseSchema"],R);const C=d(t,["routingConfig"]);C!=null&&m(e,["routingConfig"],C);const M=d(t,["seed"]);M!=null&&m(e,["seed"],M);const L=d(t,["speechConfig"]);L!=null&&m(e,["speechConfig"],L);const I=d(t,["stopSequences"]);I!=null&&m(e,["stopSequences"],I);const O=d(t,["temperature"]);O!=null&&m(e,["temperature"],O);const K=d(t,["thinkingConfig"]);K!=null&&m(e,["thinkingConfig"],K);const W=d(t,["topK"]);W!=null&&m(e,["topK"],W);const U=d(t,["topP"]);if(U!=null&&m(e,["topP"],U),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function PR(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function LR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function BR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig"],s);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const y=d(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],cf(b));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],MR(Ct(A)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let W=dr(R);Array.isArray(W)&&(W=W.map(U=>KR(cr(U)))),m(e,["setup","tools"],W)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],YR(C));const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","inputAudioTranscription"],M);const L=d(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const O=d(t,["contextWindowCompression"]);e!==void 0&&O!=null&&m(e,["setup","contextWindowCompression"],O);const K=d(t,["proactivity"]);if(e!==void 0&&K!=null&&m(e,["setup","proactivity"],K),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function qR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig"],OR(s));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const y=d(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],cf(b));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],Ct(A));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let U=dr(R);Array.isArray(U)&&(U=U.map(Z=>XR(cr(Z)))),m(e,["setup","tools"],U)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],C);const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","inputAudioTranscription"],M);const L=d(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const O=d(t,["contextWindowCompression"]);e!==void 0&&O!=null&&m(e,["setup","contextWindowCompression"],O);const K=d(t,["proactivity"]);e!==void 0&&K!=null&&m(e,["setup","proactivity"],K);const W=d(t,["explicitVadSignal"]);return e!==void 0&&W!=null&&m(e,["setup","explicitVadSignal"],W),n}function HR(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],ke(t,s));const o=d(e,["config"]);return o!=null&&m(n,["config"],BR(o,n)),n}function GR(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],ke(t,s));const o=d(e,["config"]);return o!=null&&m(n,["config"],qR(o,n)),n}function zR(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function VR(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),m(e,["weightedPrompts"],s)}return e}function $R(t){const e={},n=d(t,["media"]);if(n!=null){let h=S0(n);Array.isArray(h)&&(h=h.map(y=>ul(y))),m(e,["mediaChunks"],h)}const s=d(t,["audio"]);s!=null&&m(e,["audio"],ul(x0(s)));const o=d(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&m(e,["video"],ul(E0(l)));const c=d(t,["text"]);c!=null&&m(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function FR(t){const e={},n=d(t,["media"]);if(n!=null){let h=S0(n);Array.isArray(h)&&(h=h.map(y=>y)),m(e,["mediaChunks"],h)}const s=d(t,["audio"]);s!=null&&m(e,["audio"],x0(s));const o=d(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&m(e,["video"],E0(l));const c=d(t,["text"]);c!=null&&m(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function jR(t){const e={},n=d(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const s=d(t,["serverContent"]);s!=null&&m(e,["serverContent"],s);const o=d(t,["toolCall"]);o!=null&&m(e,["toolCall"],o);const l=d(t,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&m(e,["usageMetadata"],WR(c));const f=d(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=d(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const h=d(t,["voiceActivityDetectionSignal"]);return h!=null&&m(e,["voiceActivityDetectionSignal"],h),e}function JR(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],kR(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],DR(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],ul(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function YR(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function KR(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(b=>b)),m(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],PR(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],LR(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function XR(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&m(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>UR(w))),m(e,["functionDeclarations"],b)}const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const h=d(t,["googleSearchRetrieval"]);h!=null&&m(e,["googleSearchRetrieval"],h);const y=d(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function WR(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const s=d(t,["cachedContentTokenCount"]);s!=null&&m(e,["cachedContentTokenCount"],s);const o=d(t,["candidatesTokenCount"]);o!=null&&m(e,["responseTokenCount"],o);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&m(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=d(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["promptTokensDetails"],E)}const h=d(t,["cacheTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["cacheTokensDetails"],E)}const y=d(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["responseTokensDetails"],E)}const b=d(t,["toolUsePromptTokensDetails"]);if(b!=null){let E=b;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["toolUsePromptTokensDetails"],E)}const w=d(t,["trafficType"]);return w!=null&&m(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QR(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function ZR(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&m(e,["citationMetadata"],eN(s));const o=d(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=d(t,["safetyRatings"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(E=>E)),m(e,["safetyRatings"],w)}const b=d(t,["urlContextMetadata"]);return b!=null&&m(e,["urlContextMetadata"],b),e}function eN(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),m(e,["citations"],s)}return e}function tN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let l=pn(o);Array.isArray(l)&&(l=l.map(c=>c)),m(n,["contents"],l)}return n}function nN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["tokensInfo"],o)}return e}function iN(t){const e={},n=d(t,["values"]);n!=null&&m(e,["values"],n);const s=d(t,["statistics"]);return s!=null&&m(e,["statistics"],sN(s)),e}function sN(t){const e={},n=d(t,["truncated"]);n!=null&&m(e,["truncated"],n);const s=d(t,["token_count"]);return s!=null&&m(e,["tokenCount"],s),e}function Rl(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>h1(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function rN(t){const e={},n=d(t,["controlType"]);n!=null&&m(e,["controlType"],n);const s=d(t,["enableControlImageComputation"]);return s!=null&&m(e,["computeControl"],s),e}function oN(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function aN(t,e){const n={},s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Ct(s));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>B0(f))),m(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],QN(l)),n}function lN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>Rl(f))),m(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&oN(l),n}function uN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>f)),m(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&aN(l,n),n}function cN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);s!=null&&m(e,["totalTokens"],s);const o=d(t,["cachedContentTokenCount"]);return o!=null&&m(e,["cachedContentTokenCount"],o),e}function dN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);return s!=null&&m(e,["totalTokens"],s),e}function fN(t,e){const n={},s=d(e,["model"]);return s!=null&&m(n,["_url","name"],ke(t,s)),n}function hN(t,e){const n={},s=d(e,["model"]);return s!=null&&m(n,["_url","name"],ke(t,s)),n}function pN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function mN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function gN(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&m(e,["parameters","includeRaiReason"],w);const E=d(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&m(e,["parameters","outputOptions","compressionQuality"],R);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const M=d(t,["labels"]);e!==void 0&&M!=null&&m(e,["labels"],M);const L=d(t,["editMode"]);e!==void 0&&L!=null&&m(e,["parameters","editMode"],L);const I=d(t,["baseSteps"]);return e!==void 0&&I!=null&&m(e,["parameters","editConfig","baseSteps"],I),n}function yN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>_1(p))),m(n,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&gN(c,n),n}function vN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Nl(l))),m(e,["generatedImages"],o)}return e}function _N(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&m(e,["requests[]","taskType"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bN(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&m(e,["instances[]","task_type"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&m(e,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&m(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function wN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let f=af(t,o);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&_N(l,n);const c=d(e,["model"]);return c!==void 0&&m(n,["requests[]","model"],ke(t,c)),n}function SN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=af(t,o);Array.isArray(c)&&(c=c.map(f=>f)),m(n,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&bN(l,n),n}function EN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function xN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>iN(c))),m(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function TN(t){const e={},n=d(t,["endpoint"]);n!=null&&m(e,["name"],n);const s=d(t,["deployedModelId"]);return s!=null&&m(e,["deployedModelId"],s),e}function CN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function AN(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RN(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&m(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function NN(t){const e={},n=d(t,["description"]);n!=null&&m(e,["description"],n);const s=d(t,["name"]);s!=null&&m(e,["name"],s);const o=d(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&m(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&m(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function IN(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Rl(Ct(o)));const l=d(e,["temperature"]);l!=null&&m(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const f=d(e,["topK"]);f!=null&&m(s,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(s,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(s,["maxOutputTokens"],h);const y=d(e,["stopSequences"]);y!=null&&m(s,["stopSequences"],y);const b=d(e,["responseLogprobs"]);b!=null&&m(s,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(s,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&m(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&m(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&m(s,["responseSchema"],lf(M));const L=d(e,["responseJsonSchema"]);if(L!=null&&m(s,["responseJsonSchema"],L),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(n!==void 0&&I!=null){let ue=I;Array.isArray(ue)&&(ue=ue.map(Ce=>b1(Ce))),m(n,["safetySettings"],ue)}const O=d(e,["tools"]);if(n!==void 0&&O!=null){let ue=dr(O);Array.isArray(ue)&&(ue=ue.map(Ce=>A1(cr(Ce)))),m(n,["tools"],ue)}const K=d(e,["toolConfig"]);if(n!==void 0&&K!=null&&m(n,["toolConfig"],C1(K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=d(e,["cachedContent"]);n!==void 0&&W!=null&&m(n,["cachedContent"],ni(t,W));const U=d(e,["responseModalities"]);U!=null&&m(s,["responseModalities"],U);const Z=d(e,["mediaResolution"]);Z!=null&&m(s,["mediaResolution"],Z);const X=d(e,["speechConfig"]);if(X!=null&&m(s,["speechConfig"],uf(X)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=d(e,["thinkingConfig"]);ne!=null&&m(s,["thinkingConfig"],ne);const be=d(e,["imageConfig"]);be!=null&&m(s,["imageConfig"],i1(be));const Le=d(e,["enableEnhancedCivicAnswers"]);return Le!=null&&m(s,["enableEnhancedCivicAnswers"],Le),s}function MN(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Ct(o));const l=d(e,["temperature"]);l!=null&&m(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(s,["topP"],c);const f=d(e,["topK"]);f!=null&&m(s,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(s,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(s,["maxOutputTokens"],h);const y=d(e,["stopSequences"]);y!=null&&m(s,["stopSequences"],y);const b=d(e,["responseLogprobs"]);b!=null&&m(s,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&m(s,["logprobs"],w);const E=d(e,["presencePenalty"]);E!=null&&m(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&m(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&m(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&m(s,["responseSchema"],lf(M));const L=d(e,["responseJsonSchema"]);L!=null&&m(s,["responseJsonSchema"],L);const I=d(e,["routingConfig"]);I!=null&&m(s,["routingConfig"],I);const O=d(e,["modelSelectionConfig"]);O!=null&&m(s,["modelConfig"],O);const K=d(e,["safetySettings"]);if(n!==void 0&&K!=null){let $=K;Array.isArray($)&&($=$.map(te=>te)),m(n,["safetySettings"],$)}const W=d(e,["tools"]);if(n!==void 0&&W!=null){let $=dr(W);Array.isArray($)&&($=$.map(te=>B0(cr(te)))),m(n,["tools"],$)}const U=d(e,["toolConfig"]);n!==void 0&&U!=null&&m(n,["toolConfig"],U);const Z=d(e,["labels"]);n!==void 0&&Z!=null&&m(n,["labels"],Z);const X=d(e,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],ni(t,X));const ne=d(e,["responseModalities"]);ne!=null&&m(s,["responseModalities"],ne);const be=d(e,["mediaResolution"]);be!=null&&m(s,["mediaResolution"],be);const Le=d(e,["speechConfig"]);Le!=null&&m(s,["speechConfig"],uf(Le));const ue=d(e,["audioTimestamp"]);ue!=null&&m(s,["audioTimestamp"],ue);const Ce=d(e,["thinkingConfig"]);Ce!=null&&m(s,["thinkingConfig"],Ce);const Ye=d(e,["imageConfig"]);if(Ye!=null&&m(s,["imageConfig"],s1(Ye)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function pv(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>Rl(f))),m(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&m(n,["generationConfig"],IN(t,l,n)),n}function mv(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>f)),m(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&m(n,["generationConfig"],MN(t,l,n)),n}function gv(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>ZR(h))),m(e,["candidates"],p)}const o=d(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function yv(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(y=>y)),m(e,["candidates"],h)}const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const l=d(t,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&m(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=d(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function kN(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const y=d(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const w=d(t,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(t,["imageSize"]);if(e!==void 0&&E!=null&&m(e,["parameters","sampleImageSize"],E),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function DN(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&m(e,["parameters","includeRaiReason"],w);const E=d(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&m(e,["parameters","outputOptions","compressionQuality"],R);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const M=d(t,["labels"]);e!==void 0&&M!=null&&m(e,["labels"],M);const L=d(t,["imageSize"]);e!==void 0&&L!=null&&m(e,["parameters","sampleImageSize"],L);const I=d(t,["enhancePrompt"]);return e!==void 0&&I!=null&&m(e,["parameters","enhancePrompt"],I),n}function UN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&kN(l,n),n}function ON(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&DN(l,n),n}function PN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>YN(c))),m(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],P0(o)),e}function LN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Nl(c))),m(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],L0(o)),e}function BN(t,e){const n={},s=d(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const h=d(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=d(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],Il(y));const b=d(t,["referenceImages"]);if(e!==void 0&&b!=null){let w=b;Array.isArray(w)&&(w=w.map(E=>H1(E))),m(e,["instances[0]","referenceImages"],w)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function qN(t,e){const n={},s=d(t,["numberOfVideos"]);e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const l=d(t,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&m(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const h=d(t,["resolution"]);e!==void 0&&h!=null&&m(e,["parameters","resolution"],h);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const b=d(t,["pubsubTopic"]);e!==void 0&&b!=null&&m(e,["parameters","pubsubTopic"],b);const w=d(t,["negativePrompt"]);e!==void 0&&w!=null&&m(e,["parameters","negativePrompt"],w);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","enhancePrompt"],E);const A=d(t,["generateAudio"]);e!==void 0&&A!=null&&m(e,["parameters","generateAudio"],A);const R=d(t,["lastFrame"]);e!==void 0&&R!=null&&m(e,["instances[0]","lastFrame"],Cn(R));const C=d(t,["referenceImages"]);if(e!==void 0&&C!=null){let I=C;Array.isArray(I)&&(I=I.map(O=>G1(O))),m(e,["instances[0]","referenceImages"],I)}const M=d(t,["mask"]);e!==void 0&&M!=null&&m(e,["instances[0]","mask"],q1(M));const L=d(t,["compressionQuality"]);return e!==void 0&&L!=null&&m(e,["parameters","compressionQuality"],L),n}function HN(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],$N(c)),e}function GN(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],FN(c)),e}function zN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&m(n,["instances[0]","image"],Il(l));const c=d(e,["video"]);c!=null&&m(n,["instances[0]","video"],q0(c));const f=d(e,["source"]);f!=null&&jN(f,n);const p=d(e,["config"]);return p!=null&&BN(p,n),n}function VN(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&m(n,["instances[0]","image"],Cn(l));const c=d(e,["video"]);c!=null&&m(n,["instances[0]","video"],H0(c));const f=d(e,["source"]);f!=null&&JN(f,n);const p=d(e,["config"]);return p!=null&&qN(p,n),n}function $N(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>XN(c))),m(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&m(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function FN(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>WN(c))),m(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&m(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function jN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&m(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Il(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],q0(l)),n}function JN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&m(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Cn(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],H0(l)),n}function YN(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],r1(n));const s=d(t,["raiFilteredReason"]);s!=null&&m(e,["raiFilteredReason"],s);const o=d(t,["_self"]);return o!=null&&m(e,["safetyAttributes"],P0(o)),e}function Nl(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],O0(n));const s=d(t,["raiFilteredReason"]);s!=null&&m(e,["raiFilteredReason"],s);const o=d(t,["_self"]);o!=null&&m(e,["safetyAttributes"],L0(o));const l=d(t,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function KN(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["mask"],O0(n));const s=d(t,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["labels"],o)}return e}function XN(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],L1(n)),e}function WN(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],B1(n)),e}function QN(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&m(e,["responseJsonSchema"],s);const o=d(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&m(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const y=d(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const b=d(t,["presencePenalty"]);b!=null&&m(e,["presencePenalty"],b);const w=d(t,["responseLogprobs"]);w!=null&&m(e,["responseLogprobs"],w);const E=d(t,["responseMimeType"]);E!=null&&m(e,["responseMimeType"],E);const A=d(t,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const R=d(t,["responseSchema"]);R!=null&&m(e,["responseSchema"],R);const C=d(t,["routingConfig"]);C!=null&&m(e,["routingConfig"],C);const M=d(t,["seed"]);M!=null&&m(e,["seed"],M);const L=d(t,["speechConfig"]);L!=null&&m(e,["speechConfig"],L);const I=d(t,["stopSequences"]);I!=null&&m(e,["stopSequences"],I);const O=d(t,["temperature"]);O!=null&&m(e,["temperature"],O);const K=d(t,["thinkingConfig"]);K!=null&&m(e,["thinkingConfig"],K);const W=d(t,["topK"]);W!=null&&m(e,["topK"],W);const U=d(t,["topP"]);if(U!=null&&m(e,["topP"],U),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ZN(t,e){const n={},s=d(e,["model"]);return s!=null&&m(n,["_url","name"],ke(t,s)),n}function e1(t,e){const n={},s=d(e,["model"]);return s!=null&&m(n,["_url","name"],ke(t,s)),n}function t1(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function n1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function i1(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&m(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function s1(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const s=d(t,["imageSize"]);s!=null&&m(e,["imageSize"],s);const o=d(t,["personGeneration"]);o!=null&&m(e,["personGeneration"],o);const l=d(t,["outputMimeType"]);l!=null&&m(e,["imageOutputOptions","mimeType"],l);const c=d(t,["outputCompressionQuality"]);return c!=null&&m(e,["imageOutputOptions","compressionQuality"],c),e}function r1(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],ki(n));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function O0(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&m(e,["imageBytes"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Il(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],ki(n));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function Cn(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const s=d(t,["imageBytes"]);s!=null&&m(e,["bytesBase64Encoded"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function o1(t,e,n){const s={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&m(n,["_query","filter"],c);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],R0(t,f)),s}function a1(t,e,n){const s={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&m(n,["_query","filter"],c);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],R0(t,f)),s}function l1(t,e){const n={},s=d(e,["config"]);return s!=null&&o1(t,s,n),n}function u1(t,e){const n={},s=d(e,["config"]);return s!=null&&a1(t,s,n),n}function c1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let l=N0(o);Array.isArray(l)&&(l=l.map(c=>Pd(c))),m(e,["models"],l)}return e}function d1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let l=N0(o);Array.isArray(l)&&(l=l.map(c=>Ld(c))),m(e,["models"],l)}return e}function f1(t){const e={},n=d(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const s=d(t,["segmentationClasses"]);s!=null&&m(e,["maskClasses"],s);const o=d(t,["maskDilation"]);return o!=null&&m(e,["dilation"],o),e}function Pd(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["displayName"]);s!=null&&m(e,["displayName"],s);const o=d(t,["description"]);o!=null&&m(e,["description"],o);const l=d(t,["version"]);l!=null&&m(e,["version"],l);const c=d(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],R1(c));const f=d(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=d(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const h=d(t,["supportedGenerationMethods"]);h!=null&&m(e,["supportedActions"],h);const y=d(t,["temperature"]);y!=null&&m(e,["temperature"],y);const b=d(t,["maxTemperature"]);b!=null&&m(e,["maxTemperature"],b);const w=d(t,["topP"]);w!=null&&m(e,["topP"],w);const E=d(t,["topK"]);E!=null&&m(e,["topK"],E);const A=d(t,["thinking"]);return A!=null&&m(e,["thinking"],A),e}function Ld(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["displayName"]);s!=null&&m(e,["displayName"],s);const o=d(t,["description"]);o!=null&&m(e,["description"],o);const l=d(t,["versionId"]);l!=null&&m(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>TN(w))),m(e,["endpoints"],b)}const f=d(t,["labels"]);f!=null&&m(e,["labels"],f);const p=d(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],N1(p));const h=d(t,["defaultCheckpointId"]);h!=null&&m(e,["defaultCheckpointId"],h);const y=d(t,["checkpoints"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>w)),m(e,["checkpoints"],b)}return e}function h1(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],CN(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],AN(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],QR(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function p1(t){const e={},n=d(t,["productImage"]);return n!=null&&m(e,["image"],Cn(n)),e}function m1(t,e){const n={},s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&m(e,["parameters","baseSteps"],o);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const h=d(t,["addWatermark"]);e!==void 0&&h!=null&&m(e,["parameters","addWatermark"],h);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["enhancePrompt"]);e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w);const E=d(t,["labels"]);return e!==void 0&&E!=null&&m(e,["labels"],E),n}function g1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["source"]);o!=null&&v1(o,n);const l=d(e,["config"]);return l!=null&&m1(l,n),n}function y1(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Nl(o))),m(e,["generatedImages"],s)}return e}function v1(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&m(e,["instances[0]","prompt"],s);const o=d(t,["personImage"]);e!==void 0&&o!=null&&m(e,["instances[0]","personImage","image"],Cn(o));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>p1(f))),m(e,["instances[0]","productImages"],c)}return n}function _1(t){const e={},n=d(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Cn(n));const s=d(t,["referenceId"]);s!=null&&m(e,["referenceId"],s);const o=d(t,["referenceType"]);o!=null&&m(e,["referenceType"],o);const l=d(t,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],f1(l));const c=d(t,["controlImageConfig"]);c!=null&&m(e,["controlImageConfig"],rN(c));const f=d(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=d(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function P0(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&m(e,["scores"],s);const o=d(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function L0(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&m(e,["scores"],s);const o=d(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function b1(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&m(e,["threshold"],s),e}function w1(t){const e={},n=d(t,["image"]);return n!=null&&m(e,["image"],Cn(n)),e}function S1(t,e){const n={},s=d(t,["mode"]);e!==void 0&&s!=null&&m(e,["parameters","mode"],s);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&m(e,["parameters","maxPredictions"],o);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&m(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=d(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function E1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["source"]);o!=null&&T1(o,n);const l=d(e,["config"]);return l!=null&&S1(l,n),n}function x1(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>KN(o))),m(e,["generatedMasks"],s)}return e}function T1(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&m(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Cn(o));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],w1(l)),n}function C1(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&m(e,["functionCallingConfig"],RN(s)),e}function A1(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(b=>b)),m(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],t1(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],n1(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function B0(t){const e={},n=d(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&m(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(w=>NN(w))),m(e,["functionDeclarations"],b)}const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],p);const h=d(t,["googleSearchRetrieval"]);h!=null&&m(e,["googleSearchRetrieval"],h);const y=d(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function R1(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const o=d(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function N1(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const o=d(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function I1(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const o=d(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function M1(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const o=d(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function k1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","name"],ke(t,s));const o=d(e,["config"]);return o!=null&&I1(o,n),n}function D1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["config"]);return o!=null&&M1(o,n),n}function U1(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&m(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const h=d(t,["enhanceInputImage"]);e!==void 0&&h!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],h);const y=d(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const b=d(t,["labels"]);e!==void 0&&b!=null&&m(e,["labels"],b);const w=d(t,["numberOfImages"]);e!==void 0&&w!=null&&m(e,["parameters","sampleCount"],w);const E=d(t,["mode"]);return e!==void 0&&E!=null&&m(e,["parameters","mode"],E),n}function O1(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["_url","model"],ke(t,s));const o=d(e,["image"]);o!=null&&m(n,["instances[0]","image"],Cn(o));const l=d(e,["upscaleFactor"]);l!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&U1(c,n),n}function P1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Nl(l))),m(e,["generatedImages"],o)}return e}function L1(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&m(e,["videoBytes"],ki(s));const o=d(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function B1(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&m(e,["videoBytes"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function q1(t){const e={},n=d(t,["image"]);n!=null&&m(e,["_self"],Cn(n));const s=d(t,["maskMode"]);return s!=null&&m(e,["maskMode"],s),e}function H1(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Il(n));const s=d(t,["referenceType"]);return s!=null&&m(e,["referenceType"],s),e}function G1(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Cn(n));const s=d(t,["referenceType"]);return s!=null&&m(e,["referenceType"],s),e}function q0(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const s=d(t,["videoBytes"]);s!=null&&m(e,["encodedVideo"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["encoding"],o),e}function H0(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const s=d(t,["videoBytes"]);s!=null&&m(e,["bytesBase64Encoded"],ki(s));const o=d(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z1(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&m(e,["displayName"],s),n}function V1(t){const e={},n=d(t,["config"]);return n!=null&&z1(n,e),e}function $1(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&m(e,["_query","force"],s),n}function F1(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&$1(s,e),e}function j1(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function J1(t,e){const n={},s=d(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["customMetadata"],l)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),n}function Y1(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const s=d(t,["metadata"]);s!=null&&m(e,["metadata"],s);const o=d(t,["done"]);o!=null&&m(e,["done"],o);const l=d(t,["error"]);l!=null&&m(e,["error"],l);const c=d(t,["response"]);return c!=null&&m(e,["response"],X1(c)),e}function K1(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const s=d(t,["fileName"]);s!=null&&m(e,["fileName"],s);const o=d(t,["config"]);return o!=null&&J1(o,e),e}function X1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&m(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function W1(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function Q1(t){const e={},n=d(t,["config"]);return n!=null&&W1(n,e),e}function Z1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["fileSearchStores"],l)}return e}function G0(t,e){const n={},s=d(t,["mimeType"]);e!==void 0&&s!=null&&m(e,["mimeType"],s);const o=d(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&m(e,["chunkingConfig"],c),n}function eI(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const s=d(t,["config"]);return s!=null&&G0(s,e),e}function tI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nI="Content-Type",iI="X-Server-Timeout",sI="User-Agent",Bd="x-goog-api-client",rI="1.35.0",oI=`google-genai-sdk/${rI}`,aI="v1beta1",lI="v1beta";class uI{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:aI,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:lI,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const o=[this.getRequestUrlInternal(n)];return s&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))o.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?s[o]=Object.assign(Object.assign({},s[o]),l):l!==void 0&&(s[o]=l);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,o){if(n&&n.timeout||o){const l=new AbortController,c=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=c}return n&&n.extraBody!==null&&cI(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await vv(o),new Dd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await vv(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return xn(this,arguments,function*(){var s;const o=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield ve(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=l.decode(y,{stream:!0});try{const A=JSON.parse(b);if("error"in A){const R=JSON.parse(JSON.stringify(A.error)),C=R.status,M=R.code,L=`got status: ${C}. ${JSON.stringify(A)}`;if(M>=400&&M<600)throw new Al({message:L,status:M})}}catch(A){if(A.name==="ApiError")throw A}c+=b;let w=-1,E=0;for(;;){w=-1,E=0;for(const C of p){const M=c.indexOf(C);M!==-1&&(w===-1||M<w)&&(w=M,E=C.length)}if(w===-1)break;const A=c.substring(0,w);c=c.substring(w+E);const R=A.trim();if(R.startsWith(f)){const C=R.substring(f.length).trim();try{const M=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ve(new Dd(M))}catch(M){throw new Error(`exception parsing stream chunk ${C}. ${M}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=oI+" "+this.clientOptions.userAgentExtra;return e[sI]=n,e[Bd]=n,e[nI]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))s.append(o,l);e.timeout&&e.timeout>0&&s.append(iI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);o.sizeBytes=String(c.size);const f=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const p={file:o},h=this.getFileName(e),y=oe("upload/v1beta/files",p._url),b=await this.fetchUploadUrl(y,o.sizeBytes,o.mimeType,h,p,n==null?void 0:n.httpOptions);return l.upload(e,b,this)}async uploadFileToFileSearchStore(e,n,s){var o;const l=this.clientOptions.uploader,c=await l.stat(n),f=String(c.size),p=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(n),b={};s!=null&&G0(s,b);const w=await this.fetchUploadUrl(h,f,p,y,b,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(n,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,o,l,c){var f;let p={};c?p=c:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},o?{"X-Goog-Upload-File-Name":o}:{})};const h=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(f=h==null?void 0:h.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function vv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(s);throw n>=400&&n<600?new Al({message:o,status:n}):new Error(o)}}function cI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const f=Object.assign({},l);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const h=c[p],y=f[p];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?f[p]=s(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),f[p]=h)}return f}const o=s(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dI="mcp_used/unknown";let fI=!1;function z0(t){for(const e of t)if(hI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return fI}function V0(t){var e;const n=(e=t[Bd])!==null&&e!==void 0?e:"";t[Bd]=(n+` ${dI}`).trimStart()}function hI(t){return t!==null&&typeof t=="object"&&t instanceof df}function pI(t){return xn(this,arguments,function*(n,s=100){let o,l=0;for(;l<s;){const c=yield ve(n.listTools({cursor:o}));for(const f of c.tools)yield yield ve(f),l++;if(!c.nextCursor)break;o=c.nextCursor}})}class df{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new df(e,n)}async initialize(){var e,n,s,o;if(this.mcpTools.length>0)return;const l={},c=[];for(const y of this.mcpClients)try{for(var f=!0,p=(n=void 0,Tn(pI(y))),h;h=await p.next(),e=h.done,!e;f=!0){o=h.value,f=!1;const b=o;c.push(b);const w=b.name;if(l[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);l[w]=y}}catch(b){n={error:b}}finally{try{!f&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),jC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await o.callTool({name:s.name,arguments:s.args},void 0,l);n.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function mI(t,e,n){const s=new BC;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(s,o),e(s)}class gI{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=_I(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const y=new Promise(I=>{h=I}),b=e.callbacks,w=function(){h({})},E=this.apiClient,A={onopen:w,onmessage:I=>{mI(E,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(s=b==null?void 0:b.onclose)!==null&&s!==void 0?s:function(I){}},R=this.webSocketFactory.create(p,vI(c),A);R.connect(),await y;const L={setup:{model:ke(this.apiClient,e.model)}};return R.send(JSON.stringify(L)),new yI(R,this.apiClient)}}class yI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=VR(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=zR(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(sr.PLAY)}pause(){this.sendPlaybackControl(sr.PAUSE)}stop(){this.sendPlaybackControl(sr.STOP)}resetContext(){this.sendPlaybackControl(sr.RESET_CONTEXT)}close(){this.conn.close()}}function vI(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function _I(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wI(t,e,n){const s=new LC;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const c=jR(l);Object.assign(s,c)}else Object.assign(s,l);e(s)}class SI{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new gI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,o,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&z0(e.config.tools)&&V0(b);const w=CI(b);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,y);else{const X=this.apiClient.getApiKey();let ne="BidiGenerateContent",be="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",be="access_token"),y=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ne}?${be}=${X}`}let E=()=>{};const A=new Promise(X=>{E=X}),R=e.callbacks,C=function(){var X;(X=R==null?void 0:R.onopen)===null||X===void 0||X.call(R),E({})},M=this.apiClient,L={onopen:C,onmessage:X=>{wI(M,R.onmessage,X)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(X){},onclose:(s=R==null?void 0:R.onclose)!==null&&s!==void 0?s:function(X){}},I=this.webSocketFactory.create(y,TI(w),L);I.connect(),await A;let O=ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const X=this.apiClient.getProject(),ne=this.apiClient.getLocation();O=`projects/${X}/locations/${ne}/`+O}let K={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ml.AUDIO]}:e.config.responseModalities=[ml.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],U=[];for(const X of W)if(this.isCallableTool(X)){const ne=X;U.push(await ne.tool())}else U.push(X);U.length>0&&(e.config.tools=U);const Z={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?K=GR(this.apiClient,Z):K=HR(this.apiClient,Z),delete K.config,I.send(JSON.stringify(K)),new xI(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const EI={turnComplete:!0};class xI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=pn(n.turns),e.isVertexAI()||(s=s.map(o=>Rl(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(bI)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},EI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:FR(e)}:n={realtimeInput:$R(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function TI(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function CI(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _v=10;function bv(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(lr(c)){o=!0;break}if(!o)return!0;const l=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function lr(t){return"callTool"in t&&typeof t.callTool=="function"}function AI(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>lr(o)))!==null&&s!==void 0?s:!1}function wv(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,o)=>{if(lr(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function Sv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RI extends ti{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,o,l,c,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!AI(n)||bv(n.config))return await this.generateContentInternal(p);const h=wv(n);if(h.length>0){const R=h.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let y,b;const w=pn(p.contents),E=(l=(o=(s=p.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:_v;let A=0;for(;A<E&&(y=await this.generateContentInternal(p),!(!y.functionCalls||y.functionCalls.length===0));){const R=y.candidates[0].content,C=[];for(const M of(f=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(lr(M)){const I=await M.callTool(y.functionCalls);C.push(...I)}A++,b={role:"user",parts:C},p.contents=pn(p.contents),p.contents.push(R),p.contents.push(b),Sv(p.config)&&(w.push(R),w.push(b))}return Sv(p.config)&&(y.automaticFunctionCallingHistory=w),y},this.generateContentStream=async n=>{var s,o,l,c,f;if(this.maybeMoveToResponseJsonSchem(n),bv(n.config)){const b=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(b)}const p=wv(n);if(p.length>0){const b=p.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(l=(o=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(f=(c=n==null?void 0:n.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var o;let l;const c=[];if(s!=null&&s.generatedImages)for(const p of s.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:c.push(p);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},f}),this.list=async n=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new as(Zn.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var s,o,l,c,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async p=>lr(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&z0(e.config.tools)){const p=(o=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),V0(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var n,s,o;const l=new Map;for(const c of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(lr(c)){const f=c,p=await f.tool();for(const h of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,f)}}return l}async processAfcStream(e){var n,s,o;const l=(o=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:_v;let c=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(h,y,b){return xn(this,arguments,function*(){for(var w,E,A,R,C,M;f<l;){c&&(f++,c=!1);const K=yield ve(h.processParamsMaybeAddMcpUsage(b)),W=yield ve(h.generateContentStreamInternal(K)),U=[],Z=[];try{for(var L=!0,I=(E=void 0,Tn(W)),O;O=yield ve(I.next()),w=O.done,!w;L=!0){R=O.value,L=!1;const X=R;if(yield yield ve(X),X.candidates&&(!((C=X.candidates[0])===null||C===void 0)&&C.content)){Z.push(X.candidates[0].content);for(const ne of(M=X.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(f<l&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ne.functionCall.name)){const be=yield ve(y.get(ne.functionCall.name).callTool([ne.functionCall]));U.push(...be)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(X){E={error:X}}finally{try{!L&&!w&&(A=I.return)&&(yield ve(A.call(I)))}finally{if(E)throw E.error}}if(U.length>0){c=!0;const X=new fo;X.candidates=[{content:{role:"user",parts:U}}],yield yield ve(X);const ne=[];ne.push(...Z),ne.push({role:"user",parts:U});const be=pn(b.contents).concat(ne);b.contents=be}else break}})})(this,p,e)}async generateContentInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=mv(this.apiClient,e);return f=oe("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=yv(y),w=new fo;return Object.assign(w,b),w})}else{const h=pv(this.apiClient,e);return f=oe("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=gv(y),w=new fo;return Object.assign(w,b),w})}}async generateContentStreamInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=mv(this.apiClient,e);return f=oe("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(b){return xn(this,arguments,function*(){var w,E,A,R;try{for(var C=!0,M=Tn(b),L;L=yield ve(M.next()),w=L.done,!w;C=!0){R=L.value,C=!1;const I=R,O=yv(yield ve(I.json()));O.sdkHttpResponse={headers:I.headers};const K=new fo;Object.assign(K,O),yield yield ve(K)}}catch(I){E={error:I}}finally{try{!C&&!w&&(A=M.return)&&(yield ve(A.call(M)))}finally{if(E)throw E.error}}})})}else{const h=pv(this.apiClient,e);return f=oe("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(b){return xn(this,arguments,function*(){var w,E,A,R;try{for(var C=!0,M=Tn(b),L;L=yield ve(M.next()),w=L.done,!w;C=!0){R=L.value,C=!1;const I=R,O=gv(yield ve(I.json()));O.sdkHttpResponse={headers:I.headers};const K=new fo;Object.assign(K,O),yield yield ve(K)}}catch(I){E={error:I}}finally{try{!C&&!w&&(A=M.return)&&(yield ve(A.call(M)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=SN(this.apiClient,e);return f=oe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=xN(y),w=new Wy;return Object.assign(w,b),w})}else{const h=wN(this.apiClient,e);return f=oe("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=EN(y),w=new Wy;return Object.assign(w,b),w})}}async generateImagesInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=ON(this.apiClient,e);return f=oe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=LN(y),w=new Qy;return Object.assign(w,b),w})}else{const h=UN(this.apiClient,e);return f=oe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=PN(y),w=new Qy;return Object.assign(w,b),w})}}async editImageInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=yN(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=vN(p),y=new CC;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=O1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=P1(p),y=new AC;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=g1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=y1(p),y=new RC;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=E1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=x1(p),y=new NC;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=e1(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Ld(y))}else{const h=ZN(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Pd(y))}}async listInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=u1(this.apiClient,e);return f=oe("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=d1(y),w=new Zy;return Object.assign(w,b),w})}else{const h=l1(this.apiClient,e);return f=oe("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=c1(y),w=new Zy;return Object.assign(w,b),w})}}async update(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=D1(this.apiClient,e);return f=oe("{model}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Ld(y))}else{const h=k1(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Pd(y))}}async delete(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=hN(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=mN(y),w=new ev;return Object.assign(w,b),w})}else{const h=fN(this.apiClient,e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=pN(y),w=new ev;return Object.assign(w,b),w})}}async countTokens(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=uN(this.apiClient,e);return f=oe("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=dN(y),w=new tv;return Object.assign(w,b),w})}else{const h=lN(this.apiClient,e);return f=oe("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=cN(y),w=new tv;return Object.assign(w,b),w})}}async computeTokens(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=tN(this.apiClient,e);return l=oe("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=nN(p),y=new IC;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=VN(this.apiClient,e);return f=oe("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const b=GN(y),w=new gl;return Object.assign(w,b),w})}else{const h=zN(this.apiClient,e);return f=oe("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const b=HN(y),w=new gl;return Object.assign(w,b),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NI extends ti{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=bC(e);return f=oe("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c}else{const h=_C(e);return f=oe("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=fC(e);return l=oe("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function II(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function MI(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>HI(l))),m(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&m(e,["role"],s),e}function kI(t,e,n){const s={},o=d(e,["expireTime"]);n!==void 0&&o!=null&&m(n,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&m(n,["newSessionExpireTime"],l);const c=d(e,["uses"]);n!==void 0&&c!=null&&m(n,["uses"],c);const f=d(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],qI(t,f));const p=d(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),s}function DI(t,e){const n={},s=d(e,["config"]);return s!=null&&m(n,["config"],kI(t,s,n)),n}function UI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function OI(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const s=d(t,["args"]);s!=null&&m(e,["args"],s);const o=d(t,["name"]);if(o!=null&&m(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function LI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function BI(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig"],s);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const y=d(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],cf(b));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","thinkingConfig"],w);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],MI(Ct(A)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let W=dr(R);Array.isArray(W)&&(W=W.map(U=>zI(cr(U)))),m(e,["setup","tools"],W)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],GI(C));const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","inputAudioTranscription"],M);const L=d(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const O=d(t,["contextWindowCompression"]);e!==void 0&&O!=null&&m(e,["setup","contextWindowCompression"],O);const K=d(t,["proactivity"]);if(e!==void 0&&K!=null&&m(e,["setup","proactivity"],K),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function qI(t,e){const n={},s=d(e,["model"]);s!=null&&m(n,["setup","model"],ke(t,s));const o=d(e,["config"]);return o!=null&&m(n,["config"],BI(o,n)),n}function HI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&m(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&m(e,["fileData"],UI(l));const c=d(t,["functionCall"]);c!=null&&m(e,["functionCall"],OI(c));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],II(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const y=d(t,["thought"]);y!=null&&m(e,["thought"],y);const b=d(t,["thoughtSignature"]);b!=null&&m(e,["thoughtSignature"],b);const w=d(t,["videoMetadata"]);return w!=null&&m(e,["videoMetadata"],w),e}function GI(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zI(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&m(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(b=>b)),m(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],PI(c));const f=d(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],LI(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&m(e,["googleSearchRetrieval"],p);const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function $I(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=VI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(h=>c.includes(h)?`generationConfig.${h}`:h));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class FI extends ti{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=DI(this.apiClient,e);l=oe("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const p=$I(f,e.config);return o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jI(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&m(e,["_query","force"],s),n}function JI(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&jI(s,e),e}function YI(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function KI(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function XI(t){const e={},n=d(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const s=d(t,["config"]);return s!=null&&KI(s,e),e}function WI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&m(e,["nextPageToken"],s);const o=d(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QI extends ti{constructor(e){super(),this.apiClient=e,this.list=async n=>new as(Zn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=YI(e);return l=oe("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JI(e);o=oe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XI(e);return l=oe("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=WI(p),y=new MC;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZI extends ti{constructor(e,n=new QI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new as(Zn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=V1(e);return l=oe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=j1(e);return l=oe("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=F1(e);o=oe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q1(e);return l=oe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=Z1(p),y=new kC;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=eI(e);return l=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=tI(p),y=new DC;return Object.assign(y,h),y})}}async importFile(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=K1(e);return l=oe("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const h=Y1(p),y=new rf;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $0=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return $0=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const eM=()=>$0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Hd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mn extends Error{}class It extends mn{constructor(e,n,s,o){super(`${It.makeMessage(e,n,s)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,s,o){if(!e||!o)return new Ml({message:s,cause:Hd(n)});const l=n;return e===400?new j0(e,l,s,o):e===401?new J0(e,l,s,o):e===403?new Y0(e,l,s,o):e===404?new K0(e,l,s,o):e===409?new X0(e,l,s,o):e===422?new W0(e,l,s,o):e===429?new Q0(e,l,s,o):e>=500?new Z0(e,l,s,o):new It(e,l,s,o)}}class Gd extends It{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ml extends It{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class F0 extends Ml{constructor({message:e}={}){super({message:e??"Request timed out."})}}class j0 extends It{}class J0 extends It{}class Y0 extends It{}class K0 extends It{}class X0 extends It{}class W0 extends It{}class Q0 extends It{}class Z0 extends It{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tM=/^[a-z][a-z0-9+.-]*:/i,nM=t=>tM.test(t);let zd=t=>(zd=Array.isArray,zd(t));const iM=zd;let sM=iM;const Ev=sM;function rM(t){if(!t)return!0;for(const e in t)return!1;return!0}function oM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const aM=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new mn(`${t} must be an integer`);if(e<0)throw new mn(`${t} must be a positive integer`);return e},lM=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uM=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cM(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const dM=()=>{var t,e,n,s,o;const l=cM();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":Tv(Deno.build.os),"X-Stainless-Arch":xv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":Tv((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":xv((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const c=fM();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fM(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,l=s[2]||0,c=s[3]||0;return{browser:e,version:`${o}.${l}.${c}`}}}return null}const xv=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Tv=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Za;const hM=()=>Za??(Za=dM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function e_(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function mM(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return e_({start(){},async pull(n){const{done:s,value:o}=await e.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function t_(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function gM(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const s=t.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yM=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n_=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function md(t,e,n){return n_(),new File(t,e??"unknown_file",n)}function vM(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const _M=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i_=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",bM=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&i_(t),wM=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function SM(t,e,n){if(n_(),t=await t,bM(t))return t instanceof File?t:md([await t.arrayBuffer()],t.name);if(wM(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),md(await Vd(o),e,n)}const s=await Vd(t);if(e||(e=vM(t)),!(n!=null&&n.type)){const o=s.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return md(s,e,n)}async function Vd(t){var e,n,s,o,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(i_(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(_M(t))try{for(var f=!0,p=Tn(t),h;h=await p.next(),e=h.done,!e;f=!0){o=h.value,f=!1;const y=o;c.push(...await Vd(y))}}catch(y){n={error:y}}finally{try{!f&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const y=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${EM(t)}`)}return c}function EM(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s_{constructor(e){this._client=e}}s_._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r_(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Cv=Object.freeze(Object.create(null)),xM=(t=r_)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const l=[],c=n.reduce((y,b,w)=>{var E,A,R;/[?#]/.test(b)&&(o=!0);const C=s[w];let M=(o?encodeURIComponent:t)(""+C);return w!==s.length&&(C==null||typeof C=="object"&&C.toString===((R=Object.getPrototypeOf((A=Object.getPrototypeOf((E=C.hasOwnProperty)!==null&&E!==void 0?E:Cv))!==null&&A!==void 0?A:Cv))===null||R===void 0?void 0:R.toString))&&(M=C+"",l.push({start:y.length+b.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),y+b+(w===s.length?"":M)},""),f=c.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)l.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(l.sort((y,b)=>y.start-b.start),l.length>0){let y=0;const b=l.reduce((w,E)=>{const A=" ".repeat(E.start-y),R="^".repeat(E.length);return y=E.start+E.length,w+A+R},"");throw new mn(`Path parameters result in path with invalid segments:
${l.map(w=>w.error).join(`
`)}
${c}
${b}`)}return c}),el=xM(r_);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o_ extends s_{create(e,n){var s;const{api_version:o=this._client.apiVersion}=e,l=vl(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new mn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new mn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(el`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(el`/${o}/interactions/${e}`,s)}cancel(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(el`/${o}/interactions/${e}/cancel`,s)}get(e,n={},s){var o;const l=n??{},{api_version:c=this._client.apiVersion}=l,f=vl(l,["api_version"]);return this._client.get(el`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}o_._key=Object.freeze(["interactions"]);class a_ extends o_{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TM(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let s=0;for(const o of t)n.set(o,s),s+=o.length;return n}let tl;function ff(t){let e;return(tl??(e=new globalThis.TextEncoder,tl=e.encode.bind(e)))(t)}let nl;function Av(t){let e;return(nl??(e=new globalThis.TextDecoder,nl=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ff(e):e;this.buffer=TM([this.buffer,n]);const s=[];let o;for(;(o=CM(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(Av(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,c=Av(this.buffer.subarray(0,l));s.push(c),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}kl.NEWLINE_CHARS=new Set([`
`,"\r"]);kl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function CM(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function AM(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _l={off:0,error:200,warn:300,info:400,debug:500},Rv=(t,e,n)=>{if(t){if(oM(_l,t))return t;Nt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(_l))}`)}};function mo(){}function il(t,e,n){return!e||_l[t]>_l[n]?mo:e[t].bind(e)}const RM={error:mo,warn:mo,info:mo,debug:mo};let Nv=new WeakMap;function Nt(t){var e;const n=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return RM;const o=Nv.get(n);if(o&&o[0]===s)return o[1];const l={error:il("error",n,s),warn:il("warn",n,s),info:il("info",n,s),debug:il("debug",n,s)};return Nv.set(n,[s,l]),l}const ts=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rr{constructor(e,n,s){this.iterator=e,this.controller=n,this.client=s}static fromSSEResponse(e,n,s){let o=!1;const l=s?Nt(s):console;function c(){return xn(this,arguments,function*(){var p,h,y,b;if(o)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let w=!1;try{try{for(var E=!0,A=Tn(NM(e,n)),R;R=yield ve(A.next()),p=R.done,!p;E=!0){b=R.value,E=!1;const C=b;if(!w)if(C.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield ve(JSON.parse(C.data))}catch(M){throw l.error("Could not parse message into JSON:",C.data),l.error("From chunk:",C.raw),M}}}catch(C){h={error:C}}finally{try{!E&&!p&&(y=A.return)&&(yield ve(y.call(A)))}finally{if(h)throw h.error}}w=!0}catch(C){if(qd(C))return yield ve(void 0);throw C}finally{w||n.abort()}})}return new rr(c,n,s)}static fromReadableStream(e,n,s){let o=!1;function l(){return xn(this,arguments,function*(){var p,h,y,b;const w=new kl,E=t_(e);try{for(var A=!0,R=Tn(E),C;C=yield ve(R.next()),p=C.done,!p;A=!0){b=C.value,A=!1;const M=b;for(const L of w.decode(M))yield yield ve(L)}}catch(M){h={error:M}}finally{try{!A&&!p&&(y=R.return)&&(yield ve(y.call(R)))}finally{if(h)throw h.error}}for(const M of w.flush())yield yield ve(M)})}function c(){return xn(this,arguments,function*(){var p,h,y,b;if(o)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let w=!1;try{try{for(var E=!0,A=Tn(l()),R;R=yield ve(A.next()),p=R.done,!p;E=!0){b=R.value,E=!1;const C=b;w||C&&(yield yield ve(JSON.parse(C)))}}catch(C){h={error:C}}finally{try{!E&&!p&&(y=A.return)&&(yield ve(y.call(A)))}finally{if(h)throw h.error}}w=!0}catch(C){if(qd(C))return yield ve(void 0);throw C}finally{w||n.abort()}})}return new rr(c,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),o=l=>({next:()=>{if(l.length===0){const c=s.next();e.push(c),n.push(c)}return l.shift()}});return[new rr(()=>o(e),this.controller,this.client),new rr(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return e_({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:l}=await n.next();if(l)return s.close();const c=ff(JSON.stringify(o)+`
`);s.enqueue(c)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function NM(t,e){return xn(this,arguments,function*(){var s,o,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mn("Attempted to iterate over a response with no body");const f=new MM,p=new kl,h=t_(t.body);try{for(var y=!0,b=Tn(IM(h)),w;w=yield ve(b.next()),s=w.done,!s;y=!0){c=w.value,y=!1;const E=c;for(const A of p.decode(E)){const R=f.decode(A);R&&(yield yield ve(R))}}}catch(E){o={error:E}}finally{try{!y&&!s&&(l=b.return)&&(yield ve(l.call(b)))}finally{if(o)throw o.error}}for(const E of p.flush()){const A=f.decode(E);A&&(yield yield ve(A))}})}function IM(t){return xn(this,arguments,function*(){var n,s,o,l;let c=new Uint8Array;try{for(var f=!0,p=Tn(t),h;h=yield ve(p.next()),n=h.done,!n;f=!0){l=h.value,f=!1;const y=l;if(y==null)continue;const b=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?ff(y):y;let w=new Uint8Array(c.length+b.length);w.set(c),w.set(b,c.length),c=w;let E;for(;(E=AM(c))!==-1;)yield yield ve(c.slice(0,E)),c=c.slice(E)}}catch(y){s={error:y}}finally{try{!f&&!n&&(o=p.return)&&(yield ve(o.call(p)))}finally{if(s)throw s.error}}c.length>0&&(yield yield ve(c))})}class MM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,o]=kM(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function kM(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function DM(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:l}=e,c=await(async()=>{var f;if(e.options.stream)return Nt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):rr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),h=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return Nt(t).debug(`[${s}] response parsed`,ts({retryOfRequestLogID:o,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hf extends Promise{constructor(e,n,s=DM){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new hf(this.client,this.responsePromise,async(n,s)=>e(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l_=Symbol("brand.privateNullableHeaders");function*UM(t){if(!t)return;if(l_ in t){const{values:s,nulls:o}=t;yield*s.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Ev(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=Ev(s[1])?s[1]:[s[1]];let c=!1;for(const f of l)f!==void 0&&(e&&!c&&(c=!0,yield[o,null]),yield[o,f])}}const ho=t=>{const e=new Headers,n=new Set;for(const s of t){const o=new Set;for(const[l,c]of UM(s)){const f=l.toLowerCase();o.has(f)||(e.delete(l),o.add(f)),c===null?(e.delete(l),n.add(f)):(e.append(l,c),n.delete(f))}}return{[l_]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gd=t=>{var e,n,s,o,l,c;if(typeof globalThis.process<"u")return(s=(n=(e=oC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var u_;class Dl{constructor(e){var n,s,o,l,c,f,p,{baseURL:h=gd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=gd("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:b="v1beta"}=e,w=vl(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:y,apiVersion:b},w),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:Dl.DEFAULT_TIMEOUT,this.logger=(o=E.logger)!==null&&o!==void 0?o:console;const A="warn";this.logLevel=A,this.logLevel=(c=(l=Rv(E.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Rv(gd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:A,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=E.fetch)!==null&&p!==void 0?p:pM(),this.encoder=yM,this._options=E,this.apiKey=y,this.apiVersion=b,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=ho([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ho([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ho([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new mn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${nr}`}defaultIdempotencyKey(){return`stainless-node-retry-${eM()}`}makeStatusError(e,n,s,o){return It.generate(e,n,s,o)}buildURL(e,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,l=nM(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return rM(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new hf(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){var o,l,c;const f=await e,p=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:h,url:y,timeout:b}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(h,{url:y,options:f});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,A=Date.now();if(Nt(this).debug(`[${w}] sending request`,ts({retryOfRequestLogID:s,method:f.method,url:y,options:f,headers:h.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new Gd;const R=new AbortController,C=await this.fetchWithTimeout(y,h,b,R).catch(Hd),M=Date.now();if(C instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new Gd;const O=qd(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Nt(this).info(`[${w}] connection ${O?"timed out":"failed"} - ${I}`),Nt(this).debug(`[${w}] connection ${O?"timed out":"failed"} (${I})`,ts({retryOfRequestLogID:s,url:y,durationMs:M-A,message:C.message})),this.retryRequest(f,n,s??w);throw Nt(this).info(`[${w}] connection ${O?"timed out":"failed"} - error; no more retries left`),Nt(this).debug(`[${w}] connection ${O?"timed out":"failed"} (error; no more retries left)`,ts({retryOfRequestLogID:s,url:y,durationMs:M-A,message:C.message})),O?new F0:new Ml({cause:C})}const L=`[${w}${E}] ${h.method} ${y} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${M-A}ms`;if(!C.ok){const I=await this.shouldRetry(C);if(n&&I){const X=`retrying, ${n} attempts remaining`;return await gM(C.body),Nt(this).info(`${L} - ${X}`),Nt(this).debug(`[${w}] response error (${X})`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,durationMs:M-A})),this.retryRequest(f,n,s??w,C.headers)}const O=I?"error; no more retries left":"error; not retryable";Nt(this).info(`${L} - ${O}`);const K=await C.text().catch(X=>Hd(X).message),W=lM(K),U=W?void 0:K;throw Nt(this).debug(`[${w}] response error (${O})`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,message:U,durationMs:Date.now()-A})),this.makeStatusError(C.status,W,U,C.headers)}return Nt(this).info(L),Nt(this).debug(`[${w}] response start`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,durationMs:M-A})),{response:C,options:f,controller:R,requestLogID:w,retryOfRequestLogID:s,startTime:A}}async fetchWithTimeout(e,n,s,o){const l=n||{},{signal:c,method:f}=l,p=vl(l,["signal","method"]);c&&c.addEventListener("abort",()=>o.abort());const h=setTimeout(()=>o.abort(),s),y=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},y?{duplex:"half"}:{}),{method:"GET"}),p);f&&(b.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,o){var l;let c;const f=o==null?void 0:o.get("retry-after-ms");if(f){const h=parseFloat(f);Number.isNaN(h)||(c=h)}const p=o==null?void 0:o.get("retry-after");if(p&&!c){const h=parseFloat(p);Number.isNaN(h)?c=Date.parse(p)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,h)}return await uM(c),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,c=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var s,o,l;const c=Object.assign({},e),{method:f,path:p,query:h,defaultBaseURL:y}=c,b=this.buildURL(p,h,y);"timeout"in c&&aM("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:w,body:E}=this.buildBody({options:c}),A=await this.buildHeaders({options:e,method:f,bodyHeaders:w,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:A},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:b,timeout:c.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let f=ho([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),hM()),this._options.defaultHeaders,s,e.headers,c]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=ho([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:mM(e)}:this.encoder({body:e,headers:s})}}Dl.DEFAULT_TIMEOUT=6e4;class gt extends Dl{constructor(){super(...arguments),this.interactions=new a_(this)}}u_=gt;gt.GeminiNextGenAPIClient=u_;gt.GeminiNextGenAPIClientError=mn;gt.APIError=It;gt.APIConnectionError=Ml;gt.APIConnectionTimeoutError=F0;gt.APIUserAbortError=Gd;gt.NotFoundError=K0;gt.ConflictError=X0;gt.RateLimitError=Q0;gt.BadRequestError=j0;gt.AuthenticationError=J0;gt.InternalServerError=Z0;gt.PermissionDeniedError=Y0;gt.UnprocessableEntityError=W0;gt.toFile=SM;gt.Interactions=a_;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OM(t,e){const n={},s=d(t,["name"]);return s!=null&&m(n,["_url","name"],s),n}function PM(t,e){const n={},s=d(t,["name"]);return s!=null&&m(n,["_url","name"],s),n}function LM(t,e){const n={},s=d(t,["sdkHttpResponse"]);return s!=null&&m(n,["sdkHttpResponse"],s),n}function BM(t,e){const n={},s=d(t,["sdkHttpResponse"]);return s!=null&&m(n,["sdkHttpResponse"],s),n}function qM(t,e,n){const s={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&m(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function HM(t,e,n){const s={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec"],Iv(E))}else if(o==="PREFERENCE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec"],Iv(E))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&m(e,["description"],c);let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(f==="PREFERENCE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let p=d(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(p==="PREFERENCE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let h=d(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(h==="PREFERENCE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let y=d(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(y==="PREFERENCE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(t,["labels"]);e!==void 0&&b!=null&&m(e,["labels"],b);const w=d(t,["beta"]);return e!==void 0&&w!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),s}function GM(t,e){const n={},s=d(t,["baseModel"]);s!=null&&m(n,["baseModel"],s);const o=d(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&QM(l);const c=d(t,["config"]);return c!=null&&qM(c,n),n}function zM(t,e){const n={},s=d(t,["baseModel"]);s!=null&&m(n,["baseModel"],s);const o=d(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&ZM(l,n,e);const c=d(t,["config"]);return c!=null&&HM(c,n,e),n}function VM(t,e){const n={},s=d(t,["name"]);return s!=null&&m(n,["_url","name"],s),n}function $M(t,e){const n={},s=d(t,["name"]);return s!=null&&m(n,["_url","name"],s),n}function FM(t,e,n){const s={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),s}function jM(t,e,n){const s={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),s}function JM(t,e){const n={},s=d(t,["config"]);return s!=null&&FM(s,n),n}function YM(t,e){const n={},s=d(t,["config"]);return s!=null&&jM(s,n),n}function KM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>c_(f))),m(n,["tuningJobs"],c)}return n}function XM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>$d(f))),m(n,["tuningJobs"],c)}return n}function WM(t,e){const n={},s=d(t,["name"]);s!=null&&m(n,["model"],s);const o=d(t,["name"]);return o!=null&&m(n,["endpoint"],o),n}function QM(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=d(t,["examples"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),m(n,["examples","examples"],o)}return n}function ZM(t,e,n){const s={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function c_(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&m(n,["name"],o);const l=d(t,["state"]);l!=null&&m(n,["state"],C0(l));const c=d(t,["createTime"]);c!=null&&m(n,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(t,["description"]);y!=null&&m(n,["description"],y);const b=d(t,["baseModel"]);b!=null&&m(n,["baseModel"],b);const w=d(t,["_self"]);return w!=null&&m(n,["tunedModel"],WM(w)),n}function $d(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&m(n,["name"],o);const l=d(t,["state"]);l!=null&&m(n,["state"],C0(l));const c=d(t,["createTime"]);c!=null&&m(n,["createTime"],c);const f=d(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const y=d(t,["error"]);y!=null&&m(n,["error"],y);const b=d(t,["description"]);b!=null&&m(n,["description"],b);const w=d(t,["baseModel"]);w!=null&&m(n,["baseModel"],w);const E=d(t,["tunedModel"]);E!=null&&m(n,["tunedModel"],E);const A=d(t,["preTunedModel"]);A!=null&&m(n,["preTunedModel"],A);const R=d(t,["supervisedTuningSpec"]);R!=null&&m(n,["supervisedTuningSpec"],R);const C=d(t,["preferenceOptimizationSpec"]);C!=null&&m(n,["preferenceOptimizationSpec"],C);const M=d(t,["tuningDataStats"]);M!=null&&m(n,["tuningDataStats"],M);const L=d(t,["encryptionSpec"]);L!=null&&m(n,["encryptionSpec"],L);const I=d(t,["partnerModelTuningSpec"]);I!=null&&m(n,["partnerModelTuningSpec"],I);const O=d(t,["customBaseModel"]);O!=null&&m(n,["customBaseModel"],O);const K=d(t,["experiment"]);K!=null&&m(n,["experiment"],K);const W=d(t,["labels"]);W!=null&&m(n,["labels"],W);const U=d(t,["outputUri"]);U!=null&&m(n,["outputUri"],U);const Z=d(t,["pipelineJob"]);Z!=null&&m(n,["pipelineJob"],Z);const X=d(t,["serviceAccount"]);X!=null&&m(n,["serviceAccount"],X);const ne=d(t,["tunedModelDisplayName"]);ne!=null&&m(n,["tunedModelDisplayName"],ne);const be=d(t,["veoTuningSpec"]);return be!=null&&m(n,["veoTuningSpec"],be),n}function ek(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&m(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&m(n,["name"],o);const l=d(t,["metadata"]);l!=null&&m(n,["metadata"],l);const c=d(t,["done"]);c!=null&&m(n,["done"],c);const f=d(t,["error"]);return f!=null&&m(n,["error"],f),n}function Iv(t,e){const n={},s=d(t,["gcsUri"]);s!=null&&m(n,["validationDatasetUri"],s);const o=d(t,["vertexDatasetResource"]);return o!=null&&m(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tk extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:kd.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=$M(e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>$d(y))}else{const h=VM(e);return f=oe("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>c_(y))}}async listInternal(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=YM(e);return f=oe("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=XM(y),w=new nv;return Object.assign(w,b),w})}else{const h=JM(e);return f=oe("tunedModels",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=KM(y),w=new nv;return Object.assign(w,b),w})}}async cancel(e){var n,s,o,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=PM(e);return f=oe("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=BM(y),w=new iv;return Object.assign(w,b),w})}else{const h=OM(e);return f=oe("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(b=>{const w=b;return w.sdkHttpResponse={headers:y.headers},w})),c.then(y=>{const b=LM(y),w=new iv;return Object.assign(w,b),w})}}async tuneInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=zM(e,e);return l=oe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>$d(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=GM(e);return l=oe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>ek(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nk{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ik=1024*1024*8,sk=3,rk=1e3,ok=2,bl="x-goog-upload-status";async function ak(t,e,n){var s;const o=await d_(t,e,n),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[bl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function lk(t,e,n){var s;const o=await d_(t,e,n),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[bl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=b0(l),f=new of;return Object.assign(f,c),f}async function d_(t,e,n){var s,o;let l=0,c=0,f=new Dd(new Response),p="upload";for(l=t.size;c<l;){const h=Math.min(ik,l-c),y=t.slice(c,c+h);c+h>=l&&(p+=", finalize");let b=0,w=rk;for(;b<sk&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((s=f==null?void 0:f.headers)===null||s===void 0)&&s[bl]));)b++,await ck(w),w=w*ok;if(c+=h,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[bl])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function uk(t){return{size:t.size,type:t.type}}function ck(t){return new Promise(e=>setTimeout(e,t))}class dk{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ak(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lk(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uk(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fk{create(e,n,s){return new hk(e,n,s)}}class hk{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mv="x-goog-api-key";class pk{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Mv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Mv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mk="gl-node/";class gk{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=cC(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new pk(this.apiKey);this.apiClient=new uI({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:mk+"web",uploader:new dk,downloader:new nk}),this.models=new RI(this.apiClient),this.live=new SI(this.apiClient,o,new fk),this.batches=new qA(this.apiClient),this.chats=new bR(this.models,this.apiClient),this.caches=new yR(this.apiClient),this.files=new IR(this.apiClient),this.operations=new NI(this.apiClient),this.authTokens=new FI(this.apiClient),this.tunings=new tk(this.apiClient),this.fileSearchStores=new ZI(this.apiClient)}}const f_=new gk({apiKey:"PLACEHOLDER_API_KEY"}),h_="talia_translations_cache",pf=()=>{const t=sessionStorage.getItem(h_);return t?JSON.parse(t):{}},p_=(t,e)=>{const n=pf();n[t]=e,sessionStorage.setItem(h_,JSON.stringify(n))},wl=async(t,e)=>{if(e===ee.AR||t.length===0)return t;const n=pf(),s=[],o=[];if(t.forEach(l=>{n[l.id]?o.push({...l,name:n[l.id].name,description:n[l.id].description}):s.push({id:l.id,name:l.name,description:l.description})}),s.length===0)return o;try{const l=`Translate the following Arabic fashion product details to elegant English for a luxury store. 
    Maintain the tone of "TaliaMode7" (luxury, sophisticated). 
    Return the result ONLY as a JSON array of objects with "id", "name", and "description" fields.
    
    Data: ${JSON.stringify(s)}`,c=await f_.models.generateContent({model:"gemini-3-flash-preview",contents:l,config:{responseMimeType:"application/json"}}),f=JSON.parse(c.text||"[]");return t.map(h=>{const y=f.find(w=>w.id===h.id);return y?(p_(h.id,y),{...h,name:y.name,description:y.description}):o.find(w=>w.id===h.id)||h})}catch(l){return console.error("AI Translation Error:",l),t.map(c=>o.find(p=>p.id===c.id)||c)}},yk=async(t,e)=>{if(e===ee.AR)return t;const n=pf();if(n[t.id])return{...t,name:n[t.id].name,description:n[t.id].description};try{const s=`Translate this Arabic fashion product to elegant luxury English.
    Name: ${t.name}
    Description: ${t.description}
    Return ONLY JSON: {"name": "...", "description": "..."}`,o=await f_.models.generateContent({model:"gemini-3-flash-preview",contents:s,config:{responseMimeType:"application/json"}}),l=JSON.parse(o.text||"{}");return l.name&&p_(t.id,{id:t.id,...l}),{...t,name:l.name||t.name,description:l.description||t.description}}catch(s){return console.error("AI Translation Error:",s),t}},vk=()=>{const{language:t,t:e}=Mt(),[n,s]=D.useState([]),[o,l]=D.useState([]),[c,f]=D.useState(!0);D.useEffect(()=>{(async()=>{f(!0);const{data:y}=await Ue.from("products").select("*").eq("is_new",!0).limit(20),{data:b}=await Ue.from("products").select("*").eq("is_best_seller",!0).limit(8);let w=y||[],E=b||[];t===ee.EN&&(w=await wl(w,ee.EN),E=await wl(E,ee.EN)),s(w),l(E),f(!1)})()},[t]);const p=()=>_.jsx(_.Fragment,{children:Array(6).fill(0).map((h,y)=>_.jsxs("div",{className:"min-w-[160px] w-[42%] md:w-auto md:min-w-0 snap-center",children:[_.jsx("div",{className:"aspect-[3/4] bg-gray-100 animate-pulse rounded-2xl border border-gray-100"}),_.jsx("div",{className:"mt-3 h-3 bg-gray-100 animate-pulse rounded w-3/4 mx-auto"}),_.jsx("div",{className:"mt-2 h-3 bg-gray-100 animate-pulse rounded w-1/2 mx-auto"})]},y))});return _.jsxs("div",{className:"animate-[fadeIn_0.5s_ease-out]",children:[_.jsx(TE,{}),_.jsxs("section",{className:"py-10 md:py-20 container mx-auto px-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 px-1 md:px-0",children:[_.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:e.newArrivals}),_.jsx($e,{to:"/products",className:"text-blush text-sm md:text-base font-bold hover:underline",children:t===ee.AR?" "+e.allProducts:e.allProducts+" "})]}),_.jsx("div",{className:"flex overflow-x-auto pb-8 -mx-4 px-4 gap-4 snap-x snap-mandatory scroll-pl-4 scroll-smooth md:grid md:grid-cols-4 lg:grid-cols-6 md:gap-6 md:pb-0 md:mx-0 md:px-0 no-scrollbar md:overflow-visible",children:c?_.jsx(p,{}):n.map(h=>_.jsx("div",{className:"min-w-[160px] w-[42%] md:w-auto md:min-w-0 snap-start flex-shrink-0",children:_.jsx(dl,{product:h})},h.id))})]}),_.jsxs("section",{className:"py-12 md:py-20 container mx-auto px-4 mb-10 md:mb-20 bg-pearl/50 md:bg-gray-50/50 md:rounded-[3rem] border-t border-gold/5 md:border-none",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-10 px-1 md:px-0",children:[_.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:e.bestSellers}),_.jsx($e,{to:"/category/  ",className:"text-blush text-sm md:text-base font-bold hover:underline",children:t===ee.AR?" "+e.allProducts:e.allProducts+" "})]}),_.jsx("div",{className:"flex overflow-x-auto pb-8 -mx-4 px-4 gap-4 snap-x snap-mandatory scroll-pl-4 scroll-smooth md:grid md:grid-cols-4 md:gap-6 md:pb-0 md:mx-0 md:px-0 no-scrollbar md:overflow-visible",children:c?_.jsx(p,{}):o.map(h=>_.jsx("div",{className:"min-w-[160px] w-[42%] md:w-auto md:min-w-0 snap-start flex-shrink-0",children:_.jsx(dl,{product:h})},h.id))})]})]})},kv=()=>{const{category:t}=Yv(),[e]=gE(),n=e.get("search"),[s,o]=D.useState([]),[l,c]=D.useState(!0),{language:f,t:p}=Mt();D.useEffect(()=>{(async()=>{c(!0);let b=Ue.from("products").select("*");if(t){const R=decodeURIComponent(t);R===""?b=b.eq("is_new",!0):R==="  "||R==="  "?b=b.eq("is_best_seller",!0):R!=="all"&&R!==""&&(b=b.contains("categories",[R]))}n&&(b=b.ilike("name",`%${n}%`));const{data:w,error:E}=await b.order("created_at",{ascending:!1});let A=w||[];f===ee.EN&&A.length>0&&(A=await wl(A,ee.EN)),o(A),c(!1)})()},[t,n,f]);const h=t?p.categories[decodeURIComponent(t)]||decodeURIComponent(t):p.allProducts;return _.jsx("div",{className:"container mx-auto px-4 py-10 animate-[fadeIn_0.5s_ease-out]",children:_.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[_.jsx("aside",{className:"w-full lg:w-72 space-y-8",children:_.jsxs("div",{className:"bg-white p-6 border border-gold/10 shadow-sm sticky top-40 rounded-3xl",children:[_.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-6 border-b border-gold/10 pb-3 text-gold",children:p.categoriesLabel}),_.jsxs("ul",{className:"space-y-1.5 max-h-[60vh] overflow-y-auto no-scrollbar",children:[_.jsx("li",{children:_.jsx($e,{to:"/products",className:`block py-3.5 px-5 text-xs transition-all rounded-2xl ${!t||t==="all"?"bg-champagne text-blush font-bold border-r-4 border-blush shadow-sm":"text-gray-500 hover:bg-champagne/50"}`,children:p.categories.all})},"all"),Wd.map(y=>_.jsx("li",{children:_.jsx($e,{to:`/category/${encodeURIComponent(y)}`,className:`block py-3.5 px-5 text-xs transition-all rounded-2xl ${decodeURIComponent(t||"")===y?"bg-champagne text-blush font-bold border-r-4 border-blush shadow-sm":"text-gray-500 hover:bg-champagne/50"}`,children:p.categories[y]||y})},y))]})]})}),_.jsxs("main",{className:"flex-grow",children:[_.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-gold/5 pb-8",children:[_.jsxs("div",{children:[_.jsxs("nav",{className:"text-[9px] uppercase font-bold tracking-[0.2em] text-gray-400 mb-3 flex items-center gap-2",children:[_.jsx($e,{to:"/",className:"hover:text-blush transition-colors",children:p.backToHome})," ",_.jsx("span",{className:"text-gold/30",children:"/"})," ",_.jsx("span",{children:h})]}),_.jsx("h2",{className:"text-3xl font-bold text-taliaBlack tracking-tight",children:n?`${p.searchPlaceholder}: ${n}`:h})]}),_.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest bg-white border border-gold/10 px-6 py-3 rounded-full shadow-sm",children:[_.jsx("span",{className:"text-blush",children:s.length})," ",p.itemsAvailable]})]}),l?_.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-8",children:Array(6).fill(0).map((y,b)=>_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"aspect-[3/4] bg-white animate-pulse rounded-3xl border border-gold/5"}),_.jsx("div",{className:"h-3 bg-white animate-pulse w-3/4 mx-auto rounded-full"})]},b))}):s.length>0?_.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:s.map(y=>_.jsx(dl,{product:y},y.id))}):_.jsxs("div",{className:"py-32 text-center space-y-8 bg-white/40 border-2 border-dashed border-gold/10 rounded-[3rem] animate-fadeIn",children:[_.jsx("div",{className:"flex justify-center",children:_.jsx("div",{className:"w-20 h-20 bg-champagne rounded-full flex items-center justify-center text-gold/40",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0a2 2 0 01-2 2H6a2 2 0 01-2-2m16 0l-8 8-8-8"})})})}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("p",{className:"text-gray-400 text-lg font-medium tracking-wide",children:f===ee.AR?"     .":"Sorry, no products available currently."}),_.jsx($e,{to:"/products",className:"inline-block bg-blush text-white px-10 py-4 rounded-full font-bold text-[10px] uppercase tracking-widest hover:bg-taliaBlack transition-all shadow-xl",children:p.allProducts})]})]})]})]})})},_k=({isOpen:t,onClose:e})=>{const{language:n,t:s}=Mt();if(!t)return null;const o=[{size:"XS",chest:"8084",waist:"6468",hips:"8892"},{size:"S",chest:"8488",waist:"6872",hips:"9296"},{size:"M",chest:"8892",waist:"7276",hips:"96100"},{size:"L",chest:"9296",waist:"7680",hips:"100104"},{size:"XL",chest:"96100",waist:"8084",hips:"104108"},{size:"XXL",chest:"100104",waist:"8488",hips:"108112"}];return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-taliaBlack/60 backdrop-blur-sm animate-[fadeIn_0.3s_ease-out]",onClick:e,children:_.jsxs("div",{className:"bg-pearl w-full max-w-2xl shadow-2xl border border-gold/20 overflow-hidden relative animate-[reveal_0.4s_ease-out]",onClick:l=>l.stopPropagation(),children:[_.jsx("button",{onClick:e,className:`absolute top-4 ${n===ee.AR?"left-4":"right-4"} text-gray-400 hover:text-blush transition-colors p-2 z-10`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),_.jsxs("div",{className:"p-8",children:[_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 mb-6 text-center",children:s.sizeGuide}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-center border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-blush/10 text-blush font-bold text-sm",children:[_.jsx("th",{className:"p-3 border border-gold/10",children:s.size}),_.jsx("th",{className:"p-3 border border-gold/10",children:n===ee.AR?"":"Chest"}),_.jsx("th",{className:"p-3 border border-gold/10",children:n===ee.AR?"":"Waist"}),_.jsx("th",{className:"p-3 border border-gold/10",children:n===ee.AR?"":"Hips"}),_.jsx("th",{className:"p-3 border border-gold/10",children:n===ee.AR?"":"Length"})]})}),_.jsx("tbody",{children:o.map(l=>_.jsxs("tr",{className:"hover:bg-gold/5 transition-colors text-sm font-medium",children:[_.jsx("td",{className:"p-3 border border-gold/10 bg-gray-50/50 font-bold",children:l.size}),_.jsx("td",{className:"p-3 border border-gold/10",children:l.chest}),_.jsx("td",{className:"p-3 border border-gold/10",children:l.waist}),_.jsx("td",{className:"p-3 border border-gold/10",children:l.hips}),_.jsx("td",{className:"p-3 border border-gold/10 text-[10px] text-gray-400",children:n===ee.AR?"  ":"Varies by design"})]},l.size))})]})}),_.jsx("div",{className:"mt-6 p-4 bg-pearl border-l-4 border-r-4 border-blush text-xs text-gray-500 italic leading-relaxed",children:n===ee.AR?"*      (cm).":"* All measurements above are in centimeters (cm)."})]})]})})},bk=()=>{const{id:t}=Yv(),e=Mi(),{addToCart:n}=Ul(),{language:s,t:o}=Mt(),[l,c]=D.useState(null),[f,p]=D.useState(""),[h,y]=D.useState(1),[b,w]=D.useState(!0),[E,A]=D.useState(0),[R,C]=D.useState(!1),[M,L]=D.useState(!1),[I,O]=D.useState(!1),[K,W]=D.useState(!1);if(D.useEffect(()=>{(async()=>{w(!0);const{data:Ye,error:$}=await Ue.from("products").select("*").eq("id",t).single();if($||!Ye)e("/");else{let te=Ye;s===ee.EN&&(te=await yk(te,ee.EN)),c(te)}w(!1)})();const Ce=JSON.parse(localStorage.getItem("talia_likes")||"[]");C(Ce.includes(t))},[t,e,s]),D.useEffect(()=>{f&&(W(!1),y(1))},[f]),b||!l)return _.jsx("div",{className:"min-h-screen flex items-center justify-center font-bold text-blush",children:o.loading});const U=l.sizes.every(ue=>ue.quantity===0),Z=l.sizes.find(ue=>ue.size===f),X=Z?Z.quantity:0,ne=()=>{if(!f){W(!0),setTimeout(()=>W(!1),3e3);return}O(!0),n(l,f,h),setTimeout(()=>O(!1),2e3)},be=()=>{if(!f){W(!0),setTimeout(()=>W(!1),3e3);return}n(l,f,h),e("/cart")},Le=()=>{const ue=JSON.parse(localStorage.getItem("talia_likes")||"[]");let Ce;R?Ce=ue.filter(Ye=>Ye!==t):Ce=[...ue,t],localStorage.setItem("talia_likes",JSON.stringify(Ce)),C(!R),window.dispatchEvent(new Event("wishlistUpdate"))};return _.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out] relative",children:[_.jsx(_k,{isOpen:M,onClose:()=>L(!1)}),K&&_.jsx("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[200] w-[90%] max-w-xs animate-fadeInUp",children:_.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-red-200 shadow-2xl p-4 rounded-2xl flex items-center gap-3 text-red-600",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),_.jsx("p",{className:"text-sm font-bold",children:s===ee.AR?"   ":"Please select size first"})]})}),_.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[_.jsxs("div",{className:"flex-1 space-y-4",children:[_.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-gray-100 shadow-inner relative rounded-2xl border border-gold/10",children:_.jsx("img",{src:l.images[E],alt:l.name,className:"w-full h-full object-cover"})}),_.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 no-scrollbar",children:l.images.map((ue,Ce)=>_.jsx("button",{onClick:()=>A(Ce),className:`flex-shrink-0 w-20 h-28 border-2 transition-all duration-300 rounded-lg overflow-hidden ${E===Ce?"border-blush scale-105 shadow-md":"border-transparent opacity-50 grayscale hover:opacity-100 hover:grayscale-0"}`,children:_.jsx("img",{src:ue,alt:"",className:"w-full h-full object-cover"})},Ce))})]}),_.jsxs("div",{className:"flex-1 space-y-8",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex-grow",children:[_.jsx("div",{className:"flex items-center gap-2 mb-4",children:l.categories.map(ue=>_.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest text-gold border border-gold/30 px-3 py-1 rounded-full",children:o.categories[ue]||ue},ue))}),_.jsx("h1",{className:`text-3xl md:text-5xl font-bold text-taliaBlack leading-tight ${s===ee.EN?"font-englishTitle":""}`,children:l.name})]}),_.jsx("button",{onClick:Le,className:`p-3 rounded-full border transition-all duration-300 group ${R?"border-blush/20 bg-blush/5 shadow-inner":"border-gray-100 hover:border-blush/30 hover:bg-pearl shadow-sm"}`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-7 w-7 transition-all duration-300 ${R?"fill-blush stroke-blush scale-110":"fill-none stroke-gray-400 group-hover:stroke-blush group-hover:scale-110"}`,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.092-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})})]}),_.jsxs("div",{className:"flex items-baseline gap-4",children:[_.jsxs("span",{className:"text-4xl font-bold text-blush",children:[l.price," ",s===ee.AR?"":"JOD"]}),l.old_price&&_.jsxs("span",{className:"text-xl text-gray-400 line-through font-light decoration-red-400/50",children:[l.old_price," ",s===ee.AR?"":"JOD"]})]}),_.jsx("div",{className:`p-4 bg-gray-50 border-gold/20 italic text-gray-600 leading-relaxed text-lg ${s===ee.AR?"border-r-4":"border-l-4"}`,children:l.description}),_.jsxs("div",{className:`space-y-6 transition-all duration-300 ${K?"animate-shake":""}`,children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("label",{className:`block font-bold text-sm uppercase tracking-widest transition-colors ${K?"text-red-500":"text-taliaBlack"}`,children:o.size}),_.jsx("button",{onClick:()=>L(!0),className:"text-[10px] font-bold text-gold underline tracking-widest uppercase hover:text-blush transition-colors",children:o.sizeGuide})]}),_.jsx("div",{className:"flex flex-wrap gap-4",children:l.sizes.map(ue=>_.jsx("button",{disabled:ue.quantity===0,onClick:()=>p(ue.size),className:`relative min-w-[70px] h-14 flex items-center justify-center border-2 transition-all font-bold text-sm overflow-hidden rounded-lg ${ue.quantity===0?"opacity-40 cursor-not-allowed bg-gray-50":f===ue.size?"border-blush bg-blush text-white shadow-lg scale-105":K?"border-red-200 bg-red-50/30":"border-gray-100 hover:border-gold hover:text-gold bg-white"}`,children:ue.size},ue.size))})]}),!U&&f&&_.jsxs("div",{className:"space-y-4 animate-fadeIn p-4 bg-gray-50 rounded-xl border border-gray-100",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("label",{className:"block font-bold text-sm uppercase tracking-widest text-taliaBlack",children:s===ee.AR?" ":"Quantity"}),_.jsxs("span",{className:"text-[10px] font-bold text-green-600 uppercase tracking-widest bg-green-50 px-2 py-1 rounded border border-green-100",children:[s===ee.AR?":":"In Stock:"," ",X]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[_.jsx("button",{disabled:h<=1,onClick:()=>y(ue=>ue-1),className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 disabled:opacity-30 disabled:hover:bg-white font-bold text-xl transition-colors text-taliaBlack",children:"-"}),_.jsx("div",{className:"w-16 h-12 flex items-center justify-center font-bold text-lg bg-gray-50/50 border-x border-gray-100 text-blush",children:h}),_.jsx("button",{disabled:h>=X,onClick:()=>y(ue=>ue+1),className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 disabled:opacity-30 disabled:hover:bg-white font-bold text-xl transition-colors text-taliaBlack",children:"+"})]}),_.jsx("div",{className:"text-xs text-gray-400 font-medium",children:s===ee.AR?"":"Item(s)"})]})]}),_.jsx("div",{className:"flex flex-col gap-4 pt-4",children:U?_.jsx("button",{disabled:!0,className:"w-full h-16 rounded-xl bg-gray-200 text-gray-400 font-bold text-lg cursor-not-allowed flex items-center justify-center gap-2",children:o.outOfStock}):_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:ne,disabled:I,className:`w-full h-16 rounded-xl font-bold text-lg transition-all shadow-xl active:scale-95 flex items-center justify-center gap-3 ${I?"bg-gold text-white":"bg-taliaBlack text-white hover:bg-gold"}`,children:I?s===ee.AR?"   ":"Added ":o.addToCart}),_.jsx("button",{onClick:be,className:"w-full h-16 rounded-xl border-2 border-blush text-blush font-bold text-lg hover:bg-blush hover:text-white transition-all shadow-md active:scale-95",children:o.buyNow})]})})]})]})]})},wk=()=>{const{cart:t,removeFromCart:e,totalItems:n}=Ul(),{language:s,t:o}=Mt(),l=Mi(),[c,f]=D.useState(""),[p,h]=D.useState(0),[y,b]=D.useState(""),w=t.reduce((C,M)=>C+M.price*M.cartQuantity,0),E=async()=>{b("");const{data:C,error:M}=await Ue.from("coupons").select("*").eq("code",c).eq("is_active",!0).single();if(M||!C){b(s===ee.AR?"  ":"Invalid coupon"),h(0);return}if(C.usage_count>=C.usage_limit){b(s===ee.AR?"  ":"Coupon usage limit reached"),h(0);return}h(C.discount_percent)},A=w*p/100,R=w-A+go;return t.length===0?_.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center p-4",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-gray-200 mb-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),_.jsx("h2",{className:"text-2xl font-bold mb-4",children:s===ee.AR?"  ":"Your cart is empty"}),_.jsx($e,{to:"/products",className:"bg-blush text-white px-8 py-3 font-bold hover:bg-taliaBlack transition-all",children:o.shopNow})]}):_.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[_.jsxs("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center",children:[o.cart," (",n,")"]}),_.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[_.jsx("div",{className:"flex-[2] space-y-6",children:t.map(C=>_.jsxs("div",{className:"flex gap-4 p-4 bg-white border border-gray-100 hover:shadow-md transition-shadow",children:[_.jsx($e,{to:`/product/${C.id}`,className:"w-24 h-32 flex-shrink-0 bg-gray-50",children:_.jsx("img",{src:C.images[0],alt:"",className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"flex-grow",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsx("h3",{className:"font-bold text-lg",children:C.name}),_.jsx("button",{onClick:()=>e(C.id,C.selectedSize),className:"text-gray-400 hover:text-red-500",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[o.size,": ",_.jsx("span",{className:"text-taliaBlack font-bold uppercase",children:C.selectedSize})]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("span",{className:"font-bold text-blush",children:[C.price," JOD"]}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("span",{className:"text-xs text-gray-400",children:["Qty: ",C.cartQuantity]})})]})]})]},`${C.id}-${C.selectedSize}`))}),_.jsx("div",{className:"flex-1",children:_.jsxs("div",{className:"bg-gray-50 p-8 border border-gold/10 space-y-6 sticky top-32",children:[_.jsx("h3",{className:"text-xl font-bold border-b border-gold/20 pb-4",children:s===ee.AR?" ":"Order Summary"}),_.jsxs("div",{className:"space-y-4 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:o.total}),_.jsxs("span",{className:"font-bold",children:[w," JOD"]})]}),p>0&&_.jsxs("div",{className:"flex justify-between text-green-600",children:[_.jsxs("span",{children:["Discount (",p,"%)"]}),_.jsxs("span",{className:"font-bold",children:["-",A.toFixed(2)," JOD"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:o.deliveryFee}),_.jsxs("span",{className:"font-bold",children:[go," JOD"]})]}),_.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gold/20 pt-4",children:[_.jsx("span",{children:o.grandTotal}),_.jsxs("span",{className:"text-blush",children:[R.toFixed(2)," JOD"]})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:o.couponCode}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",value:c,onChange:C=>f(C.target.value.toUpperCase()),className:"flex-grow p-2 border border-gray-300 outline-none focus:border-blush uppercase",placeholder:"EX: WELCOME10"}),_.jsx("button",{onClick:E,className:"bg-taliaBlack text-white px-4 py-2 text-xs font-bold hover:bg-blush transition-all",children:o.apply})]}),y&&_.jsx("p",{className:"text-red-500 text-[10px] font-bold",children:y})]}),_.jsx("button",{onClick:()=>l("/checkout",{state:{discount:p,couponCode:c}}),className:"w-full bg-blush text-white py-4 font-bold text-lg hover:bg-taliaBlack transition-all",children:o.checkout}),_.jsx("p",{className:"text-center text-[10px] text-gray-400 font-medium",children:"Secure checkout provided by TaliaMode7. COD Only."})]})})]})]})},Sk=()=>{var L,I;const{cart:t,clearCart:e}=Ul(),{language:n,t:s}=Mt(),o=Mi(),l=tn(),c=((L=l.state)==null?void 0:L.discount)||0,f=((I=l.state)==null?void 0:I.couponCode)||null,[p,h]=D.useState({name:"",phone:"",city:Rg[0],address:"",notes:""}),[y,b]=D.useState(!1),[w,E]=D.useState(!1),A=t.reduce((O,K)=>O+K.price*K.cartQuantity,0),R=A*c/100,C=A-R+go,M=async O=>{if(O.preventDefault(),t.length===0)return;b(!0);const{data:K,error:W}=await Ue.from("orders").insert({customer_name:p.name,customer_phone:p.phone,city:p.city,address:p.address,items:t,total_price:C,status:rs.PENDING,notes:p.notes}).select().single();if(W){alert(n===ee.AR?"    ":"Error sending order"),b(!1);return}try{for(const U of t){const{data:Z}=await Ue.from("products").select("sizes").eq("id",U.id).single();if(Z&&Z.sizes){const X=Z.sizes.map(ne=>ne.size===U.selectedSize?{...ne,quantity:Math.max(0,ne.quantity-U.cartQuantity)}:ne);await Ue.from("products").update({sizes:X}).eq("id",U.id)}}}catch(U){console.error("Error updating inventory:",U)}if(f)try{const{data:U}=await Ue.from("coupons").select("usage_count, usage_limit").eq("code",f).single();if(U){const Z=U.usage_count+1,X=Z>=U.usage_limit;await Ue.from("coupons").update({usage_count:Z,is_active:!X}).eq("code",f)}}catch(U){console.error("Error updating coupon:",U)}try{const U=t.map(ne=>`- ${ne.name} (Size: ${ne.selectedSize}, Qty: ${ne.cartQuantity}) - ${ne.price} JOD`).join(`
`),Z=`
        New Order Received! 
        
        Order ID: ${(K==null?void 0:K.id)||"N/A"}
        ------------------------------------
        Customer: ${p.name}
        Phone: ${p.phone}
        City: ${p.city}
        Address: ${p.address}
        Notes: ${p.notes||"None"}
        
        Items:
        ${U}
        
        ------------------------------------
        Subtotal: ${A} JOD
        Discount: ${R} JOD
        Delivery: ${go} JOD
        GRAND TOTAL: ${C} JOD
        ------------------------------------
      `,X=new FormData;X.append("access_key","6a5bee7e-a19b-4d1e-9900-52255a675b86"),X.append("subject",`New Order (${C} JOD) - ${p.name}`),X.append("message",Z),await fetch("https://api.web3forms.com/submit",{method:"POST",body:X})}catch(U){console.error("Failed to send email notification",U)}e(),b(!1),E(!0)};return _.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[_.jsx("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center",children:s.checkout}),w&&_.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-taliaBlack/70 backdrop-blur-sm animate-[fadeIn_0.3s_ease-out]",children:_.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2rem] shadow-2xl overflow-hidden relative animate-[reveal_0.4s_ease-out] text-center p-8 border border-gold/20",children:[_.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack mb-4",children:n===ee.AR?"   ! ":"Order Placed Successfully! "}),_.jsxs("div",{className:"space-y-3 text-gray-600 text-sm mb-8",children:[_.jsx("p",{className:"font-medium",children:n===ee.AR?"   TaliaMode7":"Thank you for shopping with TaliaMode7"}),_.jsx("p",{className:"p-3 bg-blush/5 rounded-xl border border-blush/10 text-taliaBlack font-bold",children:n===ee.AR?"     ":"We will contact you soon to confirm "}),_.jsx("p",{className:"text-blush font-bold text-base mt-2",children:n===ee.AR?"  : 24 - 48 ":" Delivery time: 24 - 48 Hours"})]}),_.jsx("button",{onClick:()=>o("/"),className:"w-full bg-taliaBlack text-white py-4 rounded-xl font-bold hover:bg-gold transition-colors shadow-lg",children:n===ee.AR?" ":"Back to Home"})]})}),_.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row gap-12",children:[_.jsxs("form",{onSubmit:M,className:"flex-[3] space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.fullName}),_.jsx("input",{required:!0,type:"text",value:p.name,onChange:O=>h({...p,name:O.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:" "})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.phone}),_.jsx("input",{required:!0,type:"tel",value:p.phone,onChange:O=>h({...p,phone:O.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:"079XXXXXXXX"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.city}),_.jsx("select",{required:!0,value:p.city,onChange:O=>h({...p,city:O.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush bg-white",children:Rg.map(O=>_.jsx("option",{value:O,children:O},O))})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.address}),_.jsx("textarea",{required:!0,rows:3,value:p.address,onChange:O=>h({...p,address:O.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:":  -   -  ..."})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:n===ee.AR?"  ()":"Additional Notes (Optional)"}),_.jsx("textarea",{rows:2,value:p.notes,onChange:O=>h({...p,notes:O.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush"})]}),_.jsx("button",{type:"submit",disabled:y,className:`w-full bg-blush text-white py-4 font-bold text-lg hover:bg-taliaBlack transition-all ${y?"opacity-50 cursor-not-allowed":""}`,children:y?"...":s.confirmOrder})]}),_.jsx("div",{className:"flex-[2]",children:_.jsxs("div",{className:"bg-gray-50 p-6 border border-gold/10 space-y-4",children:[_.jsx("h3",{className:"font-bold border-b pb-2 uppercase tracking-widest text-sm",children:n===ee.AR?" ":"Order Content"}),_.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 no-scrollbar",children:t.map(O=>_.jsxs("div",{className:"flex justify-between text-xs",children:[_.jsxs("span",{children:[O.name," (x",O.cartQuantity,") - ",O.selectedSize]}),_.jsxs("span",{className:"font-bold",children:[O.price*O.cartQuantity," JOD"]})]},`${O.id}-${O.selectedSize}`))}),_.jsxs("div",{className:"pt-4 border-t space-y-2 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:s.total}),_.jsxs("span",{children:[A," JOD"]})]}),c>0&&_.jsxs("div",{className:"flex justify-between text-green-600",children:[_.jsx("span",{children:"Discount"}),_.jsxs("span",{children:["-",R.toFixed(2)," JOD"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:s.deliveryFee}),_.jsxs("span",{children:[go," JOD"]})]}),_.jsxs("div",{className:"flex justify-between font-bold text-lg text-blush pt-2 border-t",children:[_.jsx("span",{children:s.grandTotal}),_.jsxs("span",{children:[C.toFixed(2)," JOD"]})]})]})]})})]})]})},Ek=()=>{const{language:t,t:e}=Mt(),[n,s]=D.useState([]),[o,l]=D.useState(!0),c=async()=>{l(!0);const f=JSON.parse(localStorage.getItem("talia_likes")||"[]");if(f.length===0){s([]),l(!1);return}const{data:p,error:h}=await Ue.from("products").select("*").in("id",f);if(h){console.error(h),l(!1);return}let y=p||[];t===ee.EN&&y.length>0&&(y=await wl(y,ee.EN)),s(y),l(!1)};return D.useEffect(()=>(c(),window.addEventListener("wishlistUpdate",c),()=>window.removeEventListener("wishlistUpdate",c)),[t]),o?_.jsx("div",{className:"min-h-[60vh] flex items-center justify-center font-bold text-blush",children:e.loading}):_.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[_.jsx("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center uppercase tracking-widest",children:e.wishlist}),n.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 py-20",children:[_.jsx("div",{className:"w-24 h-24 bg-blush/5 rounded-full flex items-center justify-center",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blush/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),_.jsx("p",{className:"text-gray-500 font-bold",children:e.emptyWishlist}),_.jsx($e,{to:"/products",className:"bg-taliaBlack text-white px-8 py-3 rounded-full font-bold hover:bg-blush transition-all uppercase text-xs tracking-widest",children:e.shopNow})]}):_.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:n.map(f=>_.jsx(dl,{product:f},f.id))})]})},xk=()=>{const[t,e]=D.useState(""),[n,s]=D.useState(""),[o,l]=D.useState(!1),c=Mi(),f=async p=>{p.preventDefault(),l(!0);const{error:h}=await Ue.auth.signInWithPassword({email:t,password:n});h?alert("   "):c("/admin"),l(!1)};return _.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",dir:"rtl",children:_.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-none shadow-2xl border border-gold/20",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("h1",{className:"text-3xl font-englishTitle font-bold text-taliaBlack mb-2",children:"TaliaMode7"}),_.jsx("p",{className:"text-gray-400 uppercase tracking-widest text-[10px]",children:"  "})]}),_.jsxs("form",{onSubmit:f,className:"space-y-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),_.jsx("input",{required:!0,type:"email",value:t,onChange:p=>e(p.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 outline-none focus:border-blush"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),_.jsx("input",{required:!0,type:"password",value:n,onChange:p=>s(p.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 outline-none focus:border-blush"})]}),_.jsx("button",{type:"submit",disabled:o,className:"w-full bg-taliaBlack text-white py-4 font-bold uppercase tracking-widest hover:bg-gold transition-all disabled:opacity-50",children:o?" ...":" "})]})]})})},sl=({to:t,active:e,onClick:n,children:s})=>_.jsx($e,{to:t,onClick:n,className:`block p-4 rounded-lg transition-all text-sm font-bold ${e?"bg-blush text-white shadow-lg shadow-blush/20":"text-gray-300 hover:bg-gray-700/50"}`,children:s}),Tk=()=>{const[t,e]=D.useState(null),[n,s]=D.useState(!1),o=Mi(),l=tn();if(D.useEffect(()=>{Ue.auth.getSession().then(({data:{session:p}})=>{p?e(p):o("/admin/login")})},[o]),!t)return null;const c=async()=>{await Ue.auth.signOut(),o("/admin/login")},f=()=>s(!1);return _.jsxs("div",{className:"min-h-screen bg-[#f8fafc] flex flex-col md:flex-row",dir:"rtl",children:[_.jsxs("div",{className:"md:hidden bg-[#1e293b] text-white p-4 flex justify-between items-center sticky top-0 z-[100] shadow-md",children:[_.jsx("h2",{className:"text-xl font-bold text-gold font-englishTitle",children:"TaliaMode7"}),_.jsx("button",{onClick:()=>s(!0),className:"p-2 bg-gray-700 rounded-md",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})]}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[110] md:hidden",onClick:f}),_.jsxs("aside",{className:`
        fixed md:sticky top-0 right-0 h-screen w-72 bg-[#1e293b] text-white flex flex-col z-[120] transition-transform duration-300 shadow-2xl
        ${n?"translate-x-0":"translate-x-full md:translate-x-0"}
      `,children:[_.jsxs("div",{className:"p-8 border-b border-gray-700 hidden md:block",children:[_.jsx("h2",{className:"text-2xl font-bold text-gold font-englishTitle tracking-tight",children:"TaliaMode7"}),_.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-bold uppercase tracking-widest",children:"  "})]}),_.jsx("div",{className:"md:hidden flex justify-end p-4",children:_.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),_.jsxs("nav",{className:"flex-grow p-4 space-y-2 mt-4 md:mt-0 overflow-y-auto no-scrollbar",children:[_.jsx(sl,{to:"/admin",active:l.pathname==="/admin",onClick:f,children:"  "}),_.jsx(sl,{to:"/admin/products",active:l.pathname.startsWith("/admin/products"),onClick:f,children:"  "}),_.jsx(sl,{to:"/admin/orders",active:l.pathname.startsWith("/admin/orders"),onClick:f,children:"  "}),_.jsx(sl,{to:"/admin/coupons",active:l.pathname.startsWith("/admin/coupons"),onClick:f,children:"  "})]}),_.jsx("div",{className:"p-6 border-t border-gray-700",children:_.jsx("button",{onClick:c,className:"w-full p-3 bg-red-600/10 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-all text-sm font-bold border border-red-600/20",children:" "})})]}),_.jsx("main",{className:"flex-grow p-4 md:p-10 min-h-screen",children:_.jsx("div",{className:"max-w-7xl mx-auto",children:_.jsxs(Qv,{children:[_.jsx(Ht,{index:!0,element:_.jsx(Ck,{})}),_.jsx(Ht,{path:"products",element:_.jsx(Ak,{})}),_.jsx(Ht,{path:"orders",element:_.jsx(Rk,{})}),_.jsx(Ht,{path:"coupons",element:_.jsx(Nk,{})})]})})})]})},Ck=()=>{const[t,e]=D.useState({products:0,orders:0,revenue:0,pending:0});return D.useEffect(()=>{(async()=>{const{count:s}=await Ue.from("products").select("*",{count:"exact",head:!0}),{count:o}=await Ue.from("orders").select("*",{count:"exact",head:!0}),{count:l}=await Ue.from("orders").select("*",{count:"exact",head:!0}).eq("status",rs.PENDING),{data:c}=await Ue.from("orders").select("total_price").eq("status",rs.DELIVERED),f=(c==null?void 0:c.reduce((p,h)=>p+h.total_price,0))||0;e({products:s||0,orders:o||0,revenue:f,pending:l||0})})()},[]),_.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#1e293b]",children:"  "}),_.jsx("p",{className:"text-gray-500 text-sm",children:"      TaliaMode7 ."})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[_.jsx(rl,{title:"",value:t.products,color:"blue",icon:""}),_.jsx(rl,{title:" ",value:t.orders,color:"amber",icon:""}),_.jsx(rl,{title:" ",value:t.pending,color:"red",icon:""}),_.jsx(rl,{title:" ",value:`${t.revenue.toFixed(0)} .`,color:"green",icon:""})]})]})},rl=({title:t,value:e,color:n,icon:s})=>_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition-shadow",children:[_.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl bg-${n}-50`,children:s}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mb-1",children:t}),_.jsx("p",{className:"text-xl font-bold text-gray-800",children:e})]})]}),Ak=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!1),[o,l]=D.useState(null),[c,f]=D.useState([]),[p,h]=D.useState(!1),[y,b]=D.useState({name:"",description:"",price:0,old_price:0,categories:[],is_new:!0,is_best_seller:!1,sizes:[{size:"S",quantity:0}]}),[w,E]=D.useState([]),[A,R]=D.useState([]);D.useEffect(()=>{C()},[]);const C=async()=>{const{data:U}=await Ue.from("products").select("*").order("created_at",{ascending:!1});U&&e(U)},M=async U=>{if(!window.confirm("            ."))return;const{error:Z}=await Ue.from("products").delete().eq("id",U);Z?alert(`  : ${Z.message}`):(alert("   "),C())},L=U=>{const Z=Array.from(U.target.files||[]);if(Z.length>0){E(ne=>[...ne,...Z]);const X=Z.map(ne=>URL.createObjectURL(ne));f(ne=>[...ne,...X])}},I=(U,Z)=>{Z?R(X=>X.filter((ne,be)=>be!==U)):(E(X=>X.filter((ne,be)=>be!==U)),f(X=>X.filter((ne,be)=>be!==U)))},O=U=>{l(U.id),b({name:U.name,description:U.description,price:U.price,old_price:U.old_price||0,categories:U.categories,is_new:U.is_new,is_best_seller:U.is_best_seller,sizes:U.sizes}),R(U.images),f([]),E([]),s(!0),window.scrollTo({top:0,behavior:"smooth"})},K=()=>{l(null),b({name:"",description:"",price:0,old_price:0,categories:[],is_new:!0,is_best_seller:!1,sizes:[{size:"S",quantity:0}]}),E([]),f([]),R([]),s(!1),h(!1)},W=async U=>{if(U.preventDefault(),w.length===0&&A.length===0){alert("     .");return}h(!0);let Z=[...A];if(w.length>0)for(const be of w){const Le=`${Date.now()}_${be.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,{data:ue,error:Ce}=await Ue.storage.from(Zg).upload(Le,be);if(Ce){alert(`   : ${Ce.message}`),h(!1);return}const{data:{publicUrl:Ye}}=Ue.storage.from(Zg).getPublicUrl(ue.path);Z.push(Ye)}const X={...y,images:Z};let ne;o?ne=(await Ue.from("products").update(X).eq("id",o)).error:ne=(await Ue.from("products").insert(X)).error,ne?alert(`: ${ne.message}`):(alert("  ! "),K(),C()),h(!1)};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[_.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:" "}),_.jsx("button",{onClick:()=>n?K():s(!0),className:`w-full sm:w-auto px-6 py-3 rounded-xl font-bold shadow-lg transition-all ${n?"bg-gray-200 text-gray-600":"bg-blush text-white hover:bg-taliaBlack"}`,children:n?" ":"   +"})]}),n&&_.jsxs("form",{onSubmit:W,className:"bg-white p-4 md:p-8 rounded-2xl shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-8 border-t-8 border-blush animate-fadeIn",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsx("h3",{className:"font-bold text-xl text-gray-800",children:o?" ":"  "}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" "}),_.jsx("input",{required:!0,className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 ring-blush/20",value:y.name,onChange:U=>b({...y,name:U.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:""}),_.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 ring-blush/20",rows:3,value:y.description,onChange:U=>b({...y,description:U.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" (.)"}),_.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none",value:y.price,onChange:U=>b({...y,price:Number(U.target.value)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" "}),_.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none",value:y.old_price,onChange:U=>b({...y,old_price:Number(U.target.value)})})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-4",children:""}),_.jsx("input",{type:"file",multiple:!0,onChange:L,className:"hidden",id:"img-upload",accept:"image/*"}),_.jsxs("label",{htmlFor:"img-upload",className:"w-full p-8 border-2 border-dashed border-gray-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-blush hover:bg-blush/5 transition-all",children:[_.jsx("span",{className:"text-3xl mb-2",children:""}),_.jsx("span",{className:"text-sm font-bold text-gray-500",children:"    "})]}),_.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2 mt-4 max-h-48 overflow-y-auto p-2",children:[A.map((U,Z)=>_.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[_.jsx("img",{src:U,className:"w-full h-full object-cover"}),_.jsx("button",{type:"button",onClick:()=>I(Z,!0),className:"absolute top-1 left-1 bg-red-500 text-white w-5 h-5 rounded-full text-[10px]",children:""})]},`ex-${Z}`)),c.map((U,Z)=>_.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-blush",children:[_.jsx("img",{src:U,className:"w-full h-full object-cover"}),_.jsx("button",{type:"button",onClick:()=>I(Z,!1),className:"absolute top-1 left-1 bg-red-500 text-white w-5 h-5 rounded-full text-[10px]",children:""})]},`new-${Z}`))]})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100",children:[_.jsx("p",{className:"text-xs font-bold text-gold uppercase tracking-widest mb-4",children:" "}),_.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto no-scrollbar",children:Wd.map(U=>_.jsxs("label",{className:"flex items-center gap-2 text-xs p-2 hover:bg-white rounded-lg cursor-pointer",children:[_.jsx("input",{type:"checkbox",className:"accent-blush w-4 h-4",checked:y.categories.includes(U),onChange:Z=>{const X=Z.target.checked?[...y.categories,U]:y.categories.filter(ne=>ne!==U);b({...y,categories:X})}}),U]},U))})]}),_.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100",children:[_.jsx("p",{className:"text-xs font-bold text-gold uppercase tracking-widest mb-4",children:" "}),_.jsxs("div",{className:"space-y-3",children:[y.sizes.map((U,Z)=>_.jsxs("div",{className:"flex gap-2 items-center animate-fadeIn",children:[_.jsx("input",{placeholder:"",className:"flex-1 p-3 bg-white border border-gray-100 rounded-lg text-center font-bold",value:U.size,onChange:X=>{const ne=[...y.sizes];ne[Z].size=X.target.value,b({...y,sizes:ne})}}),_.jsx("input",{type:"number",placeholder:"",className:"flex-1 p-3 bg-white border border-gray-100 rounded-lg text-center",value:U.quantity,onChange:X=>{const ne=[...y.sizes];ne[Z].quantity=Number(X.target.value),b({...y,sizes:ne})}}),_.jsx("button",{type:"button",onClick:()=>b({...y,sizes:y.sizes.filter((X,ne)=>ne!==Z)}),className:"text-red-400 p-2",children:""})]},Z)),_.jsx("button",{type:"button",onClick:()=>b({...y,sizes:[...y.sizes,{size:"",quantity:0}]}),className:"text-xs text-blue-500 font-bold",children:"+   "})]})]}),_.jsxs("div",{className:"flex gap-4 p-4 bg-gray-100 rounded-xl",children:[_.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:y.is_new,onChange:U=>b({...y,is_new:U.target.checked}),className:"accent-blush w-5 h-5"})," ",_.jsx("span",{children:" "})]}),_.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:y.is_best_seller,onChange:U=>b({...y,is_best_seller:U.target.checked}),className:"accent-blush w-5 h-5"})," ",_.jsx("span",{children:"  "})]})]}),_.jsx("button",{type:"submit",disabled:p,className:"w-full bg-taliaBlack text-white p-5 rounded-2xl font-bold hover:bg-gold transition-all shadow-xl disabled:opacity-50 text-lg",children:p?"  ...":o?" ":"  "})]})]}),_.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto no-scrollbar",children:_.jsxs("table",{className:"w-full text-right min-w-[600px]",children:[_.jsx("thead",{className:"bg-gray-50 border-b",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(U=>{const Z=U.sizes.reduce((X,ne)=>X+ne.quantity,0);return _.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[_.jsxs("td",{className:"p-4 flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-14 rounded-md overflow-hidden bg-gray-100",children:_.jsx("img",{src:U.images[0],className:"w-full h-full object-cover"})}),_.jsx("span",{className:"font-bold text-sm text-gray-700",children:U.name})]}),_.jsxs("td",{className:"p-4 text-sm font-bold text-blush",children:[U.price," ."]}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full ${Z>0?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:Z>0?`${Z} `:""})}),_.jsx("td",{className:"p-4",children:_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>O(U),className:"text-blue-500 font-bold text-xs hover:underline",children:""}),_.jsx("button",{onClick:()=>M(U.id),className:"text-red-400 font-bold text-xs hover:underline",children:""})]})})]},U.id)})})]})})})]})},Rk=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(null),[o,l]=D.useState(null);D.useEffect(()=>{c()},[]);const c=async()=>{const{data:y}=await Ue.from("orders").select("*").order("created_at",{ascending:!1});y&&e(y)},f=async(y,b)=>{await Ue.from("orders").update({status:b}).eq("id",y),c()},p=async()=>{if(!o)return;const{error:y}=await Ue.from("orders").delete().eq("id",o);y?(console.error("Delete Error:",y),alert(`  : ${y.message}
    .`)):(e(b=>b.filter(w=>w.id!==o)),n===o&&s(null)),l(null)},h=(y,b)=>{y.stopPropagation(),l(b)};return _.jsxs("div",{className:"space-y-6 relative",children:[_.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:"  "}),o&&_.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-taliaBlack/70 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out]",onClick:()=>l(null),children:_.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-2xl max-w-sm w-full text-center space-y-6 animate-[reveal_0.3s_ease-out] border border-red-100",onClick:y=>y.stopPropagation(),children:[_.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto text-red-500 shadow-inner",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-taliaBlack mb-2",children:"  "}),_.jsxs("p",{className:"text-gray-500 text-sm leading-relaxed",children:["      ",_.jsx("br",{}),_.jsx("span",{className:"text-red-500 font-bold",children:"     ."})]})]}),_.jsxs("div",{className:"flex gap-3 pt-2",children:[_.jsx("button",{onClick:()=>l(null),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 hover:bg-gray-100 transition-colors",children:""}),_.jsx("button",{onClick:p,className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-colors shadow-lg shadow-red-200",children:" "})]})]})}),_.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto no-scrollbar",children:_.jsxs("table",{className:"w-full text-right min-w-[700px]",children:[_.jsx("thead",{className:"bg-gray-50 border-b",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(y=>_.jsxs(Uv.Fragment,{children:[_.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${n===y.id?"bg-blush/5":""}`,onClick:()=>s(n===y.id?null:y.id),children:[_.jsxs("td",{className:"p-4",children:[_.jsx("p",{className:"font-bold text-sm text-gray-800",children:y.customer_name}),_.jsx("p",{className:"text-[10px] text-gray-400",children:new Date(y.created_at).toLocaleDateString("ar-JO")})]}),_.jsx("td",{className:"p-4 text-xs font-bold text-gray-600",children:y.city}),_.jsxs("td",{className:"p-4 text-sm font-bold text-blush",children:[y.total_price," ."]}),_.jsx("td",{className:"p-4 text-[10px] font-bold",children:_.jsx("span",{className:`px-2 py-1 rounded-full ${y.status===rs.PENDING?"bg-amber-100 text-amber-600":y.status===rs.DELIVERED?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:y.status})}),_.jsx("td",{className:"p-4",onClick:b=>b.stopPropagation(),children:_.jsx("select",{className:"p-2 bg-white border border-gray-100 rounded-lg text-[10px] outline-none shadow-sm",value:y.status,onChange:b=>f(y.id,b.target.value),children:Object.values(rs).map(b=>_.jsx("option",{value:b,children:b},b))})}),_.jsx("td",{className:"p-4",onClick:b=>b.stopPropagation(),children:_.jsxs("button",{onClick:b=>h(b,y.id),className:"bg-red-50 text-red-600 px-3 py-2 rounded-lg hover:bg-red-600 hover:text-white transition-all flex items-center gap-2 group",title:"  ",children:[_.jsx("span",{className:"text-[10px] font-bold",children:""}),_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 group-hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})})]}),n===y.id&&_.jsx("tr",{className:"bg-gray-50/50",children:_.jsx("td",{colSpan:6,className:"p-4 md:p-8",children:_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fadeIn",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-bold text-xs text-blush uppercase tracking-widest border-b pb-2",children:" "}),_.jsx("div",{className:"space-y-2",children:y.items.map((b,w)=>_.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[_.jsx("img",{src:b.images[0],className:"w-8 h-12 object-cover rounded-lg"}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("p",{className:"font-bold text-[11px] truncate",children:b.name}),_.jsxs("p",{className:"text-[10px] text-gray-400",children:[": ",b.selectedSize," | : ",b.cartQuantity]})]}),_.jsxs("p",{className:"font-bold text-xs text-gold",children:[b.price," ."]})]},w))})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-bold text-xs text-gold uppercase tracking-widest border-b pb-2",children:" "}),_.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 space-y-3 text-xs",children:[_.jsxs("p",{className:"flex justify-between",children:[_.jsx("span",{children:" :"})," ",_.jsx("span",{className:"font-bold text-blue-600 select-all underline",children:y.customer_phone})]}),_.jsxs("p",{className:"flex justify-between",children:[_.jsx("span",{children:" :"})," ",_.jsx("span",{className:"font-bold text-gray-700 text-left",children:y.address})]}),y.notes&&_.jsxs("div",{className:"p-3 bg-amber-50 rounded-lg italic text-amber-800 border-r-4 border-amber-300",children:['"',y.notes,'"']})]})]})]})})})]},y.id))})]})})})]})},Nk=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!1),[o,l]=D.useState({code:"",discount_percent:0,usage_limit:10});D.useEffect(()=>{c()},[]);const c=async()=>{const{data:h}=await Ue.from("coupons").select("*");h&&e(h)},f=async(h,y)=>{const{error:b}=await Ue.from("coupons").update({is_active:!y}).eq("code",h);b?alert("   "):e(w=>w.map(E=>E.code===h?{...E,is_active:!y}:E))},p=async h=>{h.preventDefault();const{error:y}=await Ue.from("coupons").insert(o);y?alert(y.message):(s(!1),l({code:"",discount_percent:0,usage_limit:10}),c())};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:" "}),_.jsx("button",{onClick:()=>s(!n),className:`px-5 py-2 rounded-lg font-bold transition-all shadow-md ${n?"bg-gray-100 text-gray-500":"bg-gold text-white hover:bg-taliaBlack"}`,children:n?"":"  +"})]}),n&&_.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-2xl shadow-lg border-t-8 border-gold flex flex-col md:flex-row gap-4 items-end animate-fadeIn",children:[_.jsxs("div",{className:"w-full md:flex-1 space-y-1",children:[_.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("input",{required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none uppercase font-bold",value:o.code,onChange:h=>l({...o,code:h.target.value.toUpperCase()}),placeholder:": LOVE7"})]}),_.jsxs("div",{className:"w-full md:w-32 space-y-1",children:[_.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" (%)"}),_.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none",value:o.discount_percent,onChange:h=>l({...o,discount_percent:Number(h.target.value)})})]}),_.jsxs("div",{className:"w-full md:w-32 space-y-1",children:[_.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none",value:o.usage_limit,onChange:h=>l({...o,usage_limit:Number(h.target.value)})})]}),_.jsx("button",{type:"submit",className:"w-full md:w-auto bg-taliaBlack text-white px-10 py-4 rounded-xl font-bold hover:bg-gold transition-all",children:" "})]}),_.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto no-scrollbar",children:_.jsxs("table",{className:"w-full text-right min-w-[500px]",children:[_.jsx("thead",{className:"bg-gray-50 border-b",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""})]})}),_.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(h=>_.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[_.jsx("td",{className:"p-4 font-bold text-blush uppercase tracking-widest",children:h.code}),_.jsxs("td",{className:"p-4 text-sm font-bold",children:[h.discount_percent,"%"]}),_.jsxs("td",{className:"p-4 text-xs font-medium text-gray-500",children:[h.usage_count," / ",h.usage_limit]}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:`text-[9px] font-bold px-3 py-1 rounded-full ${h.is_active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:h.is_active?"":""})}),_.jsx("td",{className:"p-4",children:_.jsx("button",{onClick:()=>f(h.code,h.is_active),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all shadow-sm ${h.is_active?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:h.is_active?"":""})})]},h.code))})]})})})]})},Ik=()=>{const{totalItems:t}=Ul(),{language:e,t:n,toggleLanguage:s}=Mt(),[o,l]=D.useState(!1),[c,f]=D.useState(""),[p,h]=D.useState([]),[y,b]=D.useState(!1),[w,E]=D.useState(!1),[A,R]=D.useState(0),C=Mi(),M=D.useRef(null);D.useEffect(()=>{if(t>0){E(!0);const O=setTimeout(()=>E(!1),500);return()=>clearTimeout(O)}},[t]),D.useEffect(()=>{const O=()=>{const K=JSON.parse(localStorage.getItem("talia_likes")||"[]");R(K.length)};return O(),window.addEventListener("storage",O),window.addEventListener("wishlistUpdate",O),()=>{window.removeEventListener("storage",O),window.removeEventListener("wishlistUpdate",O)}},[]),D.useEffect(()=>{const O=()=>{window.scrollY>50?b(!0):b(!1)};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]),D.useEffect(()=>{const O=setTimeout(async()=>{if(c.length>=2){const{data:K}=await Ue.from("products").select("*").ilike("name",`%${c}%`).limit(5);h(K||[])}else h([])},300);return()=>clearTimeout(O)},[c]),D.useEffect(()=>{const O=K=>{M.current&&!M.current.contains(K.target)&&h([])};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const L=()=>{s(),e===ee.AR&&C("/products")},I=O=>{O.preventDefault(),c.trim()&&(C(`/products?search=${encodeURIComponent(c)}`),h([]),l(!1))};return _.jsxs(_.Fragment,{children:[_.jsx("header",{className:`bg-pearl/95 backdrop-blur-xl sticky top-[44px] z-50 border-b border-gold/10 transition-all duration-500 ease-in-out ${y?"py-1 shadow-[0_10px_30px_rgba(0,0,0,0.05)]":"py-3"}`,children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:`flex items-center justify-between transition-all duration-500 ${y?"md:py-2":"md:py-4"}`,children:[_.jsx("button",{className:"lg:hidden p-2 text-taliaBlack hover:text-blush",onClick:()=>l(!o),children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),_.jsx("div",{className:"flex-1 lg:flex-none flex justify-center lg:justify-start",children:_.jsxs($e,{to:"/",className:"group relative",children:[_.jsx("span",{className:`font-englishTitle font-bold tracking-[-0.05em] text-taliaBlack transition-all duration-500 group-hover:text-blush inline-block ${y?"text-2xl md:text-3xl":"text-3xl md:text-4xl"}`,children:"TaliaMode7"}),_.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-[2px] bg-blush transition-all duration-500 group-hover:w-full"})]})}),_.jsxs("div",{className:"hidden lg:block flex-1 max-w-md mx-12 relative",ref:M,children:[_.jsxs("form",{onSubmit:I,className:"relative z-50",children:[_.jsx("input",{type:"text",placeholder:n.searchPlaceholder,className:`w-full bg-black/5 border border-transparent rounded-full px-6 text-xs font-bold focus:bg-white focus:border-blush/30 focus:ring-4 ring-blush/5 transition-all outline-none ${y?"py-2":"py-2.5"}`,value:c,onChange:O=>f(O.target.value),onFocus:()=>c.length>=2&&h(p)}),_.jsx("button",{type:"submit",className:`absolute ${e===ee.AR?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-gray-400 hover:text-blush transition-colors`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),p.length>0&&_.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden z-[60] animate-fadeInUp",children:[p.map(O=>_.jsxs($e,{to:`/product/${O.id}`,className:"flex items-center gap-3 p-3 hover:bg-gray-50 border-b border-gray-50 last:border-none transition-colors group",onClick:()=>{h([]),f("")},children:[_.jsx("div",{className:"w-10 h-12 rounded bg-gray-100 overflow-hidden flex-shrink-0",children:_.jsx("img",{src:O.images[0],alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform"})}),_.jsxs("div",{className:"flex-grow min-w-0",children:[_.jsx("p",{className:"text-xs font-bold text-gray-800 truncate",children:O.name}),_.jsxs("p",{className:"text-[10px] text-blush font-bold",children:[O.price," ",e===ee.AR?".":"JOD"]})]})]},O.id)),_.jsx("button",{onClick:I,className:"w-full p-3 text-xs font-bold text-center text-gray-500 hover:text-blush hover:bg-gray-50 transition-colors bg-gray-50/50",children:e===ee.AR?"  ":"View all results"})]})]}),_.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[_.jsx("button",{onClick:L,className:"px-4 py-2 rounded-full border-2 border-blush/40 text-[10px] font-bold hover:bg-blush hover:text-white transition-all tracking-widest uppercase bg-white/50 backdrop-blur-sm shadow-sm text-blush",children:e===ee.AR?"EN":""}),_.jsxs($e,{to:"/wishlist",className:"relative p-2 rounded-full hover:bg-blush/5 transition-all group",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-taliaBlack group-hover:text-blush group-hover:fill-blush/10 transition-all",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),A>0&&_.jsx("span",{className:"absolute top-1 right-1 bg-gold text-white text-[9px] font-bold w-4 h-4 rounded-full flex items-center justify-center ring-2 ring-pearl",children:A})]}),_.jsxs($e,{to:"/cart",className:`relative p-2 rounded-full hover:bg-blush/5 transition-all group ${y?"scale-90":"scale-100"} ${w?"animate-bounce":""}`,children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-colors ${w?"text-blush fill-blush/10":"text-taliaBlack group-hover:text-blush"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),t>0&&_.jsx("span",{className:`absolute top-1 right-1 bg-blush text-white text-[9px] font-bold w-4 h-4 rounded-full flex items-center justify-center ring-2 ring-pearl transition-transform ${w?"scale-125":"scale-100"}`,children:t})]})]})]})})}),_.jsx("div",{className:`lg:hidden bg-white border-b border-gold/10 overflow-hidden transition-all duration-300 ${o?"max-h-96 py-4":"max-h-0 py-0"}`,children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs("form",{onSubmit:I,className:"relative",children:[_.jsx("input",{type:"text",placeholder:n.searchPlaceholder,className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:border-blush outline-none",value:c,onChange:O=>f(O.target.value),autoFocus:o}),_.jsx("button",{type:"submit",className:`absolute ${e===ee.AR?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-blush`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),p.length>0&&o&&_.jsx("div",{className:"mt-2 bg-white rounded-xl shadow-lg border border-gray-100 divide-y divide-gray-50",children:p.map(O=>_.jsxs($e,{to:`/product/${O.id}`,className:"flex items-center gap-3 p-3 hover:bg-gray-50",onClick:()=>{h([]),f(""),l(!1)},children:[_.jsx("img",{src:O.images[0],alt:"",className:"w-10 h-12 object-cover rounded"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs font-bold text-gray-800",children:O.name}),_.jsxs("p",{className:"text-[10px] text-blush font-bold",children:[O.price," JOD"]})]})]},O.id))})]})})]})},Mk=({isOpen:t,onClose:e,type:n})=>{const{language:s,t:o}=Mt();if(!t)return null;const l=()=>{switch(n){case"size":const c=[{size:"XS",chest:"8084",waist:"6468",hips:"8892"},{size:"S",chest:"8488",waist:"6872",hips:"9296"},{size:"M",chest:"8892",waist:"7276",hips:"96100"},{size:"L",chest:"9296",waist:"7680",hips:"100104"},{size:"XL",chest:"96100",waist:"8084",hips:"104108"}];return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:o.sizeGuide}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-center border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-blush/10 text-blush font-bold text-xs uppercase tracking-widest",children:[_.jsx("th",{className:"p-3 border border-gold/10",children:o.size}),_.jsx("th",{className:"p-3 border border-gold/10",children:s===ee.AR?"":"Chest"}),_.jsx("th",{className:"p-3 border border-gold/10",children:s===ee.AR?"":"Waist"}),_.jsx("th",{className:"p-3 border border-gold/10",children:s===ee.AR?"":"Hips"})]})}),_.jsx("tbody",{children:c.map(f=>_.jsxs("tr",{className:"hover:bg-gold/5 transition-colors text-sm",children:[_.jsx("td",{className:"p-3 border border-gold/10 font-bold bg-gray-50/50",children:f.size}),_.jsx("td",{className:"p-3 border border-gold/10",children:f.chest}),_.jsx("td",{className:"p-3 border border-gold/10",children:f.waist}),_.jsx("td",{className:"p-3 border border-gold/10",children:f.hips})]},f.size))})]})}),_.jsx("p",{className:"text-[10px] text-gray-400 italic text-center",children:s===ee.AR?"*   ":"* All measurements in cm"})]});case"shipping":return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:s===ee.AR?"  ":"Shipping & Delivery"}),_.jsxs("div",{className:"space-y-4 text-gray-600 leading-relaxed text-sm",children:[_.jsxs("p",{className:"flex gap-3",children:[_.jsx("span",{className:"text-gold",children:""}),_.jsx("span",{children:s===ee.AR?"      .":"We deliver to all governorates in Jordan."})]}),_.jsxs("p",{className:"flex gap-3",children:[_.jsx("span",{className:"text-gold",children:""}),_.jsx("span",{children:s===ee.AR?"    24  48    .":"Delivery takes 24 to 48 hours from the order date."})]}),_.jsxs("p",{className:"flex gap-3",children:[_.jsx("span",{className:"text-gold",children:""}),_.jsx("span",{children:s===ee.AR?"    3   .":"Flat delivery fee of 3 JOD for all areas."})]}),_.jsx("p",{className:"flex gap-3 bg-blush/5 p-4 border-r-4 border-blush font-bold text-taliaBlack",children:_.jsx("span",{children:s===ee.AR?":            .":"Note: Cash on Delivery only. No returns or exchanges after delivery."})})]})]});case"contact":return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:s===ee.AR?" ":"Contact Us"}),_.jsxs("div",{className:"grid gap-4",children:[_.jsxs("a",{href:"tel:0798739259",className:"flex items-center gap-4 p-4 bg-gray-50 hover:bg-gold/5 transition-colors rounded-xl border border-gray-100 group",children:[_.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:s===ee.AR?" ":"Phone Number"}),_.jsx("p",{className:"font-bold text-taliaBlack",children:"0798739259"})]})]}),_.jsxs("a",{href:"https://wa.me/962798739259",target:"_blank",className:"flex items-center gap-4 p-4 bg-gray-50 hover:bg-gold/5 transition-colors rounded-xl border border-gray-100 group",children:[_.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"WhatsApp"}),_.jsx("p",{className:"font-bold text-taliaBlack",children:" "})]})]}),_.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[_.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:s===ee.AR?"":"Location"}),_.jsx("p",{className:"font-bold text-taliaBlack",children:s===ee.AR?" - ":"Jordan - Amman"})]})]})]})]});default:return null}};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-taliaBlack/60 backdrop-blur-sm animate-[fadeIn_0.3s_ease-out]",onClick:e,children:_.jsxs("div",{className:"bg-pearl w-full max-w-lg shadow-2xl border border-gold/20 overflow-hidden relative animate-[reveal_0.4s_ease-out] rounded-[2rem]",onClick:c=>c.stopPropagation(),children:[_.jsx("button",{onClick:e,className:`absolute top-6 ${s===ee.AR?"left-6":"right-6"} text-gray-400 hover:text-blush transition-colors p-2 z-10`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),_.jsx("div",{className:"p-10",children:l()})]})})},kk=()=>{const{t,language:e}=Mt(),[n,s]=D.useState({isOpen:!1,type:"size"}),o=c=>{s({isOpen:!0,type:c})},l=()=>{s({...n,isOpen:!1})};return _.jsxs(_.Fragment,{children:[_.jsxs("footer",{className:"bg-taliaBlack text-white py-20 border-t border-gold/10 relative z-10",children:[_.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-12 text-right",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsx($e,{to:"/",className:"text-3xl font-englishTitle tracking-tighter hover:text-blush transition-colors inline-block",children:"TaliaMode7"}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("p",{className:"text-gray-300 text-sm leading-relaxed font-bold",children:e===ee.AR?"       .":"Premium Turkish brands carefully selected for the modern Jordanian woman."}),_.jsx("p",{className:"text-gray-500 text-[12px] leading-relaxed",children:e===ee.AR?"TaliaMode7        .                     .":"TaliaMode7 is your premier destination for the finest Turkish fashion in Jordan. We feature exclusive pieces that blend modesty with modernity, ensuring authentic Turkish quality with reliable delivery across the Kingdom."})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ee.AR?"":"Categories"}),_.jsxs("ul",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[_.jsx("li",{children:_.jsx($e,{to:"/products",className:"hover:text-blush transition-colors",children:t.categories.all})}),_.jsx("li",{children:_.jsx($e,{to:`/category/${encodeURIComponent("  ")}`,className:"hover:text-blush transition-colors",children:t.categories["  "]})}),_.jsx("li",{children:_.jsx($e,{to:`/category/${encodeURIComponent("")}`,className:"hover:text-blush transition-colors",children:t.categories.})}),_.jsx("li",{children:_.jsx($e,{to:`/category/${encodeURIComponent("")}`,className:"hover:text-blush transition-colors",children:t.categories.})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ee.AR?" ":"Support"}),_.jsxs("ul",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[_.jsx("li",{children:_.jsx($e,{to:"/admin/login",className:"hover:text-blush transition-colors",children:e===ee.AR?" ":"Admin Portal"})}),_.jsx("li",{children:_.jsx("button",{onClick:()=>o("size"),className:"hover:text-blush transition-colors text-right w-full",children:t.sizeGuide})}),_.jsx("li",{children:_.jsx("button",{onClick:()=>o("shipping"),className:"hover:text-blush transition-colors text-right w-full",children:e===ee.AR?"  ":"Shipping Policy"})}),_.jsx("li",{children:_.jsx("button",{onClick:()=>o("contact"),className:"hover:text-blush transition-colors text-right w-full",children:e===ee.AR?" ":"Contact Us"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ee.AR?" ":"Contact"}),_.jsxs("div",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[_.jsxs("p",{className:"flex items-center gap-2 justify-end",children:[_.jsx("span",{children:e===ee.AR?" -   ":"Jordan - Delivery Everywhere"}),_.jsx("span",{className:"text-gold",children:""})]}),_.jsxs("p",{className:"flex items-center gap-2 justify-end",children:[_.jsx("span",{className:"font-bold select-all text-white",children:"0798739259"}),_.jsx("span",{className:"text-gold",children:""})]}),_.jsxs("div",{className:"flex gap-4 mt-8 justify-end",children:[_.jsxs("a",{href:"https://instagram.com",target:"_blank",className:"w-11 h-11 rounded-full border border-gray-800 flex items-center justify-center hover:bg-blush hover:border-blush transition-all group",children:[_.jsx("span",{className:"sr-only",children:"Instagram"}),_.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204 0-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})]}),_.jsxs("a",{href:"https://facebook.com",target:"_blank",className:"w-11 h-11 rounded-full border border-gray-800 flex items-center justify-center hover:bg-blush hover:border-blush transition-all group",children:[_.jsx("span",{className:"sr-only",children:"Facebook"}),_.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})]})]})]})]})]}),_.jsxs("div",{className:"container mx-auto px-4 mt-16 pt-8 border-t border-gray-900",children:[_.jsx("p",{className:"text-[10px] text-gray-500 text-center leading-relaxed max-w-3xl mx-auto uppercase tracking-[0.2em]",children:t.marquee}),_.jsxs("div",{className:"text-center text-gray-600 text-[10px] uppercase tracking-[0.3em] mt-8",children:[" ",new Date().getFullYear()," TaliaMode7. ",e===ee.AR?"  .   .":"All Rights Reserved. Elegance defined."]})]})]}),_.jsx(Mk,{isOpen:n.isOpen,onClose:l,type:n.type})]})},Dk=()=>{const{t}=Mt();return _.jsx("div",{className:"bg-blush border-b border-white/20 text-taliaBlack overflow-hidden py-3 z-[60] sticky top-0 flex items-center shadow-lg",children:_.jsxs("div",{className:"animate-marquee whitespace-nowrap flex text-[11px] md:text-[13px] font-black tracking-tight",children:[_.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[_.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),_.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[_.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),_.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[_.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),_.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[_.jsx("span",{className:"text-white",children:""})," ",t.marquee]})]})})},Uk=()=>{const{t,language:e}=Mt(),n=tn(),s=decodeURIComponent(n.pathname),o=[{name:t.categories.all,path:"/products"},...Wd.map(l=>({name:t.categories[l]||l,path:`/category/${encodeURIComponent(l)}`}))];return _.jsx("div",{className:"bg-pearl border-b border-gold/5 relative z-30 transition-all duration-500",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsx("div",{className:"flex items-center justify-start md:justify-center overflow-x-auto no-scrollbar gap-2 md:gap-8 py-4",children:o.map((l,c)=>{const f=s===l.path;return _.jsx($e,{to:l.path,className:`flex-shrink-0 text-[10px] md:text-[11px] font-bold uppercase tracking-[0.15em] px-5 py-2 rounded-full transition-all duration-300 whitespace-nowrap ${f?"bg-blush text-white shadow-lg shadow-blush/20 scale-105":"text-gray-500 hover:text-blush hover:bg-blush/5"}`,children:l.name},c)})})})})},Ok=()=>_.jsx("a",{href:`https://wa.me/${SE.replace("+","")}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-[100] bg-[#25D366] text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-transform active:scale-95","aria-label":"Contact on WhatsApp",children:_.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",children:_.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})});var mf={};(function t(e,n,s,o){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),x=B.getContext("2d");x.fillRect(0,0,1,1);var q=B.transferToImageBitmap();x.createPattern(q,"no-repeat")}catch{return!1}return!0})();function p(){}function h(B){var x=n.exports.Promise,q=x!==void 0?x:e.Promise;return typeof q=="function"?new q(B):(B(p,p),null)}var y=(function(B,x){return{transform:function(q){if(B)return q;if(x.has(q))return x.get(q);var j=new OffscreenCanvas(q.width,q.height),Q=j.getContext("2d");return Q.drawImage(q,0,0),x.set(q,j),j},clear:function(){x.clear()}}})(f,new Map),b=(function(){var B=Math.floor(16.666666666666668),x,q,j={},Q=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(ie){var re=Math.random();return j[re]=requestAnimationFrame(function se(fe){Q===fe||Q+B-1<fe?(Q=fe,delete j[re],ie()):j[re]=requestAnimationFrame(se)}),re},q=function(ie){j[ie]&&cancelAnimationFrame(j[ie])}):(x=function(ie){return setTimeout(ie,B)},q=function(ie){return clearTimeout(ie)}),{frame:x,cancel:q}})(),w=(function(){var B,x,q={};function j(Q){function ie(re,se){Q.postMessage({options:re||{},callback:se})}Q.init=function(se){var fe=se.transferControlToOffscreen();Q.postMessage({canvas:fe},[fe])},Q.fire=function(se,fe,ye){if(x)return ie(se,null),x;var He=Math.random().toString(36).slice(2);return x=h(function(Pe){function je(rt){rt.data.callback===He&&(delete q[He],Q.removeEventListener("message",je),x=null,y.clear(),ye(),Pe())}Q.addEventListener("message",je),ie(se,He),q[He]=je.bind(null,{data:{callback:He}})}),x},Q.reset=function(){Q.postMessage({reset:!0});for(var se in q)q[se](),delete q[se]}}return function(){if(B)return B;if(!s&&l){var Q=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([Q])))}catch(ie){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ie),null}j(B)}return B}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function A(B,x){return x?x(B):B}function R(B){return B!=null}function C(B,x,q){return A(B&&R(B[x])?B[x]:E[x],q)}function M(B){return B<0?0:Math.floor(B)}function L(B,x){return Math.floor(Math.random()*(x-B))+B}function I(B){return parseInt(B,16)}function O(B){return B.map(K)}function K(B){var x=String(B).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:I(x.substring(0,2)),g:I(x.substring(2,4)),b:I(x.substring(4,6))}}function W(B){var x=C(B,"origin",Object);return x.x=C(x,"x",Number),x.y=C(x,"y",Number),x}function U(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function Z(B){var x=B.getBoundingClientRect();B.width=x.width,B.height=x.height}function X(B){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=B,x}function ne(B,x,q,j,Q,ie,re,se,fe){B.save(),B.translate(x,q),B.rotate(ie),B.scale(j,Q),B.arc(0,0,1,re,se,fe),B.restore()}function be(B){var x=B.angle*(Math.PI/180),q=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-x+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function Le(B,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var q=x.tick++/x.totalTicks,j=x.x+x.random*x.tiltCos,Q=x.y+x.random*x.tiltSin,ie=x.wobbleX+x.random*x.tiltCos,re=x.wobbleY+x.random*x.tiltSin;if(B.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-q)+")",B.beginPath(),c&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))B.fill(te(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(ie-j)*.1,Math.abs(re-Q)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var se=Math.PI/10*x.wobble,fe=Math.abs(ie-j)*.1,ye=Math.abs(re-Q)*.1,He=x.shape.bitmap.width*x.scalar,Pe=x.shape.bitmap.height*x.scalar,je=new DOMMatrix([Math.cos(se)*fe,Math.sin(se)*fe,-Math.sin(se)*ye,Math.cos(se)*ye,x.x,x.y]);je.multiplySelf(new DOMMatrix(x.shape.matrix));var rt=B.createPattern(y.transform(x.shape.bitmap),"no-repeat");rt.setTransform(je),B.globalAlpha=1-q,B.fillStyle=rt,B.fillRect(x.x-He/2,x.y-Pe/2,He,Pe),B.globalAlpha=1}else if(x.shape==="circle")B.ellipse?B.ellipse(x.x,x.y,Math.abs(ie-j)*x.ovalScalar,Math.abs(re-Q)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):ne(B,x.x,x.y,Math.abs(ie-j)*x.ovalScalar,Math.abs(re-Q)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var Se=Math.PI/2*3,ht=4*x.scalar,At=8*x.scalar,Gt=x.x,nn=x.y,yn=5,kt=Math.PI/yn;yn--;)Gt=x.x+Math.cos(Se)*At,nn=x.y+Math.sin(Se)*At,B.lineTo(Gt,nn),Se+=kt,Gt=x.x+Math.cos(Se)*ht,nn=x.y+Math.sin(Se)*ht,B.lineTo(Gt,nn),Se+=kt;else B.moveTo(Math.floor(x.x),Math.floor(x.y)),B.lineTo(Math.floor(x.wobbleX),Math.floor(Q)),B.lineTo(Math.floor(ie),Math.floor(re)),B.lineTo(Math.floor(j),Math.floor(x.wobbleY));return B.closePath(),B.fill(),x.tick<x.totalTicks}function ue(B,x,q,j,Q){var ie=x.slice(),re=B.getContext("2d"),se,fe,ye=h(function(He){function Pe(){se=fe=null,re.clearRect(0,0,j.width,j.height),y.clear(),Q(),He()}function je(){s&&!(j.width===o.width&&j.height===o.height)&&(j.width=B.width=o.width,j.height=B.height=o.height),!j.width&&!j.height&&(q(B),j.width=B.width,j.height=B.height),re.clearRect(0,0,j.width,j.height),ie=ie.filter(function(rt){return Le(re,rt)}),ie.length?se=b.frame(je):Pe()}se=b.frame(je),fe=Pe});return{addFettis:function(He){return ie=ie.concat(He),ye},canvas:B,promise:ye,reset:function(){se&&b.cancel(se),fe&&fe()}}}function Ce(B,x){var q=!B,j=!!C(x||{},"resize"),Q=!1,ie=C(x,"disableForReducedMotion",Boolean),re=l&&!!C(x||{},"useWorker"),se=re?w():null,fe=q?U:Z,ye=B&&se?!!B.__confetti_initialized:!1,He=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Pe;function je(Se,ht,At){for(var Gt=C(Se,"particleCount",M),nn=C(Se,"angle",Number),yn=C(Se,"spread",Number),kt=C(Se,"startVelocity",Number),hr=C(Se,"decay",Number),Ol=C(Se,"gravity",Number),Pl=C(Se,"drift",Number),xt=C(Se,"colors",O),Ll=C(Se,"ticks",Number),pr=C(Se,"shapes"),Io=C(Se,"scalar"),ls=!!C(Se,"flat"),Mo=W(Se),mr=Gt,gr=[],Bl=B.width*Mo.x,Di=B.height*Mo.y;mr--;)gr.push(be({x:Bl,y:Di,angle:nn,spread:yn,startVelocity:kt,color:xt[mr%xt.length],shape:pr[L(0,pr.length)],ticks:Ll,decay:hr,gravity:Ol,drift:Pl,scalar:Io,flat:ls}));return Pe?Pe.addFettis(gr):(Pe=ue(B,gr,fe,ht,At),Pe.promise)}function rt(Se){var ht=ie||C(Se,"disableForReducedMotion",Boolean),At=C(Se,"zIndex",Number);if(ht&&He)return h(function(kt){kt()});q&&Pe?B=Pe.canvas:q&&!B&&(B=X(At),document.body.appendChild(B)),j&&!ye&&fe(B);var Gt={width:B.width,height:B.height};se&&!ye&&se.init(B),ye=!0,se&&(B.__confetti_initialized=!0);function nn(){if(se){var kt={getBoundingClientRect:function(){if(!q)return B.getBoundingClientRect()}};fe(kt),se.postMessage({resize:{width:kt.width,height:kt.height}});return}Gt.width=Gt.height=null}function yn(){Pe=null,j&&(Q=!1,e.removeEventListener("resize",nn)),q&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,ye=!1)}return j&&!Q&&(Q=!0,e.addEventListener("resize",nn,!1)),se?se.fire(Se,Gt,yn):je(Se,Gt,yn)}return rt.reset=function(){se&&se.reset(),Pe&&Pe.reset()},rt}var Ye;function $(){return Ye||(Ye=Ce(null,{useWorker:!0,resize:!0})),Ye}function te(B,x,q,j,Q,ie,re){var se=new Path2D(B),fe=new Path2D;fe.addPath(se,new DOMMatrix(x));var ye=new Path2D;return ye.addPath(fe,new DOMMatrix([Math.cos(re)*Q,Math.sin(re)*Q,-Math.sin(re)*ie,Math.cos(re)*ie,q,j])),ye}function pe(B){if(!c)throw new Error("path confetti are not supported in this browser");var x,q;typeof B=="string"?x=B:(x=B.path,q=B.matrix);var j=new Path2D(x),Q=document.createElement("canvas"),ie=Q.getContext("2d");if(!q){for(var re=1e3,se=re,fe=re,ye=0,He=0,Pe,je,rt=0;rt<re;rt+=2)for(var Se=0;Se<re;Se+=2)ie.isPointInPath(j,rt,Se,"nonzero")&&(se=Math.min(se,rt),fe=Math.min(fe,Se),ye=Math.max(ye,rt),He=Math.max(He,Se));Pe=ye-se,je=He-fe;var ht=10,At=Math.min(ht/Pe,ht/je);q=[At,0,0,At,-Math.round(Pe/2+se)*At,-Math.round(je/2+fe)*At]}return{type:"path",path:x,matrix:q}}function Oe(B){var x,q=1,j="#000000",Q='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?x=B:(x=B.text,q="scalar"in B?B.scalar:q,Q="fontFamily"in B?B.fontFamily:Q,j="color"in B?B.color:j);var ie=10*q,re=""+ie+"px "+Q,se=new OffscreenCanvas(ie,ie),fe=se.getContext("2d");fe.font=re;var ye=fe.measureText(x),He=Math.ceil(ye.actualBoundingBoxRight+ye.actualBoundingBoxLeft),Pe=Math.ceil(ye.actualBoundingBoxAscent+ye.actualBoundingBoxDescent),je=2,rt=ye.actualBoundingBoxLeft+je,Se=ye.actualBoundingBoxAscent+je;He+=je+je,Pe+=je+je,se=new OffscreenCanvas(He,Pe),fe=se.getContext("2d"),fe.font=re,fe.fillStyle=j,fe.fillText(x,rt,Se);var ht=1/q;return{type:"bitmap",bitmap:se.transferToImageBitmap(),matrix:[ht,0,0,ht,-He*ht/2,-Pe*ht/2]}}n.exports=function(){return $().apply(this,arguments)},n.exports.reset=function(){$().reset()},n.exports.create=Ce,n.exports.shapeFromPath=pe,n.exports.shapeFromText=Oe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),mf,!1);const Pk=mf.exports;mf.exports.create;const m_=D.createContext(void 0),Ul=()=>{const t=D.useContext(m_);if(!t)throw new Error("useCart must be used within CartProvider");return t},g_=D.createContext(void 0),Mt=()=>{const t=D.useContext(g_);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t},Lk=()=>{const t=tn();return D.useEffect(()=>{const e=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&o.target.classList.add("revealed")})},{threshold:.15});return document.querySelectorAll("[data-reveal]").forEach(s=>e.observe(s)),window.scrollTo(0,0),()=>e.disconnect()},[t]),null},Bk=({children:t})=>{const n=tn().pathname.startsWith("/admin"),{language:s}=Mt();return _.jsxs("div",{dir:s===ee.AR?"rtl":"ltr",className:`min-h-screen flex flex-col ${s===ee.AR?"font-arabic":"font-englishContent"}`,children:[!n&&_.jsx(Dk,{}),!n&&_.jsx(Ik,{}),!n&&_.jsx(Uk,{}),_.jsx("main",{className:"flex-grow",children:t}),!n&&_.jsx(kk,{}),!n&&_.jsx(Ok,{})]})},qk=()=>{const[t,e]=D.useState(()=>localStorage.getItem("talia_lang")||ee.AR),n=()=>{const b=t===ee.AR?ee.EN:ee.AR;e(b),localStorage.setItem("talia_lang",b)},[s,o]=D.useState(null),[l,c]=D.useState(()=>{const b=localStorage.getItem("talia_cart");return b?JSON.parse(b):[]});D.useEffect(()=>{localStorage.setItem("talia_cart",JSON.stringify(l))},[l]);const f=(b,w,E=1)=>{c(A=>A.find(C=>C.id===b.id&&C.selectedSize===w)?A.map(C=>C.id===b.id&&C.selectedSize===w?{...C,cartQuantity:C.cartQuantity+E}:C):[...A,{...b,selectedSize:w,cartQuantity:E}]),o(b),setTimeout(()=>o(null),3500),Pk({particleCount:80,spread:70,origin:{y:.8},colors:["#f472b6","#d4af37","#ffffff"],ticks:150})},p=(b,w)=>{c(E=>E.filter(A=>!(A.id===b&&A.selectedSize===w)))},h=()=>c([]),y=l.reduce((b,w)=>b+w.cartQuantity,0);return _.jsx(g_.Provider,{value:{language:t,t:Ng[t],toggleLanguage:n},children:_.jsx(m_.Provider,{value:{cart:l,addToCart:f,removeFromCart:p,clearCart:h,totalItems:y,lastAddedItem:s},children:_.jsxs(dE,{children:[_.jsx(Lk,{}),s&&_.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[200] w-[90%] max-w-sm animate-fadeInUp",children:_.jsxs("div",{className:"bg-white/95 backdrop-blur-md border border-blush/20 shadow-2xl p-4 rounded-2xl flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-16 rounded-lg overflow-hidden flex-shrink-0 border border-gray-100",children:_.jsx("img",{src:s.images[0],className:"w-full h-full object-cover",alt:""})}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("p",{className:"text-[10px] font-bold text-blush uppercase tracking-widest mb-1",children:t===ee.AR?"   ":"Added to Cart "}),_.jsx("p",{className:"text-xs font-bold text-gray-800 line-clamp-1",children:s.name})]}),_.jsx($e,{to:"/cart",className:"bg-blush text-white px-4 py-2 rounded-full text-[10px] font-bold hover:bg-taliaBlack transition-colors",children:Ng[t].cart})]})}),_.jsx(Bk,{children:_.jsxs(Qv,{children:[_.jsx(Ht,{path:"/",element:_.jsx(vk,{})}),_.jsx(Ht,{path:"/products",element:_.jsx(kv,{})}),_.jsx(Ht,{path:"/category/:category",element:_.jsx(kv,{})}),_.jsx(Ht,{path:"/product/:id",element:_.jsx(bk,{})}),_.jsx(Ht,{path:"/cart",element:_.jsx(wk,{})}),_.jsx(Ht,{path:"/wishlist",element:_.jsx(Ek,{})}),_.jsx(Ht,{path:"/checkout",element:_.jsx(Sk,{})}),_.jsx(Ht,{path:"/admin/login",element:_.jsx(xk,{})}),_.jsx(Ht,{path:"/admin/*",element:_.jsx(Tk,{})})]})})]})})})},y_=document.getElementById("root");if(!y_)throw new Error("Could not find root element to mount to");const Hk=$w.createRoot(y_);Hk.render(_.jsx(Uv.StrictMode,{children:_.jsx(qk,{})}));
