(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Dv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wc={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function US(){if(fg)return lo;fg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return lo.Fragment=e,lo.jsx=n,lo.jsxs=n,lo}var hg;function PS(){return hg||(hg=1,Wc.exports=US()),Wc.exports}var b=PS(),Qc={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function OS(){if(pg)return ve;pg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function M(T,q,j){this.props=T,this.context=q,this.refs=C,this.updater=j||A}M.prototype.isReactComponent={},M.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},M.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function O(){}O.prototype=M.prototype;function I(T,q,j){this.props=T,this.context=q,this.refs=C,this.updater=j||A}var V=I.prototype=new O;V.constructor=I,R(V,M.prototype),V.isPureReactComponent=!0;var X=Array.isArray;function K(){}var L={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function Q(T,q,j){var W=j.ref;return{$$typeof:t,type:T,key:q,ref:W!==void 0?W:null,props:j}}function re(T,q){return Q(T.type,q,T.props)}function _e(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function Pe(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(j){return q[j]})}var xe=/\/+/g;function qe(T,q){return typeof T=="object"&&T!==null&&T.key!=null?Pe(""+T.key):q.toString(36)}function Ze(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(K,K):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function B(T,q,j,W,te){var se=typeof T;(se==="undefined"||se==="boolean")&&(T=null);var ne=!1;if(T===null)ne=!0;else switch(se){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(T.$$typeof){case t:case e:ne=!0;break;case y:return ne=T._init,B(ne(T._payload),q,j,W,te)}}if(ne)return te=te(T),ne=W===""?"."+qe(T,0):W,X(te)?(j="",ne!=null&&(j=ne.replace(xe,"$&/")+"/"),B(te,q,j,"",function(Be){return Be})):te!=null&&(_e(te)&&(te=re(te,j+(te.key==null||T&&T.key===te.key?"":(""+te.key).replace(xe,"$&/")+"/")+ne)),q.push(te)),1;ne=0;var fe=W===""?".":W+":";if(X(T))for(var ge=0;ge<T.length;ge++)W=T[ge],se=fe+qe(W,ge),ne+=B(W,q,j,se,te);else if(ge=E(T),typeof ge=="function")for(T=ge.call(T),ge=0;!(W=T.next()).done;)W=W.value,se=fe+qe(W,ge++),ne+=B(W,q,j,se,te);else if(se==="object"){if(typeof T.then=="function")return B(Ze(T),q,j,W,te);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ne}function Z(T,q,j){if(T==null)return T;var W=[],te=0;return B(T,W,"","",function(se){return q.call(j,se,te++)}),W}function ce(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(j){(T._status===0||T._status===-1)&&(T._status=1,T._result=j)},function(j){(T._status===0||T._status===-1)&&(T._status=2,T._result=j)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var Ne=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},P={map:Z,forEach:function(T,q,j){Z(T,function(){q.apply(this,arguments)},j)},count:function(T){var q=0;return Z(T,function(){q++}),q},toArray:function(T){return Z(T,function(q){return q})||[]},only:function(T){if(!_e(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ve.Activity=_,ve.Children=P,ve.Component=M,ve.Fragment=n,ve.Profiler=o,ve.PureComponent=I,ve.StrictMode=s,ve.Suspense=h,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ve.__COMPILER_RUNTIME={__proto__:null,c:function(T){return L.H.useMemoCache(T)}},ve.cache=function(T){return function(){return T.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(T,q,j){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var W=R({},T.props),te=T.key;if(q!=null)for(se in q.key!==void 0&&(te=""+q.key),q)!ee.call(q,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&q.ref===void 0||(W[se]=q[se]);var se=arguments.length-2;if(se===1)W.children=j;else if(1<se){for(var ne=Array(se),fe=0;fe<se;fe++)ne[fe]=arguments[fe+2];W.children=ne}return Q(T.type,te,W)},ve.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},ve.createElement=function(T,q,j){var W,te={},se=null;if(q!=null)for(W in q.key!==void 0&&(se=""+q.key),q)ee.call(q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(te[W]=q[W]);var ne=arguments.length-2;if(ne===1)te.children=j;else if(1<ne){for(var fe=Array(ne),ge=0;ge<ne;ge++)fe[ge]=arguments[ge+2];te.children=fe}if(T&&T.defaultProps)for(W in ne=T.defaultProps,ne)te[W]===void 0&&(te[W]=ne[W]);return Q(T,se,te)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(T){return{$$typeof:f,render:T}},ve.isValidElement=_e,ve.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:ce}},ve.memo=function(T,q){return{$$typeof:m,type:T,compare:q===void 0?null:q}},ve.startTransition=function(T){var q=L.T,j={};L.T=j;try{var W=T(),te=L.S;te!==null&&te(j,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(K,Ne)}catch(se){Ne(se)}finally{q!==null&&j.types!==null&&(q.types=j.types),L.T=q}},ve.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ve.use=function(T){return L.H.use(T)},ve.useActionState=function(T,q,j){return L.H.useActionState(T,q,j)},ve.useCallback=function(T,q){return L.H.useCallback(T,q)},ve.useContext=function(T){return L.H.useContext(T)},ve.useDebugValue=function(){},ve.useDeferredValue=function(T,q){return L.H.useDeferredValue(T,q)},ve.useEffect=function(T,q){return L.H.useEffect(T,q)},ve.useEffectEvent=function(T){return L.H.useEffectEvent(T)},ve.useId=function(){return L.H.useId()},ve.useImperativeHandle=function(T,q,j){return L.H.useImperativeHandle(T,q,j)},ve.useInsertionEffect=function(T,q){return L.H.useInsertionEffect(T,q)},ve.useLayoutEffect=function(T,q){return L.H.useLayoutEffect(T,q)},ve.useMemo=function(T,q){return L.H.useMemo(T,q)},ve.useOptimistic=function(T,q){return L.H.useOptimistic(T,q)},ve.useReducer=function(T,q,j){return L.H.useReducer(T,q,j)},ve.useRef=function(T){return L.H.useRef(T)},ve.useState=function(T){return L.H.useState(T)},ve.useSyncExternalStore=function(T,q,j){return L.H.useSyncExternalStore(T,q,j)},ve.useTransition=function(){return L.H.useTransition()},ve.version="19.2.3",ve}var mg;function Fd(){return mg||(mg=1,Qc.exports=OS()),Qc.exports}var D=Fd();const Uv=Dv(D);var Zc={exports:{}},uo={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function LS(){return gg||(gg=1,(function(t){function e(B,Z){var ce=B.length;B.push(Z);e:for(;0<ce;){var Ne=ce-1>>>1,P=B[Ne];if(0<o(P,Z))B[Ne]=Z,B[ce]=P,ce=Ne;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var Z=B[0],ce=B.pop();if(ce!==Z){B[0]=ce;e:for(var Ne=0,P=B.length,T=P>>>1;Ne<T;){var q=2*(Ne+1)-1,j=B[q],W=q+1,te=B[W];if(0>o(j,ce))W<P&&0>o(te,j)?(B[Ne]=te,B[W]=ce,Ne=W):(B[Ne]=j,B[q]=ce,Ne=q);else if(W<P&&0>o(te,ce))B[Ne]=te,B[W]=ce,Ne=W;else break e}}return Z}function o(B,Z){var ce=B.sortIndex-Z.sortIndex;return ce!==0?ce:B.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],y=1,_=null,S=3,E=!1,A=!1,R=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function V(B){for(var Z=n(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=B)s(m),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(m)}}function X(B){if(R=!1,V(B),!A)if(n(h)!==null)A=!0,K||(K=!0,Pe());else{var Z=n(m);Z!==null&&Ze(X,Z.startTime-B)}}var K=!1,L=-1,ee=5,Q=-1;function re(){return C?!0:!(t.unstable_now()-Q<ee)}function _e(){if(C=!1,K){var B=t.unstable_now();Q=B;var Z=!0;try{e:{A=!1,R&&(R=!1,O(L),L=-1),E=!0;var ce=S;try{t:{for(V(B),_=n(h);_!==null&&!(_.expirationTime>B&&re());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,S=_.priorityLevel;var P=Ne(_.expirationTime<=B);if(B=t.unstable_now(),typeof P=="function"){_.callback=P,V(B),Z=!0;break t}_===n(h)&&s(h),V(B)}else s(h);_=n(h)}if(_!==null)Z=!0;else{var T=n(m);T!==null&&Ze(X,T.startTime-B),Z=!1}}break e}finally{_=null,S=ce,E=!1}Z=void 0}}finally{Z?Pe():K=!1}}}var Pe;if(typeof I=="function")Pe=function(){I(_e)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,qe=xe.port2;xe.port1.onmessage=_e,Pe=function(){qe.postMessage(null)}}else Pe=function(){M(_e,0)};function Ze(B,Z){L=M(function(){B(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(B){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var ce=S;S=Z;try{return B()}finally{S=ce}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=S;S=B;try{return Z()}finally{S=ce}},t.unstable_scheduleCallback=function(B,Z,ce){var Ne=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ne+ce:Ne):ce=Ne,B){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ce+P,B={id:y++,callback:Z,priorityLevel:B,startTime:ce,expirationTime:P,sortIndex:-1},ce>Ne?(B.sortIndex=ce,e(m,B),n(h)===null&&B===n(m)&&(R?(O(L),L=-1):R=!0,Ze(X,ce-Ne))):(B.sortIndex=P,e(h,B),A||E||(A=!0,K||(K=!0,Pe()))),B},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(B){var Z=S;return function(){var ce=S;S=Z;try{return B.apply(this,arguments)}finally{S=ce}}}})(td)),td}var yg;function qS(){return yg||(yg=1,ed.exports=LS()),ed.exports}var nd={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function BS(){if(vg)return xt;vg=1;var t=Fd();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(h,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:h,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xt.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,y)},xt.flushSync=function(h){var m=c.T,y=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=m,s.p=y,s.d.f()}},xt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},xt.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},xt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):y==="script"&&s.d.X(h,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},xt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin);s.d.L(h,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xt.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=f(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},xt.requestFormReset=function(h){s.d.r(h)},xt.unstable_batchedUpdates=function(h,m){return h(m)},xt.useFormState=function(h,m,y){return c.H.useFormState(h,m,y)},xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var _g;function GS(){if(_g)return nd.exports;_g=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nd.exports=BS(),nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function HS(){if(bg)return uo;bg=1;var t=qS(),e=Fd(),n=GS();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return h(g),i;if(v===u)return h(g),r;v=v.sibling}throw Error(s(188))}if(a.return!==u.return)a=g,u=v;else{for(var w=!1,x=g.child;x;){if(x===a){w=!0,a=g,u=v;break}if(x===u){w=!0,u=g,a=v;break}x=x.sibling}if(!w){for(x=v.child;x;){if(x===a){w=!0,a=v,u=g;break}if(x===u){w=!0,u=v,a=g;break}x=x.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),I=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Pe(i){return i===null||typeof i!="object"?null:(i=_e&&i[_e]||i["@@iterator"],typeof i=="function"?i:null)}var xe=Symbol.for("react.client.reference");function qe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===xe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case X:return"Suspense";case K:return"SuspenseList";case Q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case I:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case V:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return r=i.displayName||null,r!==null?r:qe(i.type)||"Memo";case ee:r=i._payload,i=i._init;try{return qe(i(r))}catch{}}return null}var Ze=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ne=[],P=-1;function T(i){return{current:i}}function q(i){0>P||(i.current=Ne[P],Ne[P]=null,P--)}function j(i,r){P++,Ne[P]=i.current,i.current=r}var W=T(null),te=T(null),se=T(null),ne=T(null);function fe(i,r){switch(j(se,r),j(te,i),j(W,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Pm(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Pm(r),i=Om(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(W),j(W,i)}function ge(){q(W),q(te),q(se)}function Be(i){i.memoizedState!==null&&j(ne,i);var r=W.current,a=Om(r,i.type);r!==a&&(j(te,i),j(W,a))}function Ue(i){te.current===i&&(q(W),q(te)),ne.current===i&&(q(ne),so._currentValue=ce)}var $e,rt;function Se(i){if($e===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);$e=r&&r[1]||"",rt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+i+rt}var ht=!1;function At(i,r){if(!i||ht)return"";ht=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch($){var z=$}Reflect.construct(i,[],Y)}else{try{Y.call()}catch($){z=$}i.call(Y.prototype)}}else{try{throw Error()}catch($){z=$}(Y=i())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch($){if($&&z&&typeof $.stack=="string")return[$.stack,z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),w=v[0],x=v[1];if(w&&x){var N=w.split(`
`),H=x.split(`
`);for(g=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(u===N.length||g===H.length)for(u=N.length-1,g=H.length-1;1<=u&&0<=g&&N[u]!==H[g];)g--;for(;1<=u&&0<=g;u--,g--)if(N[u]!==H[g]){if(u!==1||g!==1)do if(u--,g--,0>g||N[u]!==H[g]){var F=`
`+N[u].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=u&&0<=g);break}}}finally{ht=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Se(a):""}function Ht(i,r){switch(i.tag){case 26:case 27:case 5:return Se(i.type);case 16:return Se("Lazy");case 13:return i.child!==r&&r!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return At(i.type,!1);case 11:return At(i.type.render,!1);case 1:return At(i.type,!0);case 31:return Se("Activity");default:return""}}function nn(i){try{var r="",a=null;do r+=Ht(i,a),a=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var yn=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,hr=t.unstable_cancelCallback,Pl=t.unstable_shouldYield,Ol=t.unstable_requestPaint,Tt=t.unstable_now,Ll=t.unstable_getCurrentPriorityLevel,pr=t.unstable_ImmediatePriority,No=t.unstable_UserBlockingPriority,ls=t.unstable_NormalPriority,Io=t.unstable_LowPriority,mr=t.unstable_IdlePriority,gr=t.log,ql=t.unstable_setDisableYieldValue,Di=null,zt=null;function ii(i){if(typeof gr=="function"&&ql(i),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Di,i)}catch{}}var Vt=Math.clz32?Math.clz32:b_,v_=Math.log,__=Math.LN2;function b_(i){return i>>>=0,i===0?32:31-(v_(i)/__|0)|0}var Mo=256,ko=262144,Do=4194304;function Ui(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Uo(i,r,a){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var x=u&134217727;return x!==0?(u=x&~v,u!==0?g=Ui(u):(w&=x,w!==0?g=Ui(w):a||(a=x&~i,a!==0&&(g=Ui(a))))):(x=u&~v,x!==0?g=Ui(x):w!==0?g=Ui(w):a||(a=u&~i,a!==0&&(g=Ui(a)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,a=r&-r,v>=a||v===32&&(a&4194048)!==0)?r:g}function yr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function S_(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gf(){var i=Do;return Do<<=1,(Do&62914560)===0&&(Do=4194304),i}function Bl(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function vr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function w_(i,r,a,u,g,v){var w=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var x=i.entanglements,N=i.expirationTimes,H=i.hiddenUpdates;for(a=w&~a;0<a;){var F=31-Vt(a),Y=1<<F;x[F]=0,N[F]=-1;var z=H[F];if(z!==null)for(H[F]=null,F=0;F<z.length;F++){var $=z[F];$!==null&&($.lane&=-536870913)}a&=~Y}u!==0&&yf(i,u,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(w&~r))}function yf(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Vt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function vf(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Vt(a),g=1<<u;g&r|i[u]&r&&(i[u]|=r),a&=~g}}function _f(i,r){var a=r&-r;return a=(a&42)!==0?1:Gl(a),(a&(i.suspendedLanes|r))!==0?0:a}function Gl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Hl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function bf(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:rg(i.type))}function Sf(i,r){var a=Z.p;try{return Z.p=i,r()}finally{Z.p=a}}var si=Math.random().toString(36).slice(2),yt="__reactFiber$"+si,Dt="__reactProps$"+si,us="__reactContainer$"+si,zl="__reactEvents$"+si,E_="__reactListeners$"+si,T_="__reactHandles$"+si,wf="__reactResources$"+si,_r="__reactMarker$"+si;function Vl(i){delete i[yt],delete i[Dt],delete i[zl],delete i[E_],delete i[T_]}function cs(i){var r=i[yt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[us]||a[yt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=Vm(i);i!==null;){if(a=i[yt])return a;i=Vm(i)}return r}i=a,a=i.parentNode}return null}function ds(i){if(i=i[yt]||i[us]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function br(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function fs(i){var r=i[wf];return r||(r=i[wf]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(i){i[_r]=!0}var Ef=new Set,Tf={};function Pi(i,r){hs(i,r),hs(i+"Capture",r)}function hs(i,r){for(Tf[i]=r,i=0;i<r.length;i++)Ef.add(r[i])}var x_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xf={},Cf={};function C_(i){return yn.call(Cf,i)?!0:yn.call(xf,i)?!1:x_.test(i)?Cf[i]=!0:(xf[i]=!0,!1)}function Po(i,r,a){if(C_(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Oo(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function kn(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Af(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function A_(i,r,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(w){a=""+w,v.call(this,w)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $l(i){if(!i._valueTracker){var r=Af(i)?"checked":"value";i._valueTracker=A_(i,r,""+i[r])}}function Rf(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=Af(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function Lo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var R_=/[\n"\\]/g;function rn(i){return i.replace(R_,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fl(i,r,a,u,g,v,w,x){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+sn(r)):i.value!==""+sn(r)&&(i.value=""+sn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?jl(i,w,sn(r)):a!=null?jl(i,w,sn(a)):u!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+sn(x):i.removeAttribute("name")}function Nf(i,r,a,u,g,v,w,x){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){$l(i);return}a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,x||r===i.value||(i.value=r),i.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=x?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),$l(i)}function jl(i,r,a){r==="number"&&Lo(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ps(i,r,a,u){if(i=i.options,r){r={};for(var g=0;g<a.length;g++)r["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=r.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&u&&(i[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function If(i,r,a){if(r!=null&&(r=""+sn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+sn(a):""}function Mf(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Ze(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=sn(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),$l(i)}function ms(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var N_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kf(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||N_.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Df(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&a[g]!==u&&kf(i,g,u)}else for(var v in r)r.hasOwnProperty(v)&&kf(i,v,r[v])}function Jl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),M_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(i){return M_.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Dn(){}var Yl=null;function Kl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gs=null,ys=null;function Uf(i){var r=ds(i);if(r&&(i=r.stateNode)){var a=i[Dt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Fl(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var g=u[Dt]||null;if(!g)throw Error(s(90));Fl(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&Rf(u)}break e;case"textarea":If(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ps(i,!!a.multiple,r,!1)}}}var Xl=!1;function Pf(i,r,a){if(Xl)return i(r,a);Xl=!0;try{var u=i(r);return u}finally{if(Xl=!1,(gs!==null||ys!==null)&&(xa(),gs&&(r=gs,i=ys,ys=gs=null,Uf(r),i)))for(r=0;r<i.length;r++)Uf(i[r])}}function Sr(i,r){var a=i.stateNode;if(a===null)return null;var u=a[Dt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(Un)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Wl=!1}var ri=null,Ql=null,Bo=null;function Of(){if(Bo)return Bo;var i,r=Ql,a=r.length,u,g="value"in ri?ri.value:ri.textContent,v=g.length;for(i=0;i<a&&r[i]===g[i];i++);var w=a-i;for(u=1;u<=w&&r[a-u]===g[v-u];u++);return Bo=g.slice(i,1<u?1-u:void 0)}function Go(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ho(){return!0}function Lf(){return!1}function Ut(i){function r(a,u,g,v,w){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(a=i[x],this[x]=a?a(v):v[x]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ho:Lf,this.isPropagationStopped=Lf,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),r}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=Ut(Oi),Er=_({},Oi,{view:0,detail:0}),k_=Ut(Er),Zl,eu,Tr,Vo=_({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Tr&&(Tr&&i.type==="mousemove"?(Zl=i.screenX-Tr.screenX,eu=i.screenY-Tr.screenY):eu=Zl=0,Tr=i),Zl)},movementY:function(i){return"movementY"in i?i.movementY:eu}}),qf=Ut(Vo),D_=_({},Vo,{dataTransfer:0}),U_=Ut(D_),P_=_({},Er,{relatedTarget:0}),tu=Ut(P_),O_=_({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=Ut(O_),q_=_({},Oi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),B_=Ut(q_),G_=_({},Oi,{data:0}),Bf=Ut(G_),H_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $_(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=V_[i])?!!r[i]:!1}function nu(){return $_}var F_=_({},Er,{key:function(i){if(i.key){var r=H_[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Go(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?z_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(i){return i.type==="keypress"?Go(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Go(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),j_=Ut(F_),J_=_({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Ut(J_),Y_=_({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),K_=Ut(Y_),X_=_({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),W_=Ut(X_),Q_=_({},Vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z_=Ut(Q_),eb=_({},Oi,{newState:0,oldState:0}),tb=Ut(eb),nb=[9,13,27,32],iu=Un&&"CompositionEvent"in window,xr=null;Un&&"documentMode"in document&&(xr=document.documentMode);var ib=Un&&"TextEvent"in window&&!xr,Hf=Un&&(!iu||xr&&8<xr&&11>=xr),zf=" ",Vf=!1;function $f(i,r){switch(i){case"keyup":return nb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ff(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vs=!1;function sb(i,r){switch(i){case"compositionend":return Ff(r);case"keypress":return r.which!==32?null:(Vf=!0,zf);case"textInput":return i=r.data,i===zf&&Vf?null:i;default:return null}}function rb(i,r){if(vs)return i==="compositionend"||!iu&&$f(i,r)?(i=Of(),Bo=Ql=ri=null,vs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hf&&r.locale!=="ko"?null:r.data;default:return null}}var ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ob[i.type]:r==="textarea"}function Jf(i,r,a,u){gs?ys?ys.push(u):ys=[u]:gs=u,r=ka(r,"onChange"),0<r.length&&(a=new zo("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Cr=null,Ar=null;function ab(i){Nm(i,0)}function $o(i){var r=br(i);if(Rf(r))return i}function Yf(i,r){if(i==="change")return r}var Kf=!1;if(Un){var su;if(Un){var ru="oninput"in document;if(!ru){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),ru=typeof Xf.oninput=="function"}su=ru}else su=!1;Kf=su&&(!document.documentMode||9<document.documentMode)}function Wf(){Cr&&(Cr.detachEvent("onpropertychange",Qf),Ar=Cr=null)}function Qf(i){if(i.propertyName==="value"&&$o(Ar)){var r=[];Jf(r,Ar,i,Kl(i)),Pf(ab,r)}}function lb(i,r,a){i==="focusin"?(Wf(),Cr=r,Ar=a,Cr.attachEvent("onpropertychange",Qf)):i==="focusout"&&Wf()}function ub(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $o(Ar)}function cb(i,r){if(i==="click")return $o(r)}function db(i,r){if(i==="input"||i==="change")return $o(r)}function fb(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var $t=typeof Object.is=="function"?Object.is:fb;function Rr(i,r){if($t(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!yn.call(r,g)||!$t(i[g],r[g]))return!1}return!0}function Zf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function eh(i,r){var a=Zf(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zf(a)}}function th(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?th(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function nh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Lo(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Lo(i.document)}return r}function ou(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var hb=Un&&"documentMode"in document&&11>=document.documentMode,_s=null,au=null,Nr=null,lu=!1;function ih(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lu||_s==null||_s!==Lo(u)||(u=_s,"selectionStart"in u&&ou(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nr&&Rr(Nr,u)||(Nr=u,u=ka(au,"onSelect"),0<u.length&&(r=new zo("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=_s)))}function Li(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var bs={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},uu={},sh={};Un&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function qi(i){if(uu[i])return uu[i];if(!bs[i])return i;var r=bs[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in sh)return uu[i]=r[a];return i}var rh=qi("animationend"),oh=qi("animationiteration"),ah=qi("animationstart"),pb=qi("transitionrun"),mb=qi("transitionstart"),gb=qi("transitioncancel"),lh=qi("transitionend"),uh=new Map,cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cu.push("scrollEnd");function vn(i,r){uh.set(i,r),Pi(r,[i])}var Fo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},on=[],Ss=0,du=0;function jo(){for(var i=Ss,r=du=Ss=0;r<i;){var a=on[r];on[r++]=null;var u=on[r];on[r++]=null;var g=on[r];on[r++]=null;var v=on[r];if(on[r++]=null,u!==null&&g!==null){var w=u.pending;w===null?g.next=g:(g.next=w.next,w.next=g),u.pending=g}v!==0&&ch(a,g,v)}}function Jo(i,r,a,u){on[Ss++]=i,on[Ss++]=r,on[Ss++]=a,on[Ss++]=u,du|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function fu(i,r,a,u){return Jo(i,r,a,u),Yo(i)}function Bi(i,r){return Jo(i,null,null,r),Yo(i)}function ch(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var g=!1,v=i.return;v!==null;)v.childLanes|=a,u=v.alternate,u!==null&&(u.childLanes|=a),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-Vt(a),i=v.hiddenUpdates,u=i[g],u===null?i[g]=[r]:u.push(r),r.lane=a|536870912),v):null}function Yo(i){if(50<Wr)throw Wr=0,Sc=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ws={};function yb(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(i,r,a,u){return new yb(i,r,a,u)}function hu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pn(i,r){var a=i.alternate;return a===null?(a=Ft(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function dh(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ko(i,r,a,u,g,v){var w=0;if(u=i,typeof i=="function")hu(i)&&(w=1);else if(typeof i=="string")w=wS(i,a,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Q:return i=Ft(31,a,r,g),i.elementType=Q,i.lanes=v,i;case R:return Gi(a.children,g,v,r);case C:w=8,g|=24;break;case M:return i=Ft(12,a,r,g|2),i.elementType=M,i.lanes=v,i;case X:return i=Ft(13,a,r,g),i.elementType=X,i.lanes=v,i;case K:return i=Ft(19,a,r,g),i.elementType=K,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:w=10;break e;case O:w=9;break e;case V:w=11;break e;case L:w=14;break e;case ee:w=16,u=null;break e}w=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Ft(w,a,r,g),r.elementType=i,r.type=u,r.lanes=v,r}function Gi(i,r,a,u){return i=Ft(7,i,u,r),i.lanes=a,i}function pu(i,r,a){return i=Ft(6,i,null,r),i.lanes=a,i}function fh(i){var r=Ft(18,null,null,0);return r.stateNode=i,r}function mu(i,r,a){return r=Ft(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var hh=new WeakMap;function an(i,r){if(typeof i=="object"&&i!==null){var a=hh.get(i);return a!==void 0?a:(r={value:i,source:r,stack:nn(r)},hh.set(i,r),r)}return{value:i,source:r,stack:nn(r)}}var Es=[],Ts=0,Xo=null,Ir=0,ln=[],un=0,oi=null,An=1,Rn="";function On(i,r){Es[Ts++]=Ir,Es[Ts++]=Xo,Xo=i,Ir=r}function ph(i,r,a){ln[un++]=An,ln[un++]=Rn,ln[un++]=oi,oi=i;var u=An;i=Rn;var g=32-Vt(u)-1;u&=~(1<<g),a+=1;var v=32-Vt(r)+g;if(30<v){var w=g-g%5;v=(u&(1<<w)-1).toString(32),u>>=w,g-=w,An=1<<32-Vt(r)+g|a<<g|u,Rn=v+i}else An=1<<v|a<<g|u,Rn=i}function gu(i){i.return!==null&&(On(i,1),ph(i,1,0))}function yu(i){for(;i===Xo;)Xo=Es[--Ts],Es[Ts]=null,Ir=Es[--Ts],Es[Ts]=null;for(;i===oi;)oi=ln[--un],ln[un]=null,Rn=ln[--un],ln[un]=null,An=ln[--un],ln[un]=null}function mh(i,r){ln[un++]=An,ln[un++]=Rn,ln[un++]=oi,An=r.id,Rn=r.overflow,oi=i}var vt=null,Je=null,Re=!1,ai=null,cn=!1,vu=Error(s(519));function li(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mr(an(r,i)),vu}function gh(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[yt]=i,r[Dt]=u,a){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(a=0;a<Zr.length;a++)Te(Zr[a],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Te("invalid",r),Nf(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Te("invalid",r);break;case"textarea":Te("invalid",r),Mf(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||Dm(r.textContent,a)?(u.popover!=null&&(Te("beforetoggle",r),Te("toggle",r)),u.onScroll!=null&&Te("scroll",r),u.onScrollEnd!=null&&Te("scrollend",r),u.onClick!=null&&(r.onclick=Dn),r=!0):r=!1,r||li(i,!0)}function yh(i){for(vt=i.return;vt;)switch(vt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:vt=vt.return}}function xs(i){if(i!==vt)return!1;if(!Re)return yh(i),Re=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Oc(i.type,i.memoizedProps)),a=!a),a&&Je&&li(i),yh(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Je=zm(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Je=zm(i)}else r===27?(r=Je,wi(i.type)?(i=Hc,Hc=null,Je=i):Je=r):Je=vt?fn(i.stateNode.nextSibling):null;return!0}function Hi(){Je=vt=null,Re=!1}function _u(){var i=ai;return i!==null&&(qt===null?qt=i:qt.push.apply(qt,i),ai=null),i}function Mr(i){ai===null?ai=[i]:ai.push(i)}var bu=T(null),zi=null,Ln=null;function ui(i,r,a){j(bu,r._currentValue),r._currentValue=a}function qn(i){i._currentValue=bu.current,q(bu)}function Su(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function wu(i,r,a,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var w=g.child;v=v.firstContext;e:for(;v!==null;){var x=v;v=g;for(var N=0;N<r.length;N++)if(x.context===r[N]){v.lanes|=a,x=v.alternate,x!==null&&(x.lanes|=a),Su(v.return,a,i),u||(w=null);break e}v=x.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(s(341));w.lanes|=a,v=w.alternate,v!==null&&(v.lanes|=a),Su(w,a,i),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Cs(i,r,a,u){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var x=g.type;$t(g.pendingProps.value,w.value)||(i!==null?i.push(x):i=[x])}}else if(g===ne.current){if(w=g.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(so):i=[so])}g=g.return}i!==null&&wu(r,i,a,u),r.flags|=262144}function Wo(i){for(i=i.firstContext;i!==null;){if(!$t(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vi(i){zi=i,Ln=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _t(i){return vh(zi,i)}function Qo(i,r){return zi===null&&Vi(i),vh(i,r)}function vh(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ln===null){if(i===null)throw Error(s(308));Ln=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ln=Ln.next=r;return a}var vb=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},_b=t.unstable_scheduleCallback,bb=t.unstable_NormalPriority,ot={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new vb,data:new Map,refCount:0}}function kr(i){i.refCount--,i.refCount===0&&_b(bb,function(){i.controller.abort()})}var Dr=null,Tu=0,As=0,Rs=null;function Sb(i,r){if(Dr===null){var a=Dr=[];Tu=0,As=Ac(),Rs={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Tu++,r.then(_h,_h),r}function _h(){if(--Tu===0&&Dr!==null){Rs!==null&&(Rs.status="fulfilled");var i=Dr;Dr=null,As=0,Rs=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function wb(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<a.length;g++)(0,a[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var bh=B.S;B.S=function(i,r){im=Tt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Sb(i,r),bh!==null&&bh(i,r)};var $i=T(null);function xu(){var i=$i.current;return i!==null?i:Ve.pooledCache}function Zo(i,r){r===null?j($i,$i.current):j($i,r.pool)}function Sh(){var i=xu();return i===null?null:{parent:ot._currentValue,pool:i}}var Ns=Error(s(460)),Cu=Error(s(474)),ea=Error(s(542)),ta={then:function(){}};function wh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Eh(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Dn,Dn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,xh(i),i;default:if(typeof r.status=="string")r.then(Dn,Dn);else{if(i=Ve,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,xh(i),i}throw ji=r,Ns}}function Fi(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ji=a,Ns):a}}var ji=null;function Th(){if(ji===null)throw Error(s(459));var i=ji;return ji=null,i}function xh(i){if(i===Ns||i===ea)throw Error(s(483))}var Is=null,Ur=0;function na(i){var r=Ur;return Ur+=1,Is===null&&(Is=[]),Eh(Is,i,r)}function Pr(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ia(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ch(i){function r(U,k){if(i){var G=U.deletions;G===null?(U.deletions=[k],U.flags|=16):G.push(k)}}function a(U,k){if(!i)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function u(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function g(U,k){return U=Pn(U,k),U.index=0,U.sibling=null,U}function v(U,k,G){return U.index=G,i?(G=U.alternate,G!==null?(G=G.index,G<k?(U.flags|=67108866,k):G):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function w(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function x(U,k,G,J){return k===null||k.tag!==6?(k=pu(G,U.mode,J),k.return=U,k):(k=g(k,G),k.return=U,k)}function N(U,k,G,J){var de=G.type;return de===R?F(U,k,G.props.children,J,G.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&Fi(de)===k.type)?(k=g(k,G.props),Pr(k,G),k.return=U,k):(k=Ko(G.type,G.key,G.props,null,U.mode,J),Pr(k,G),k.return=U,k)}function H(U,k,G,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==G.containerInfo||k.stateNode.implementation!==G.implementation?(k=mu(G,U.mode,J),k.return=U,k):(k=g(k,G.children||[]),k.return=U,k)}function F(U,k,G,J,de){return k===null||k.tag!==7?(k=Gi(G,U.mode,J,de),k.return=U,k):(k=g(k,G),k.return=U,k)}function Y(U,k,G){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=pu(""+k,U.mode,G),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return G=Ko(k.type,k.key,k.props,null,U.mode,G),Pr(G,k),G.return=U,G;case A:return k=mu(k,U.mode,G),k.return=U,k;case ee:return k=Fi(k),Y(U,k,G)}if(Ze(k)||Pe(k))return k=Gi(k,U.mode,G,null),k.return=U,k;if(typeof k.then=="function")return Y(U,na(k),G);if(k.$$typeof===I)return Y(U,Qo(U,k),G);ia(U,k)}return null}function z(U,k,G,J){var de=k!==null?k.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return de!==null?null:x(U,k,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===de?N(U,k,G,J):null;case A:return G.key===de?H(U,k,G,J):null;case ee:return G=Fi(G),z(U,k,G,J)}if(Ze(G)||Pe(G))return de!==null?null:F(U,k,G,J,null);if(typeof G.then=="function")return z(U,k,na(G),J);if(G.$$typeof===I)return z(U,k,Qo(U,G),J);ia(U,G)}return null}function $(U,k,G,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(G)||null,x(k,U,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return U=U.get(J.key===null?G:J.key)||null,N(k,U,J,de);case A:return U=U.get(J.key===null?G:J.key)||null,H(k,U,J,de);case ee:return J=Fi(J),$(U,k,G,J,de)}if(Ze(J)||Pe(J))return U=U.get(G)||null,F(k,U,J,de,null);if(typeof J.then=="function")return $(U,k,G,na(J),de);if(J.$$typeof===I)return $(U,k,G,Qo(k,J),de);ia(k,J)}return null}function ae(U,k,G,J){for(var de=null,Ie=null,le=k,we=k=0,Ae=null;le!==null&&we<G.length;we++){le.index>we?(Ae=le,le=null):Ae=le.sibling;var Me=z(U,le,G[we],J);if(Me===null){le===null&&(le=Ae);break}i&&le&&Me.alternate===null&&r(U,le),k=v(Me,k,we),Ie===null?de=Me:Ie.sibling=Me,Ie=Me,le=Ae}if(we===G.length)return a(U,le),Re&&On(U,we),de;if(le===null){for(;we<G.length;we++)le=Y(U,G[we],J),le!==null&&(k=v(le,k,we),Ie===null?de=le:Ie.sibling=le,Ie=le);return Re&&On(U,we),de}for(le=u(le);we<G.length;we++)Ae=$(le,U,we,G[we],J),Ae!==null&&(i&&Ae.alternate!==null&&le.delete(Ae.key===null?we:Ae.key),k=v(Ae,k,we),Ie===null?de=Ae:Ie.sibling=Ae,Ie=Ae);return i&&le.forEach(function(Ai){return r(U,Ai)}),Re&&On(U,we),de}function he(U,k,G,J){if(G==null)throw Error(s(151));for(var de=null,Ie=null,le=k,we=k=0,Ae=null,Me=G.next();le!==null&&!Me.done;we++,Me=G.next()){le.index>we?(Ae=le,le=null):Ae=le.sibling;var Ai=z(U,le,Me.value,J);if(Ai===null){le===null&&(le=Ae);break}i&&le&&Ai.alternate===null&&r(U,le),k=v(Ai,k,we),Ie===null?de=Ai:Ie.sibling=Ai,Ie=Ai,le=Ae}if(Me.done)return a(U,le),Re&&On(U,we),de;if(le===null){for(;!Me.done;we++,Me=G.next())Me=Y(U,Me.value,J),Me!==null&&(k=v(Me,k,we),Ie===null?de=Me:Ie.sibling=Me,Ie=Me);return Re&&On(U,we),de}for(le=u(le);!Me.done;we++,Me=G.next())Me=$(le,U,we,Me.value,J),Me!==null&&(i&&Me.alternate!==null&&le.delete(Me.key===null?we:Me.key),k=v(Me,k,we),Ie===null?de=Me:Ie.sibling=Me,Ie=Me);return i&&le.forEach(function(DS){return r(U,DS)}),Re&&On(U,we),de}function ze(U,k,G,J){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var de=G.key;k!==null;){if(k.key===de){if(de=G.type,de===R){if(k.tag===7){a(U,k.sibling),J=g(k,G.props.children),J.return=U,U=J;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&Fi(de)===k.type){a(U,k.sibling),J=g(k,G.props),Pr(J,G),J.return=U,U=J;break e}a(U,k);break}else r(U,k);k=k.sibling}G.type===R?(J=Gi(G.props.children,U.mode,J,G.key),J.return=U,U=J):(J=Ko(G.type,G.key,G.props,null,U.mode,J),Pr(J,G),J.return=U,U=J)}return w(U);case A:e:{for(de=G.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===G.containerInfo&&k.stateNode.implementation===G.implementation){a(U,k.sibling),J=g(k,G.children||[]),J.return=U,U=J;break e}else{a(U,k);break}else r(U,k);k=k.sibling}J=mu(G,U.mode,J),J.return=U,U=J}return w(U);case ee:return G=Fi(G),ze(U,k,G,J)}if(Ze(G))return ae(U,k,G,J);if(Pe(G)){if(de=Pe(G),typeof de!="function")throw Error(s(150));return G=de.call(G),he(U,k,G,J)}if(typeof G.then=="function")return ze(U,k,na(G),J);if(G.$$typeof===I)return ze(U,k,Qo(U,G),J);ia(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,k!==null&&k.tag===6?(a(U,k.sibling),J=g(k,G),J.return=U,U=J):(a(U,k),J=pu(G,U.mode,J),J.return=U,U=J),w(U)):a(U,k)}return function(U,k,G,J){try{Ur=0;var de=ze(U,k,G,J);return Is=null,de}catch(le){if(le===Ns||le===ea)throw le;var Ie=Ft(29,le,null,U.mode);return Ie.lanes=J,Ie.return=U,Ie}finally{}}}var Ji=Ch(!0),Ah=Ch(!1),ci=!1;function Au(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function di(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fi(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Yo(i),ch(i,null,a),r}return Jo(i,u,r,a),Yo(i)}function Or(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,vf(i,a)}}function Nu(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=w:v=v.next=w,a=a.next}while(a!==null);v===null?g=v=r:v=v.next=r}else g=v=r;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Iu=!1;function Lr(){if(Iu){var i=Rs;if(i!==null)throw i}}function qr(i,r,a,u){Iu=!1;var g=i.updateQueue;ci=!1;var v=g.firstBaseUpdate,w=g.lastBaseUpdate,x=g.shared.pending;if(x!==null){g.shared.pending=null;var N=x,H=N.next;N.next=null,w===null?v=H:w.next=H,w=N;var F=i.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==w&&(x===null?F.firstBaseUpdate=H:x.next=H,F.lastBaseUpdate=N))}if(v!==null){var Y=g.baseState;w=0,F=H=N=null,x=v;do{var z=x.lane&-536870913,$=z!==x.lane;if($?(Ce&z)===z:(u&z)===z){z!==0&&z===As&&(Iu=!0),F!==null&&(F=F.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ae=i,he=x;z=r;var ze=a;switch(he.tag){case 1:if(ae=he.payload,typeof ae=="function"){Y=ae.call(ze,Y,z);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=he.payload,z=typeof ae=="function"?ae.call(ze,Y,z):ae,z==null)break e;Y=_({},Y,z);break e;case 2:ci=!0}}z=x.callback,z!==null&&(i.flags|=64,$&&(i.flags|=8192),$=g.callbacks,$===null?g.callbacks=[z]:$.push(z))}else $={lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(H=F=$,N=Y):F=F.next=$,w|=z;if(x=x.next,x===null){if(x=g.shared.pending,x===null)break;$=x,x=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);F===null&&(N=Y),g.baseState=N,g.firstBaseUpdate=H,g.lastBaseUpdate=F,v===null&&(g.shared.lanes=0),yi|=w,i.lanes=w,i.memoizedState=Y}}function Rh(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Nh(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Rh(a[i],r)}var Ms=T(null),sa=T(0);function Ih(i,r){i=Jn,j(sa,i),j(Ms,r),Jn=i|r.baseLanes}function Mu(){j(sa,Jn),j(Ms,Ms.current)}function ku(){Jn=sa.current,q(Ms),q(sa)}var jt=T(null),dn=null;function hi(i){var r=i.alternate;j(it,it.current&1),j(jt,i),dn===null&&(r===null||Ms.current!==null||r.memoizedState!==null)&&(dn=i)}function Du(i){j(it,it.current),j(jt,i),dn===null&&(dn=i)}function Mh(i){i.tag===22?(j(it,it.current),j(jt,i),dn===null&&(dn=i)):pi()}function pi(){j(it,it.current),j(jt,jt.current)}function Jt(i){q(jt),dn===i&&(dn=null),q(it)}var it=T(0);function ra(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bc(a)||Gc(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bn=0,be=null,Ge=null,at=null,oa=!1,ks=!1,Yi=!1,aa=0,Br=0,Ds=null,Eb=0;function et(){throw Error(s(321))}function Uu(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!$t(i[a],r[a]))return!1;return!0}function Pu(i,r,a,u,g,v){return Bn=v,be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=i===null||i.memoizedState===null?pp:Xu,Yi=!1,v=a(u,g),Yi=!1,ks&&(v=Dh(r,a,u,g)),kh(i),v}function kh(i){B.H=zr;var r=Ge!==null&&Ge.next!==null;if(Bn=0,at=Ge=be=null,oa=!1,Br=0,Ds=null,r)throw Error(s(300));i===null||lt||(i=i.dependencies,i!==null&&Wo(i)&&(lt=!0))}function Dh(i,r,a,u){be=i;var g=0;do{if(ks&&(Ds=null),Br=0,ks=!1,25<=g)throw Error(s(301));if(g+=1,at=Ge=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=mp,v=r(a,u)}while(ks);return v}function Tb(){var i=B.H,r=i.useState()[0];return r=typeof r.then=="function"?Gr(r):r,i=i.useState()[0],(Ge!==null?Ge.memoizedState:null)!==i&&(be.flags|=1024),r}function Ou(){var i=aa!==0;return aa=0,i}function Lu(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function qu(i){if(oa){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}oa=!1}Bn=0,at=Ge=be=null,ks=!1,Br=aa=0,Ds=null}function Rt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?be.memoizedState=at=i:at=at.next=i,at}function st(){if(Ge===null){var i=be.alternate;i=i!==null?i.memoizedState:null}else i=Ge.next;var r=at===null?be.memoizedState:at.next;if(r!==null)at=r,Ge=i;else{if(i===null)throw be.alternate===null?Error(s(467)):Error(s(310));Ge=i,i={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},at===null?be.memoizedState=at=i:at=at.next=i}return at}function la(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gr(i){var r=Br;return Br+=1,Ds===null&&(Ds=[]),i=Eh(Ds,i,r),r=be,(at===null?r.memoizedState:at.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?pp:Xu),i}function ua(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Gr(i);if(i.$$typeof===I)return _t(i)}throw Error(s(438,String(i)))}function Bu(i){var r=null,a=be.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=la(),be.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=re;return r.index++,a}function Gn(i,r){return typeof r=="function"?r(i):r}function ca(i){var r=st();return Gu(r,Ge,i)}function Gu(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var g=i.baseQueue,v=u.pending;if(v!==null){if(g!==null){var w=g.next;g.next=v.next,v.next=w}r.baseQueue=g=v,u.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var x=w=null,N=null,H=r,F=!1;do{var Y=H.lane&-536870913;if(Y!==H.lane?(Ce&Y)===Y:(Bn&Y)===Y){var z=H.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Y===As&&(F=!0);else if((Bn&z)===z){H=H.next,z===As&&(F=!0);continue}else Y={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(x=N=Y,w=v):N=N.next=Y,be.lanes|=z,yi|=z;Y=H.action,Yi&&a(v,Y),v=H.hasEagerState?H.eagerState:a(v,Y)}else z={lane:Y,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(x=N=z,w=v):N=N.next=z,be.lanes|=Y,yi|=Y;H=H.next}while(H!==null&&H!==r);if(N===null?w=v:N.next=x,!$t(v,i.memoizedState)&&(lt=!0,F&&(a=Rs,a!==null)))throw a;i.memoizedState=v,i.baseState=w,i.baseQueue=N,u.lastRenderedState=v}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Hu(i){var r=st(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,g=a.pending,v=r.memoizedState;if(g!==null){a.pending=null;var w=g=g.next;do v=i(v,w.action),w=w.next;while(w!==g);$t(v,r.memoizedState)||(lt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),a.lastRenderedState=v}return[v,u]}function Uh(i,r,a){var u=be,g=st(),v=Re;if(v){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!$t((Ge||g).memoizedState,a);if(w&&(g.memoizedState=a,lt=!0),g=g.queue,$u(Lh.bind(null,u,g,i),[i]),g.getSnapshot!==r||w||at!==null&&at.memoizedState.tag&1){if(u.flags|=2048,Us(9,{destroy:void 0},Oh.bind(null,u,g,a,r),null),Ve===null)throw Error(s(349));v||(Bn&127)!==0||Ph(u,r,a)}return a}function Ph(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=be.updateQueue,r===null?(r=la(),be.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Oh(i,r,a,u){r.value=a,r.getSnapshot=u,qh(r)&&Bh(i)}function Lh(i,r,a){return a(function(){qh(r)&&Bh(i)})}function qh(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!$t(i,a)}catch{return!0}}function Bh(i){var r=Bi(i,2);r!==null&&Bt(r,i,2)}function zu(i){var r=Rt();if(typeof i=="function"){var a=i;if(i=a(),Yi){ii(!0);try{a()}finally{ii(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:i},r}function Gh(i,r,a,u){return i.baseState=a,Gu(i,Ge,typeof u=="function"?u:Gn)}function xb(i,r,a,u,g){if(ha(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};B.T!==null?a(!0):v.isTransition=!1,u(v),a=r.pending,a===null?(v.next=r.pending=v,Hh(r,v)):(v.next=a.next,r.pending=a.next=v)}}function Hh(i,r){var a=r.action,u=r.payload,g=i.state;if(r.isTransition){var v=B.T,w={};B.T=w;try{var x=a(g,u),N=B.S;N!==null&&N(w,x),zh(i,r,x)}catch(H){Vu(i,r,H)}finally{v!==null&&w.types!==null&&(v.types=w.types),B.T=v}}else try{v=a(g,u),zh(i,r,v)}catch(H){Vu(i,r,H)}}function zh(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Vh(i,r,u)},function(u){return Vu(i,r,u)}):Vh(i,r,a)}function Vh(i,r,a){r.status="fulfilled",r.value=a,$h(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Hh(i,a)))}function Vu(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,$h(r),r=r.next;while(r!==u)}i.action=null}function $h(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Fh(i,r){return r}function jh(i,r){if(Re){var a=Ve.formState;if(a!==null){e:{var u=be;if(Re){if(Je){t:{for(var g=Je,v=cn;g.nodeType!==8;){if(!v){g=null;break t}if(g=fn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Je=fn(g.nextSibling),u=g.data==="F!";break e}}li(u)}u=!1}u&&(r=a[0])}}return a=Rt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:r},a.queue=u,a=dp.bind(null,be,u),u.dispatch=a,u=zu(!1),v=Ku.bind(null,be,!1,u.queue),u=Rt(),g={state:r,dispatch:null,action:i,pending:null},u.queue=g,a=xb.bind(null,be,g,v,a),g.dispatch=a,u.memoizedState=i,[r,a,!1]}function Jh(i){var r=st();return Yh(r,Ge,i)}function Yh(i,r,a){if(r=Gu(i,r,Fh)[0],i=ca(Gn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Gr(r)}catch(w){throw w===Ns?ea:w}else u=r;r=st();var g=r.queue,v=g.dispatch;return a!==r.memoizedState&&(be.flags|=2048,Us(9,{destroy:void 0},Cb.bind(null,g,a),null)),[u,v,i]}function Cb(i,r){i.action=r}function Kh(i){var r=st(),a=Ge;if(a!==null)return Yh(r,a,i);st(),r=r.memoizedState,a=st();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function Us(i,r,a,u){return i={tag:i,create:a,deps:u,inst:r,next:null},r=be.updateQueue,r===null&&(r=la(),be.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function Xh(){return st().memoizedState}function da(i,r,a,u){var g=Rt();be.flags|=i,g.memoizedState=Us(1|r,{destroy:void 0},a,u===void 0?null:u)}function fa(i,r,a,u){var g=st();u=u===void 0?null:u;var v=g.memoizedState.inst;Ge!==null&&u!==null&&Uu(u,Ge.memoizedState.deps)?g.memoizedState=Us(r,v,a,u):(be.flags|=i,g.memoizedState=Us(1|r,v,a,u))}function Wh(i,r){da(8390656,8,i,r)}function $u(i,r){fa(2048,8,i,r)}function Ab(i){be.flags|=4;var r=be.updateQueue;if(r===null)r=la(),be.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function Qh(i){var r=st().memoizedState;return Ab({ref:r,nextImpl:i}),function(){if((De&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Zh(i,r){return fa(4,2,i,r)}function ep(i,r){return fa(4,4,i,r)}function tp(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function np(i,r,a){a=a!=null?a.concat([i]):null,fa(4,4,tp.bind(null,r,i),a)}function Fu(){}function ip(i,r){var a=st();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Uu(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function sp(i,r){var a=st();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Uu(r,u[1]))return u[0];if(u=i(),Yi){ii(!0);try{i()}finally{ii(!1)}}return a.memoizedState=[u,r],u}function ju(i,r,a){return a===void 0||(Bn&1073741824)!==0&&(Ce&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=rm(),be.lanes|=i,yi|=i,a)}function rp(i,r,a,u){return $t(a,r)?a:Ms.current!==null?(i=ju(i,a,u),$t(i,r)||(lt=!0),i):(Bn&42)===0||(Bn&1073741824)!==0&&(Ce&261930)===0?(lt=!0,i.memoizedState=a):(i=rm(),be.lanes|=i,yi|=i,r)}function op(i,r,a,u,g){var v=Z.p;Z.p=v!==0&&8>v?v:8;var w=B.T,x={};B.T=x,Ku(i,!1,r,a);try{var N=g(),H=B.S;if(H!==null&&H(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=wb(N,u);Hr(i,r,F,Xt(i))}else Hr(i,r,u,Xt(i))}catch(Y){Hr(i,r,{then:function(){},status:"rejected",reason:Y},Xt())}finally{Z.p=v,w!==null&&x.types!==null&&(w.types=x.types),B.T=w}}function Rb(){}function Ju(i,r,a,u){if(i.tag!==5)throw Error(s(476));var g=ap(i).queue;op(i,g,r,ce,a===null?Rb:function(){return lp(i),a(u)})}function ap(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function lp(i){var r=ap(i);r.next===null&&(r=i.alternate.memoizedState),Hr(i,r.next.queue,{},Xt())}function Yu(){return _t(so)}function up(){return st().memoizedState}function cp(){return st().memoizedState}function Nb(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xt();i=di(a);var u=fi(r,i,a);u!==null&&(Bt(u,r,a),Or(u,r,a)),r={cache:Eu()},i.payload=r;return}r=r.return}}function Ib(i,r,a){var u=Xt();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ha(i)?fp(r,a):(a=fu(i,r,a,u),a!==null&&(Bt(a,i,u),hp(a,r,u)))}function dp(i,r,a){var u=Xt();Hr(i,r,a,u)}function Hr(i,r,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ha(i))fp(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var w=r.lastRenderedState,x=v(w,a);if(g.hasEagerState=!0,g.eagerState=x,$t(x,w))return Jo(i,r,g,0),Ve===null&&jo(),!1}catch{}finally{}if(a=fu(i,r,g,u),a!==null)return Bt(a,i,u),hp(a,r,u),!0}return!1}function Ku(i,r,a,u){if(u={lane:2,revertLane:Ac(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ha(i)){if(r)throw Error(s(479))}else r=fu(i,a,u,2),r!==null&&Bt(r,i,2)}function ha(i){var r=i.alternate;return i===be||r!==null&&r===be}function fp(i,r){ks=oa=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function hp(i,r,a){if((a&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,vf(i,a)}}var zr={readContext:_t,use:ua,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};zr.useEffectEvent=et;var pp={readContext:_t,use:ua,useCallback:function(i,r){return Rt().memoizedState=[i,r===void 0?null:r],i},useContext:_t,useEffect:Wh,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,da(4194308,4,tp.bind(null,r,i),a)},useLayoutEffect:function(i,r){return da(4194308,4,i,r)},useInsertionEffect:function(i,r){da(4,2,i,r)},useMemo:function(i,r){var a=Rt();r=r===void 0?null:r;var u=i();if(Yi){ii(!0);try{i()}finally{ii(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=Rt();if(a!==void 0){var g=a(r);if(Yi){ii(!0);try{a(r)}finally{ii(!1)}}}else g=r;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=Ib.bind(null,be,i),[u.memoizedState,i]},useRef:function(i){var r=Rt();return i={current:i},r.memoizedState=i},useState:function(i){i=zu(i);var r=i.queue,a=dp.bind(null,be,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Fu,useDeferredValue:function(i,r){var a=Rt();return ju(a,i,r)},useTransition:function(){var i=zu(!1);return i=op.bind(null,be,i.queue,!0,!1),Rt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=be,g=Rt();if(Re){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ve===null)throw Error(s(349));(Ce&127)!==0||Ph(u,r,a)}g.memoizedState=a;var v={value:a,getSnapshot:r};return g.queue=v,Wh(Lh.bind(null,u,v,i),[i]),u.flags|=2048,Us(9,{destroy:void 0},Oh.bind(null,u,v,a,r),null),a},useId:function(){var i=Rt(),r=Ve.identifierPrefix;if(Re){var a=Rn,u=An;a=(u&~(1<<32-Vt(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=aa++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Eb++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Yu,useFormState:jh,useActionState:jh,useOptimistic:function(i){var r=Rt();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ku.bind(null,be,!0,a),a.dispatch=r,[i,r]},useMemoCache:Bu,useCacheRefresh:function(){return Rt().memoizedState=Nb.bind(null,be)},useEffectEvent:function(i){var r=Rt(),a={impl:i};return r.memoizedState=a,function(){if((De&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xu={readContext:_t,use:ua,useCallback:ip,useContext:_t,useEffect:$u,useImperativeHandle:np,useInsertionEffect:Zh,useLayoutEffect:ep,useMemo:sp,useReducer:ca,useRef:Xh,useState:function(){return ca(Gn)},useDebugValue:Fu,useDeferredValue:function(i,r){var a=st();return rp(a,Ge.memoizedState,i,r)},useTransition:function(){var i=ca(Gn)[0],r=st().memoizedState;return[typeof i=="boolean"?i:Gr(i),r]},useSyncExternalStore:Uh,useId:up,useHostTransitionStatus:Yu,useFormState:Jh,useActionState:Jh,useOptimistic:function(i,r){var a=st();return Gh(a,Ge,i,r)},useMemoCache:Bu,useCacheRefresh:cp};Xu.useEffectEvent=Qh;var mp={readContext:_t,use:ua,useCallback:ip,useContext:_t,useEffect:$u,useImperativeHandle:np,useInsertionEffect:Zh,useLayoutEffect:ep,useMemo:sp,useReducer:Hu,useRef:Xh,useState:function(){return Hu(Gn)},useDebugValue:Fu,useDeferredValue:function(i,r){var a=st();return Ge===null?ju(a,i,r):rp(a,Ge.memoizedState,i,r)},useTransition:function(){var i=Hu(Gn)[0],r=st().memoizedState;return[typeof i=="boolean"?i:Gr(i),r]},useSyncExternalStore:Uh,useId:up,useHostTransitionStatus:Yu,useFormState:Kh,useActionState:Kh,useOptimistic:function(i,r){var a=st();return Ge!==null?Gh(a,Ge,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Bu,useCacheRefresh:cp};mp.useEffectEvent=Qh;function Wu(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:_({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Qu={enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Xt(),g=di(u);g.payload=r,a!=null&&(g.callback=a),r=fi(i,g,u),r!==null&&(Bt(r,i,u),Or(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Xt(),g=di(u);g.tag=1,g.payload=r,a!=null&&(g.callback=a),r=fi(i,g,u),r!==null&&(Bt(r,i,u),Or(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Xt(),u=di(a);u.tag=2,r!=null&&(u.callback=r),r=fi(i,u,a),r!==null&&(Bt(r,i,a),Or(r,i,a))}};function gp(i,r,a,u,g,v,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,w):r.prototype&&r.prototype.isPureReactComponent?!Rr(a,u)||!Rr(g,v):!0}function yp(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&Qu.enqueueReplaceState(r,r.state,null)}function Ki(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=_({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}function vp(i){Fo(i)}function _p(i){console.error(i)}function bp(i){Fo(i)}function pa(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Sp(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zu(i,r,a){return a=di(a),a.tag=3,a.payload={element:null},a.callback=function(){pa(i,r)},a}function wp(i){return i=di(i),i.tag=3,i}function Ep(i,r,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;i.payload=function(){return g(v)},i.callback=function(){Sp(r,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Sp(r,a,u),typeof g!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function Mb(i,r,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Cs(r,a,g,!0),a=jt.current,a!==null){switch(a.tag){case 31:case 13:return dn===null?Ca():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===ta?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Tc(i,u,g)),!1;case 22:return a.flags|=65536,u===ta?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Tc(i,u,g)),!1}throw Error(s(435,a.tag))}return Tc(i,u,g),Ca(),!1}if(Re)return r=jt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==vu&&(i=Error(s(422),{cause:u}),Mr(an(i,a)))):(u!==vu&&(r=Error(s(423),{cause:u}),Mr(an(r,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=an(u,a),g=Zu(i.stateNode,u,g),Nu(i,g),tt!==4&&(tt=2)),!1;var v=Error(s(520),{cause:u});if(v=an(v,a),Xr===null?Xr=[v]:Xr.push(v),tt!==4&&(tt=2),r===null)return!0;u=an(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=Zu(a.stateNode,u,i),Nu(a,i),!1;case 1:if(r=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(vi===null||!vi.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=wp(g),Ep(g,i,a,u),Nu(a,g),!1}a=a.return}while(a!==null);return!1}var ec=Error(s(461)),lt=!1;function bt(i,r,a,u){r.child=i===null?Ah(r,null,a,u):Ji(r,i.child,a,u)}function Tp(i,r,a,u,g){a=a.render;var v=r.ref;if("ref"in u){var w={};for(var x in u)x!=="ref"&&(w[x]=u[x])}else w=u;return Vi(r),u=Pu(i,r,a,w,v,g),x=Ou(),i!==null&&!lt?(Lu(i,r,g),Hn(i,r,g)):(Re&&x&&gu(r),r.flags|=1,bt(i,r,u,g),r.child)}function xp(i,r,a,u,g){if(i===null){var v=a.type;return typeof v=="function"&&!hu(v)&&v.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=v,Cp(i,r,v,u,g)):(i=Ko(a.type,null,u,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!lc(i,g)){var w=v.memoizedProps;if(a=a.compare,a=a!==null?a:Rr,a(w,u)&&i.ref===r.ref)return Hn(i,r,g)}return r.flags|=1,i=Pn(v,u),i.ref=r.ref,i.return=r,r.child=i}function Cp(i,r,a,u,g){if(i!==null){var v=i.memoizedProps;if(Rr(v,u)&&i.ref===r.ref)if(lt=!1,r.pendingProps=u=v,lc(i,g))(i.flags&131072)!==0&&(lt=!0);else return r.lanes=i.lanes,Hn(i,r,g)}return tc(i,r,a,u,g)}function Ap(i,r,a,u){var g=u.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,i!==null){for(u=r.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,r.child=null;return Rp(i,r,v,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Zo(r,v!==null?v.cachePool:null),v!==null?Ih(r,v):Mu(),Mh(r);else return u=r.lanes=536870912,Rp(i,r,v!==null?v.baseLanes|a:a,a,u)}else v!==null?(Zo(r,v.cachePool),Ih(r,v),pi(),r.memoizedState=null):(i!==null&&Zo(r,null),Mu(),pi());return bt(i,r,g,a),r.child}function Vr(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Rp(i,r,a,u,g){var v=xu();return v=v===null?null:{parent:ot._currentValue,pool:v},r.memoizedState={baseLanes:a,cachePool:v},i!==null&&Zo(r,null),Mu(),Mh(r),i!==null&&Cs(i,r,u,!0),r.childLanes=g,null}function ma(i,r){return r=ya({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Np(i,r,a){return Ji(r,i.child,null,a),i=ma(r,r.pendingProps),i.flags|=2,Jt(r),r.memoizedState=null,i}function kb(i,r,a){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Re){if(u.mode==="hidden")return i=ma(r,u),r.lanes=536870912,Vr(null,i);if(Du(r),(i=Je)?(i=Hm(i,cn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oi!==null?{id:An,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},a=fh(i),a.return=r,r.child=a,vt=r,Je=null)):i=null,i===null)throw li(r);return r.lanes=536870912,null}return ma(r,u)}var v=i.memoizedState;if(v!==null){var w=v.dehydrated;if(Du(r),g)if(r.flags&256)r.flags&=-257,r=Np(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(lt||Cs(i,r,a,!1),g=(a&i.childLanes)!==0,lt||g){if(u=Ve,u!==null&&(w=_f(u,a),w!==0&&w!==v.retryLane))throw v.retryLane=w,Bi(i,w),Bt(u,i,w),ec;Ca(),r=Np(i,r,a)}else i=v.treeContext,Je=fn(w.nextSibling),vt=r,Re=!0,ai=null,cn=!1,i!==null&&mh(r,i),r=ma(r,u),r.flags|=4096;return r}return i=Pn(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ga(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function tc(i,r,a,u,g){return Vi(r),a=Pu(i,r,a,u,void 0,g),u=Ou(),i!==null&&!lt?(Lu(i,r,g),Hn(i,r,g)):(Re&&u&&gu(r),r.flags|=1,bt(i,r,a,g),r.child)}function Ip(i,r,a,u,g,v){return Vi(r),r.updateQueue=null,a=Dh(r,u,a,g),kh(i),u=Ou(),i!==null&&!lt?(Lu(i,r,v),Hn(i,r,v)):(Re&&u&&gu(r),r.flags|=1,bt(i,r,a,v),r.child)}function Mp(i,r,a,u,g){if(Vi(r),r.stateNode===null){var v=ws,w=a.contextType;typeof w=="object"&&w!==null&&(v=_t(w)),v=new a(u,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qu,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=u,v.state=r.memoizedState,v.refs={},Au(r),w=a.contextType,v.context=typeof w=="object"&&w!==null?_t(w):ws,v.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Wu(r,a,w,u),v.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&Qu.enqueueReplaceState(v,v.state,null),qr(r,u,v,g),Lr(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){v=r.stateNode;var x=r.memoizedProps,N=Ki(a,x);v.props=N;var H=v.context,F=a.contextType;w=ws,typeof F=="object"&&F!==null&&(w=_t(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x||H!==w)&&yp(r,v,u,w),ci=!1;var z=r.memoizedState;v.state=z,qr(r,u,v,g),Lr(),H=r.memoizedState,x||z!==H||ci?(typeof Y=="function"&&(Wu(r,a,Y,u),H=r.memoizedState),(N=ci||gp(r,a,N,u,z,H,w))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),v.props=u,v.state=H,v.context=w,u=N):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Ru(i,r),w=r.memoizedProps,F=Ki(a,w),v.props=F,Y=r.pendingProps,z=v.context,H=a.contextType,N=ws,typeof H=="object"&&H!==null&&(N=_t(H)),x=a.getDerivedStateFromProps,(H=typeof x=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==Y||z!==N)&&yp(r,v,u,N),ci=!1,z=r.memoizedState,v.state=z,qr(r,u,v,g),Lr();var $=r.memoizedState;w!==Y||z!==$||ci||i!==null&&i.dependencies!==null&&Wo(i.dependencies)?(typeof x=="function"&&(Wu(r,a,x,u),$=r.memoizedState),(F=ci||gp(r,a,F,u,z,$,N)||i!==null&&i.dependencies!==null&&Wo(i.dependencies))?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,$,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,$,N)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),v.props=u,v.state=$,v.context=N,u=F):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(r.flags|=1024),u=!1)}return v=u,ga(i,r),u=(r.flags&128)!==0,v||u?(v=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&u?(r.child=Ji(r,i.child,null,g),r.child=Ji(r,null,a,g)):bt(i,r,a,g),r.memoizedState=v.state,i=r.child):i=Hn(i,r,g),i}function kp(i,r,a,u){return Hi(),r.flags|=256,bt(i,r,a,u),r.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(i){return{baseLanes:i,cachePool:Sh()}}function sc(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Kt),i}function Dp(i,r,a){var u=r.pendingProps,g=!1,v=(r.flags&128)!==0,w;if((w=v)||(w=i!==null&&i.memoizedState===null?!1:(it.current&2)!==0),w&&(g=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Re){if(g?hi(r):pi(),(i=Je)?(i=Hm(i,cn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oi!==null?{id:An,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},a=fh(i),a.return=r,r.child=a,vt=r,Je=null)):i=null,i===null)throw li(r);return Gc(i)?r.lanes=32:r.lanes=536870912,null}var x=u.children;return u=u.fallback,g?(pi(),g=r.mode,x=ya({mode:"hidden",children:x},g),u=Gi(u,g,a,null),x.return=r,u.return=r,x.sibling=u,r.child=x,u=r.child,u.memoizedState=ic(a),u.childLanes=sc(i,w,a),r.memoizedState=nc,Vr(null,u)):(hi(r),rc(r,x))}var N=i.memoizedState;if(N!==null&&(x=N.dehydrated,x!==null)){if(v)r.flags&256?(hi(r),r.flags&=-257,r=oc(i,r,a)):r.memoizedState!==null?(pi(),r.child=i.child,r.flags|=128,r=null):(pi(),x=u.fallback,g=r.mode,u=ya({mode:"visible",children:u.children},g),x=Gi(x,g,a,null),x.flags|=2,u.return=r,x.return=r,u.sibling=x,r.child=u,Ji(r,i.child,null,a),u=r.child,u.memoizedState=ic(a),u.childLanes=sc(i,w,a),r.memoizedState=nc,r=Vr(null,u));else if(hi(r),Gc(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var H=w.dgst;w=H,u=Error(s(419)),u.stack="",u.digest=w,Mr({value:u,source:null,stack:null}),r=oc(i,r,a)}else if(lt||Cs(i,r,a,!1),w=(a&i.childLanes)!==0,lt||w){if(w=Ve,w!==null&&(u=_f(w,a),u!==0&&u!==N.retryLane))throw N.retryLane=u,Bi(i,u),Bt(w,i,u),ec;Bc(x)||Ca(),r=oc(i,r,a)}else Bc(x)?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,Je=fn(x.nextSibling),vt=r,Re=!0,ai=null,cn=!1,i!==null&&mh(r,i),r=rc(r,u.children),r.flags|=4096);return r}return g?(pi(),x=u.fallback,g=r.mode,N=i.child,H=N.sibling,u=Pn(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,H!==null?x=Pn(H,x):(x=Gi(x,g,a,null),x.flags|=2),x.return=r,u.return=r,u.sibling=x,r.child=u,Vr(null,u),u=r.child,x=i.child.memoizedState,x===null?x=ic(a):(g=x.cachePool,g!==null?(N=ot._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=Sh(),x={baseLanes:x.baseLanes|a,cachePool:g}),u.memoizedState=x,u.childLanes=sc(i,w,a),r.memoizedState=nc,Vr(i.child,u)):(hi(r),a=i.child,i=a.sibling,a=Pn(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=a,r.memoizedState=null,a)}function rc(i,r){return r=ya({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ya(i,r){return i=Ft(22,i,null,r),i.lanes=0,i}function oc(i,r,a){return Ji(r,i.child,null,a),i=rc(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Up(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Su(i.return,r,a)}function ac(i,r,a,u,g,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:v}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=a,w.tailMode=g,w.treeForkCount=v)}function Pp(i,r,a){var u=r.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var w=it.current,x=(w&2)!==0;if(x?(w=w&1|2,r.flags|=128):w&=1,j(it,w),bt(i,r,u,a),u=Re?Ir:0,!x&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Up(i,a,r);else if(i.tag===19)Up(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(a=r.child,g=null;a!==null;)i=a.alternate,i!==null&&ra(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=r.child,r.child=null):(g=a.sibling,a.sibling=null),ac(r,!1,g,a,v,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&ra(i)===null){r.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}ac(r,!0,a,null,v,u);break;case"together":ac(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Hn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),yi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Cs(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Pn(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Pn(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function lc(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Wo(i)))}function Db(i,r,a){switch(r.tag){case 3:fe(r,r.stateNode.containerInfo),ui(r,ot,i.memoizedState.cache),Hi();break;case 27:case 5:Be(r);break;case 4:fe(r,r.stateNode.containerInfo);break;case 10:ui(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Du(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(hi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Dp(i,r,a):(hi(r),i=Hn(i,r,a),i!==null?i.sibling:null);hi(r);break;case 19:var g=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Cs(i,r,a,!1),u=(a&r.childLanes)!==0),g){if(u)return Pp(i,r,a);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),j(it,it.current),u)break;return null;case 22:return r.lanes=0,Ap(i,r,a,r.pendingProps);case 24:ui(r,ot,i.memoizedState.cache)}return Hn(i,r,a)}function Op(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)lt=!0;else{if(!lc(i,a)&&(r.flags&128)===0)return lt=!1,Db(i,r,a);lt=(i.flags&131072)!==0}else lt=!1,Re&&(r.flags&1048576)!==0&&ph(r,Ir,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Fi(r.elementType),r.type=i,typeof i=="function")hu(i)?(u=Ki(i,u),r.tag=1,r=Mp(null,r,i,u,a)):(r.tag=0,r=tc(null,r,i,u,a));else{if(i!=null){var g=i.$$typeof;if(g===V){r.tag=11,r=Tp(null,r,i,u,a);break e}else if(g===L){r.tag=14,r=xp(null,r,i,u,a);break e}}throw r=qe(i)||i,Error(s(306,r,""))}}return r;case 0:return tc(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,g=Ki(u,r.pendingProps),Mp(i,r,u,g,a);case 3:e:{if(fe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var v=r.memoizedState;g=v.element,Ru(i,r),qr(r,u,null,a);var w=r.memoizedState;if(u=w.cache,ui(r,ot,u),u!==v.cache&&wu(r,[ot],a,!0),Lr(),u=w.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=kp(i,r,u,a);break e}else if(u!==g){g=an(Error(s(424)),r),Mr(g),r=kp(i,r,u,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Je=fn(i.firstChild),vt=r,Re=!0,ai=null,cn=!0,a=Ah(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hi(),u===g){r=Hn(i,r,a);break e}bt(i,r,u,a)}r=r.child}return r;case 26:return ga(i,r),i===null?(a=Jm(r.type,null,r.pendingProps,null))?r.memoizedState=a:Re||(a=r.type,i=r.pendingProps,u=Da(se.current).createElement(a),u[yt]=r,u[Dt]=i,St(u,a,i),pt(u),r.stateNode=u):r.memoizedState=Jm(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Be(r),i===null&&Re&&(u=r.stateNode=$m(r.type,r.pendingProps,se.current),vt=r,cn=!0,g=Je,wi(r.type)?(Hc=g,Je=fn(u.firstChild)):Je=g),bt(i,r,r.pendingProps.children,a),ga(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Re&&((g=u=Je)&&(u=uS(u,r.type,r.pendingProps,cn),u!==null?(r.stateNode=u,vt=r,Je=fn(u.firstChild),cn=!1,g=!0):g=!1),g||li(r)),Be(r),g=r.type,v=r.pendingProps,w=i!==null?i.memoizedProps:null,u=v.children,Oc(g,v)?u=null:w!==null&&Oc(g,w)&&(r.flags|=32),r.memoizedState!==null&&(g=Pu(i,r,Tb,null,null,a),so._currentValue=g),ga(i,r),bt(i,r,u,a),r.child;case 6:return i===null&&Re&&((i=a=Je)&&(a=cS(a,r.pendingProps,cn),a!==null?(r.stateNode=a,vt=r,Je=null,i=!0):i=!1),i||li(r)),null;case 13:return Dp(i,r,a);case 4:return fe(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ji(r,null,u,a):bt(i,r,u,a),r.child;case 11:return Tp(i,r,r.type,r.pendingProps,a);case 7:return bt(i,r,r.pendingProps,a),r.child;case 8:return bt(i,r,r.pendingProps.children,a),r.child;case 12:return bt(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ui(r,r.type,u.value),bt(i,r,u.children,a),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Vi(r),g=_t(g),u=u(g),r.flags|=1,bt(i,r,u,a),r.child;case 14:return xp(i,r,r.type,r.pendingProps,a);case 15:return Cp(i,r,r.type,r.pendingProps,a);case 19:return Pp(i,r,a);case 31:return kb(i,r,a);case 22:return Ap(i,r,a,r.pendingProps);case 24:return Vi(r),u=_t(ot),i===null?(g=xu(),g===null&&(g=Ve,v=Eu(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),r.memoizedState={parent:u,cache:g},Au(r),ui(r,ot,g)):((i.lanes&a)!==0&&(Ru(i,r),qr(r,null,null,a),Lr()),g=i.memoizedState,v=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),ui(r,ot,u)):(u=v.cache,ui(r,ot,u),u!==g.cache&&wu(r,[ot],a,!0))),bt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function zn(i){i.flags|=4}function uc(i,r,a,u,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(um())i.flags|=8192;else throw ji=ta,Cu}else i.flags&=-16777217}function Lp(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qm(r))if(um())i.flags|=8192;else throw ji=ta,Cu}function va(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?gf():536870912,i.lanes|=r,qs|=r)}function $r(i,r){if(!Re)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Ye(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function Ub(i,r,a){var u=r.pendingProps;switch(yu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(r),null;case 1:return Ye(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),qn(ot),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(xs(r)?zn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_u())),Ye(r),null;case 26:var g=r.type,v=r.memoizedState;return i===null?(zn(r),v!==null?(Ye(r),Lp(r,v)):(Ye(r),uc(r,g,null,u,a))):v?v!==i.memoizedState?(zn(r),Ye(r),Lp(r,v)):(Ye(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&zn(r),Ye(r),uc(r,g,i,u,a)),null;case 27:if(Ue(r),a=se.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ye(r),null}i=W.current,xs(r)?gh(r):(i=$m(g,u,a),r.stateNode=i,zn(r))}return Ye(r),null;case 5:if(Ue(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ye(r),null}if(v=W.current,xs(r))gh(r);else{var w=Da(se.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?w.createElement(g,{is:u.is}):w.createElement(g)}}v[yt]=r,v[Dt]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=v;e:switch(St(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&zn(r)}}return Ye(r),uc(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&zn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=se.current,xs(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,g=vt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[yt]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Dm(i.nodeValue,a)),i||li(r,!0)}else i=Da(i).createTextNode(u),i[yt]=r,r.stateNode=i}return Ye(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(u=xs(r),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[yt]=r}else Hi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ye(r),i=!1}else a=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Jt(r),r):(Jt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ye(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=xs(r),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[yt]=r}else Hi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ye(r),g=!1}else g=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Jt(r),r):(Jt(r),null)}return Jt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),va(r,r.updateQueue),Ye(r),null);case 4:return ge(),i===null&&Mc(r.stateNode.containerInfo),Ye(r),null;case 10:return qn(r.type),Ye(r),null;case 19:if(q(it),u=r.memoizedState,u===null)return Ye(r),null;if(g=(r.flags&128)!==0,v=u.rendering,v===null)if(g)$r(u,!1);else{if(tt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=ra(i),v!==null){for(r.flags|=128,$r(u,!1),i=v.updateQueue,r.updateQueue=i,va(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)dh(a,i),a=a.sibling;return j(it,it.current&1|2),Re&&On(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Tt()>Ea&&(r.flags|=128,g=!0,$r(u,!1),r.lanes=4194304)}else{if(!g)if(i=ra(v),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,va(r,i),$r(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Re)return Ye(r),null}else 2*Tt()-u.renderingStartTime>Ea&&a!==536870912&&(r.flags|=128,g=!0,$r(u,!1),r.lanes=4194304);u.isBackwards?(v.sibling=r.child,r.child=v):(i=u.last,i!==null?i.sibling=v:r.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Tt(),i.sibling=null,a=it.current,j(it,g?a&1|2:a&1),Re&&On(r,u.treeForkCount),i):(Ye(r),null);case 22:case 23:return Jt(r),ku(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Ye(r),r.subtreeFlags&6&&(r.flags|=8192)):Ye(r),a=r.updateQueue,a!==null&&va(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&q($i),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),qn(ot),Ye(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Pb(i,r){switch(yu(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return qn(ot),ge(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ue(r),null;case 31:if(r.memoizedState!==null){if(Jt(r),r.alternate===null)throw Error(s(340));Hi()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Jt(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Hi()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return q(it),null;case 4:return ge(),null;case 10:return qn(r.type),null;case 22:case 23:return Jt(r),ku(),i!==null&&q($i),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return qn(ot),null;case 25:return null;default:return null}}function qp(i,r){switch(yu(r),r.tag){case 3:qn(ot),ge();break;case 26:case 27:case 5:Ue(r);break;case 4:ge();break;case 31:r.memoizedState!==null&&Jt(r);break;case 13:Jt(r);break;case 19:q(it);break;case 10:qn(r.type);break;case 22:case 23:Jt(r),ku(),i!==null&&q($i);break;case 24:qn(ot)}}function Fr(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&i)===i){u=void 0;var v=a.create,w=a.inst;u=v(),w.destroy=u}a=a.next}while(a!==g)}}catch(x){Le(r,r.return,x)}}function mi(i,r,a){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&i)===i){var w=u.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,g=r;var N=a,H=x;try{H()}catch(F){Le(g,N,F)}}}u=u.next}while(u!==v)}}catch(F){Le(r,r.return,F)}}function Bp(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Nh(r,a)}catch(u){Le(i,i.return,u)}}}function Gp(i,r,a){a.props=Ki(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Le(i,r,u)}}function jr(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(g){Le(i,r,g)}}function Nn(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){Le(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Le(i,r,g)}else a.current=null}function Hp(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){Le(i,i.return,g)}}function cc(i,r,a){try{var u=i.stateNode;iS(u,i.type,a,r),u[Dt]=r}catch(g){Le(i,i.return,g)}}function zp(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&wi(i.type)||i.tag===4}function dc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&wi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fc(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dn));else if(u!==4&&(u===27&&wi(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(fc(i,r,a),i=i.sibling;i!==null;)fc(i,r,a),i=i.sibling}function _a(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&(u===27&&wi(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(_a(i,r,a),i=i.sibling;i!==null;)_a(i,r,a),i=i.sibling}function Vp(i){var r=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);St(r,u,a),r[yt]=i,r[Dt]=a}catch(v){Le(i,i.return,v)}}var Vn=!1,ut=!1,hc=!1,$p=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Ob(i,r){if(i=i.containerInfo,Uc=Ga,i=nh(i),ou(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var w=0,x=-1,N=-1,H=0,F=0,Y=i,z=null;t:for(;;){for(var $;Y!==a||g!==0&&Y.nodeType!==3||(x=w+g),Y!==v||u!==0&&Y.nodeType!==3||(N=w+u),Y.nodeType===3&&(w+=Y.nodeValue.length),($=Y.firstChild)!==null;)z=Y,Y=$;for(;;){if(Y===i)break t;if(z===a&&++H===g&&(x=w),z===v&&++F===u&&(N=w),($=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=$}a=x===-1||N===-1?null:{start:x,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pc={focusedElem:i,selectionRange:a},Ga=!1,mt=r;mt!==null;)if(r=mt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,mt=i;else for(;mt!==null;){switch(r=mt,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)g=i[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,a=r,g=v.memoizedProps,v=v.memoizedState,u=a.stateNode;try{var ae=Ki(a.type,g);i=u.getSnapshotBeforeUpdate(ae,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(he){Le(a,a.return,he)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)qc(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":qc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,mt=i;break}mt=r.return}}function Fp(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(i,a),u&4&&Fr(5,a);break;case 1:if(Fn(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(w){Le(a,a.return,w)}else{var g=Ki(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Le(a,a.return,w)}}u&64&&Bp(a),u&512&&jr(a,a.return);break;case 3:if(Fn(i,a),u&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Nh(i,r)}catch(w){Le(a,a.return,w)}}break;case 27:r===null&&u&4&&Vp(a);case 26:case 5:Fn(i,a),r===null&&u&4&&Hp(a),u&512&&jr(a,a.return);break;case 12:Fn(i,a);break;case 31:Fn(i,a),u&4&&Yp(i,a);break;case 13:Fn(i,a),u&4&&Kp(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=Fb.bind(null,a),dS(i,a))));break;case 22:if(u=a.memoizedState!==null||Vn,!u){r=r!==null&&r.memoizedState!==null||ut,g=Vn;var v=ut;Vn=u,(ut=r)&&!v?jn(i,a,(a.subtreeFlags&8772)!==0):Fn(i,a),Vn=g,ut=v}break;case 30:break;default:Fn(i,a)}}function jp(i){var r=i.alternate;r!==null&&(i.alternate=null,jp(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Vl(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Xe=null,Pt=!1;function $n(i,r,a){for(a=a.child;a!==null;)Jp(i,r,a),a=a.sibling}function Jp(i,r,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Di,a)}catch{}switch(a.tag){case 26:ut||Nn(a,r),$n(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Nn(a,r);var u=Xe,g=Pt;wi(a.type)&&(Xe=a.stateNode,Pt=!1),$n(i,r,a),to(a.stateNode),Xe=u,Pt=g;break;case 5:ut||Nn(a,r);case 6:if(u=Xe,g=Pt,Xe=null,$n(i,r,a),Xe=u,Pt=g,Xe!==null)if(Pt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(v){Le(a,r,v)}else try{Xe.removeChild(a.stateNode)}catch(v){Le(a,r,v)}break;case 18:Xe!==null&&(Pt?(i=Xe,Bm(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),js(i)):Bm(Xe,a.stateNode));break;case 4:u=Xe,g=Pt,Xe=a.stateNode.containerInfo,Pt=!0,$n(i,r,a),Xe=u,Pt=g;break;case 0:case 11:case 14:case 15:mi(2,a,r),ut||mi(4,a,r),$n(i,r,a);break;case 1:ut||(Nn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Gp(a,r,u)),$n(i,r,a);break;case 21:$n(i,r,a);break;case 22:ut=(u=ut)||a.memoizedState!==null,$n(i,r,a),ut=u;break;default:$n(i,r,a)}}function Yp(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{js(i)}catch(a){Le(r,r.return,a)}}}function Kp(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{js(i)}catch(a){Le(r,r.return,a)}}function Lb(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new $p),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new $p),r;default:throw Error(s(435,i.tag))}}function ba(i,r){var a=Lb(i);r.forEach(function(u){if(!a.has(u)){a.add(u);var g=jb.bind(null,i,u);u.then(g,g)}})}function Ot(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],v=i,w=r,x=w;e:for(;x!==null;){switch(x.tag){case 27:if(wi(x.type)){Xe=x.stateNode,Pt=!1;break e}break;case 5:Xe=x.stateNode,Pt=!1;break e;case 3:case 4:Xe=x.stateNode.containerInfo,Pt=!0;break e}x=x.return}if(Xe===null)throw Error(s(160));Jp(v,w,g),Xe=null,Pt=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xp(r,i),r=r.sibling}var _n=null;function Xp(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ot(r,i),Lt(i),u&4&&(mi(3,i,i.return),Fr(3,i),mi(5,i,i.return));break;case 1:Ot(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),u&64&&Vn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=_n;if(Ot(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),u&4){var v=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[_r]||v[yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),St(v,u,a),v[yt]=i,pt(v),u=v;break e;case"link":var w=Xm("link","href",g).get(u+(a.href||""));if(w){for(var x=0;x<w.length;x++)if(v=w[x],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(x,1);break t}}v=g.createElement(u),St(v,u,a),g.head.appendChild(v);break;case"meta":if(w=Xm("meta","content",g).get(u+(a.content||""))){for(x=0;x<w.length;x++)if(v=w[x],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(x,1);break t}}v=g.createElement(u),St(v,u,a),g.head.appendChild(v);break;default:throw Error(s(468,u))}v[yt]=i,pt(v),u=v}i.stateNode=u}else Wm(g,i.type,i.stateNode);else i.stateNode=Km(g,u,i.memoizedProps);else v!==u?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,u===null?Wm(g,i.type,i.stateNode):Km(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&cc(i,i.memoizedProps,a.memoizedProps)}break;case 27:Ot(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),a!==null&&u&4&&cc(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Ot(r,i),Lt(i),u&512&&(ut||a===null||Nn(a,a.return)),i.flags&32){g=i.stateNode;try{ms(g,"")}catch(ae){Le(i,i.return,ae)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,cc(i,g,a!==null?a.memoizedProps:g)),u&1024&&(hc=!0);break;case 6:if(Ot(r,i),Lt(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(ae){Le(i,i.return,ae)}}break;case 3:if(Oa=null,g=_n,_n=Ua(r.containerInfo),Ot(r,i),_n=g,Lt(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{js(r.containerInfo)}catch(ae){Le(i,i.return,ae)}hc&&(hc=!1,Wp(i));break;case 4:u=_n,_n=Ua(i.stateNode.containerInfo),Ot(r,i),Lt(i),_n=u;break;case 12:Ot(r,i),Lt(i);break;case 31:Ot(r,i),Lt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ba(i,u)));break;case 13:Ot(r,i),Lt(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wa=Tt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ba(i,u)));break;case 22:g=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=Vn,F=ut;if(Vn=H||g,ut=F||N,Ot(r,i),ut=F,Vn=H,Lt(i),u&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(a===null||N||Vn||ut||Xi(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(v=N.stateNode,g)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=N.stateNode;var Y=N.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ae){Le(N,N.return,ae)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(ae){Le(N,N.return,ae)}}}else if(r.tag===18){if(a===null){N=r;try{var $=N.stateNode;g?Gm($,!0):Gm(N.stateNode,!1)}catch(ae){Le(N,N.return,ae)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,ba(i,a))));break;case 19:Ot(r,i),Lt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ba(i,u)));break;case 30:break;case 21:break;default:Ot(r,i),Lt(i)}}function Lt(i){var r=i.flags;if(r&2){try{for(var a,u=i.return;u!==null;){if(zp(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,v=dc(i);_a(i,v,g);break;case 5:var w=a.stateNode;a.flags&32&&(ms(w,""),a.flags&=-33);var x=dc(i);_a(i,x,w);break;case 3:case 4:var N=a.stateNode.containerInfo,H=dc(i);fc(i,H,N);break;default:throw Error(s(161))}}catch(F){Le(i,i.return,F)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Wp(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Wp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Fn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fp(i,r.alternate,r),r=r.sibling}function Xi(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:mi(4,r,r.return),Xi(r);break;case 1:Nn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Gp(r,r.return,a),Xi(r);break;case 27:to(r.stateNode);case 26:case 5:Nn(r,r.return),Xi(r);break;case 22:r.memoizedState===null&&Xi(r);break;case 30:Xi(r);break;default:Xi(r)}i=i.sibling}}function jn(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=i,v=r,w=v.flags;switch(v.tag){case 0:case 11:case 15:jn(g,v,a),Fr(4,v);break;case 1:if(jn(g,v,a),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){Le(u,u.return,H)}if(u=v,g=u.updateQueue,g!==null){var x=u.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)Rh(N[g],x)}catch(H){Le(u,u.return,H)}}a&&w&64&&Bp(v),jr(v,v.return);break;case 27:Vp(v);case 26:case 5:jn(g,v,a),a&&u===null&&w&4&&Hp(v),jr(v,v.return);break;case 12:jn(g,v,a);break;case 31:jn(g,v,a),a&&w&4&&Yp(g,v);break;case 13:jn(g,v,a),a&&w&4&&Kp(g,v);break;case 22:v.memoizedState===null&&jn(g,v,a),jr(v,v.return);break;case 30:break;default:jn(g,v,a)}r=r.sibling}}function pc(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&kr(a))}function mc(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kr(i))}function bn(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qp(i,r,a,u),r=r.sibling}function Qp(i,r,a,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:bn(i,r,a,u),g&2048&&Fr(9,r);break;case 1:bn(i,r,a,u);break;case 3:bn(i,r,a,u),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kr(i)));break;case 12:if(g&2048){bn(i,r,a,u),i=r.stateNode;try{var v=r.memoizedProps,w=v.id,x=v.onPostCommit;typeof x=="function"&&x(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Le(r,r.return,N)}}else bn(i,r,a,u);break;case 31:bn(i,r,a,u);break;case 13:bn(i,r,a,u);break;case 23:break;case 22:v=r.stateNode,w=r.alternate,r.memoizedState!==null?v._visibility&2?bn(i,r,a,u):Jr(i,r):v._visibility&2?bn(i,r,a,u):(v._visibility|=2,Ps(i,r,a,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&pc(w,r);break;case 24:bn(i,r,a,u),g&2048&&mc(r.alternate,r);break;default:bn(i,r,a,u)}}function Ps(i,r,a,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,w=r,x=a,N=u,H=w.flags;switch(w.tag){case 0:case 11:case 15:Ps(v,w,x,N,g),Fr(8,w);break;case 23:break;case 22:var F=w.stateNode;w.memoizedState!==null?F._visibility&2?Ps(v,w,x,N,g):Jr(v,w):(F._visibility|=2,Ps(v,w,x,N,g)),g&&H&2048&&pc(w.alternate,w);break;case 24:Ps(v,w,x,N,g),g&&H&2048&&mc(w.alternate,w);break;default:Ps(v,w,x,N,g)}r=r.sibling}}function Jr(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,g=u.flags;switch(u.tag){case 22:Jr(a,u),g&2048&&pc(u.alternate,u);break;case 24:Jr(a,u),g&2048&&mc(u.alternate,u);break;default:Jr(a,u)}r=r.sibling}}var Yr=8192;function Os(i,r,a){if(i.subtreeFlags&Yr)for(i=i.child;i!==null;)Zp(i,r,a),i=i.sibling}function Zp(i,r,a){switch(i.tag){case 26:Os(i,r,a),i.flags&Yr&&i.memoizedState!==null&&ES(a,_n,i.memoizedState,i.memoizedProps);break;case 5:Os(i,r,a);break;case 3:case 4:var u=_n;_n=Ua(i.stateNode.containerInfo),Os(i,r,a),_n=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Yr,Yr=16777216,Os(i,r,a),Yr=u):Os(i,r,a));break;default:Os(i,r,a)}}function em(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Kr(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];mt=u,nm(u,i)}em(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tm(i),i=i.sibling}function tm(i){switch(i.tag){case 0:case 11:case 15:Kr(i),i.flags&2048&&mi(9,i,i.return);break;case 3:Kr(i);break;case 12:Kr(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Sa(i)):Kr(i);break;default:Kr(i)}}function Sa(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];mt=u,nm(u,i)}em(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:mi(8,r,r.return),Sa(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Sa(r));break;default:Sa(r)}i=i.sibling}}function nm(i,r){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:mi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kr(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,mt=u;else e:for(a=i;mt!==null;){u=mt;var g=u.sibling,v=u.return;if(jp(u),u===a){mt=null;break e}if(g!==null){g.return=v,mt=g;break e}mt=v}}}var qb={getCacheForType:function(i){var r=_t(ot),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return _t(ot).controller.signal}},Bb=typeof WeakMap=="function"?WeakMap:Map,De=0,Ve=null,Ee=null,Ce=0,Oe=0,Yt=null,gi=!1,Ls=!1,gc=!1,Jn=0,tt=0,yi=0,Wi=0,yc=0,Kt=0,qs=0,Xr=null,qt=null,vc=!1,wa=0,im=0,Ea=1/0,Ta=null,vi=null,dt=0,_i=null,Bs=null,Yn=0,_c=0,bc=null,sm=null,Wr=0,Sc=null;function Xt(){return(De&2)!==0&&Ce!==0?Ce&-Ce:B.T!==null?Ac():bf()}function rm(){if(Kt===0)if((Ce&536870912)===0||Re){var i=ko;ko<<=1,(ko&3932160)===0&&(ko=262144),Kt=i}else Kt=536870912;return i=jt.current,i!==null&&(i.flags|=32),Kt}function Bt(i,r,a){(i===Ve&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)&&(Gs(i,0),bi(i,Ce,Kt,!1)),vr(i,a),((De&2)===0||i!==Ve)&&(i===Ve&&((De&2)===0&&(Wi|=a),tt===4&&bi(i,Ce,Kt,!1)),In(i))}function om(i,r,a){if((De&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&i.expiredLanes)===0||yr(i,r),g=u?zb(i,r):Ec(i,r,!0),v=u;do{if(g===0){Ls&&!u&&bi(i,r,0,!1);break}else{if(a=i.current.alternate,v&&!Gb(a)){g=Ec(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var x=i;g=Xr;var N=x.current.memoizedState.isDehydrated;if(N&&(Gs(x,w).flags|=256),w=Ec(x,w,!1),w!==2){if(gc&&!N){x.errorRecoveryDisabledLanes|=v,Wi|=v,g=4;break e}v=qt,qt=g,v!==null&&(qt===null?qt=v:qt.push.apply(qt,v))}g=w}if(v=!1,g!==2)continue}}if(g===1){Gs(i,0),bi(i,r,0,!0);break}e:{switch(u=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:bi(u,r,Kt,!gi);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=wa+300-Tt(),10<g)){if(bi(u,r,Kt,!gi),Uo(u,0,!0)!==0)break e;Yn=r,u.timeoutHandle=Lm(am.bind(null,u,a,qt,Ta,vc,r,Kt,Wi,qs,gi,v,"Throttled",-0,0),g);break e}am(u,a,qt,Ta,vc,r,Kt,Wi,qs,gi,v,null,-0,0)}}break}while(!0);In(i)}function am(i,r,a,u,g,v,w,x,N,H,F,Y,z,$){if(i.timeoutHandle=-1,Y=r.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},Zp(r,v,Y);var ae=(v&62914560)===v?wa-Tt():(v&4194048)===v?im-Tt():0;if(ae=TS(Y,ae),ae!==null){Yn=v,i.cancelPendingCommit=ae(mm.bind(null,i,r,v,a,u,g,w,x,N,F,Y,null,z,$)),bi(i,v,w,!H);return}}mm(i,r,v,a,u,g,w,x,N)}function Gb(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],v=g.getSnapshot;g=g.value;try{if(!$t(v(),g))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bi(i,r,a,u){r&=~yc,r&=~Wi,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var g=r;0<g;){var v=31-Vt(g),w=1<<v;u[v]=-1,g&=~w}a!==0&&yf(i,a,r)}function xa(){return(De&6)===0?(Qr(0),!1):!0}function wc(){if(Ee!==null){if(Oe===0)var i=Ee.return;else i=Ee,Ln=zi=null,qu(i),Is=null,Ur=0,i=Ee;for(;i!==null;)qp(i.alternate,i),i=i.return;Ee=null}}function Gs(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,oS(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Yn=0,wc(),Ve=i,Ee=a=Pn(i.current,null),Ce=r,Oe=0,Yt=null,gi=!1,Ls=yr(i,r),gc=!1,qs=Kt=yc=Wi=yi=tt=0,qt=Xr=null,vc=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var g=31-Vt(u),v=1<<g;r|=i[g],u&=~v}return Jn=r,jo(),a}function lm(i,r){be=null,B.H=zr,r===Ns||r===ea?(r=Th(),Oe=3):r===Cu?(r=Th(),Oe=4):Oe=r===ec?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yt=r,Ee===null&&(tt=1,pa(i,an(r,i.current)))}function um(){var i=jt.current;return i===null?!0:(Ce&4194048)===Ce?dn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?i===dn:!1}function cm(){var i=B.H;return B.H=zr,i===null?zr:i}function dm(){var i=B.A;return B.A=qb,i}function Ca(){tt=4,gi||(Ce&4194048)!==Ce&&jt.current!==null||(Ls=!0),(yi&134217727)===0&&(Wi&134217727)===0||Ve===null||bi(Ve,Ce,Kt,!1)}function Ec(i,r,a){var u=De;De|=2;var g=cm(),v=dm();(Ve!==i||Ce!==r)&&(Ta=null,Gs(i,r)),r=!1;var w=tt;e:do try{if(Oe!==0&&Ee!==null){var x=Ee,N=Yt;switch(Oe){case 8:wc(),w=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(r=!0);var H=Oe;if(Oe=0,Yt=null,Hs(i,x,N,H),a&&Ls){w=0;break e}break;default:H=Oe,Oe=0,Yt=null,Hs(i,x,N,H)}}Hb(),w=tt;break}catch(F){lm(i,F)}while(!0);return r&&i.shellSuspendCounter++,Ln=zi=null,De=u,B.H=g,B.A=v,Ee===null&&(Ve=null,Ce=0,jo()),w}function Hb(){for(;Ee!==null;)fm(Ee)}function zb(i,r){var a=De;De|=2;var u=cm(),g=dm();Ve!==i||Ce!==r?(Ta=null,Ea=Tt()+500,Gs(i,r)):Ls=yr(i,r);e:do try{if(Oe!==0&&Ee!==null){r=Ee;var v=Yt;t:switch(Oe){case 1:Oe=0,Yt=null,Hs(i,r,v,1);break;case 2:case 9:if(wh(v)){Oe=0,Yt=null,hm(r);break}r=function(){Oe!==2&&Oe!==9||Ve!==i||(Oe=7),In(i)},v.then(r,r);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:wh(v)?(Oe=0,Yt=null,hm(r)):(Oe=0,Yt=null,Hs(i,r,v,7));break;case 5:var w=null;switch(Ee.tag){case 26:w=Ee.memoizedState;case 5:case 27:var x=Ee;if(w?Qm(w):x.stateNode.complete){Oe=0,Yt=null;var N=x.sibling;if(N!==null)Ee=N;else{var H=x.return;H!==null?(Ee=H,Aa(H)):Ee=null}break t}}Oe=0,Yt=null,Hs(i,r,v,5);break;case 6:Oe=0,Yt=null,Hs(i,r,v,6);break;case 8:wc(),tt=6;break e;default:throw Error(s(462))}}Vb();break}catch(F){lm(i,F)}while(!0);return Ln=zi=null,B.H=u,B.A=g,De=a,Ee!==null?0:(Ve=null,Ce=0,jo(),tt)}function Vb(){for(;Ee!==null&&!Pl();)fm(Ee)}function fm(i){var r=Op(i.alternate,i,Jn);i.memoizedProps=i.pendingProps,r===null?Aa(i):Ee=r}function hm(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Ip(a,r,r.pendingProps,r.type,void 0,Ce);break;case 11:r=Ip(a,r,r.pendingProps,r.type.render,r.ref,Ce);break;case 5:qu(r);default:qp(a,r),r=Ee=dh(r,Jn),r=Op(a,r,Jn)}i.memoizedProps=i.pendingProps,r===null?Aa(i):Ee=r}function Hs(i,r,a,u){Ln=zi=null,qu(r),Is=null,Ur=0;var g=r.return;try{if(Mb(i,g,r,a,Ce)){tt=1,pa(i,an(a,i.current)),Ee=null;return}}catch(v){if(g!==null)throw Ee=g,v;tt=1,pa(i,an(a,i.current)),Ee=null;return}r.flags&32768?(Re||u===1?i=!0:Ls||(Ce&536870912)!==0?i=!1:(gi=i=!0,(u===2||u===9||u===3||u===6)&&(u=jt.current,u!==null&&u.tag===13&&(u.flags|=16384))),pm(r,i)):Aa(r)}function Aa(i){var r=i;do{if((r.flags&32768)!==0){pm(r,gi);return}i=r.return;var a=Ub(r.alternate,r,Jn);if(a!==null){Ee=a;return}if(r=r.sibling,r!==null){Ee=r;return}Ee=r=i}while(r!==null);tt===0&&(tt=5)}function pm(i,r){do{var a=Pb(i.alternate,i);if(a!==null){a.flags&=32767,Ee=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Ee=i;return}Ee=i=a}while(i!==null);tt=6,Ee=null}function mm(i,r,a,u,g,v,w,x,N){i.cancelPendingCommit=null;do Ra();while(dt!==0);if((De&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=du,w_(i,a,v,w,x,N),i===Ve&&(Ee=Ve=null,Ce=0),Bs=r,_i=i,Yn=a,_c=v,bc=g,sm=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Jb(ls,function(){return bm(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,g=Z.p,Z.p=2,w=De,De|=4;try{Ob(i,r,a)}finally{De=w,Z.p=g,B.T=u}}dt=1,gm(),ym(),vm()}}function gm(){if(dt===1){dt=0;var i=_i,r=Bs,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var u=Z.p;Z.p=2;var g=De;De|=4;try{Xp(r,i);var v=Pc,w=nh(i.containerInfo),x=v.focusedElem,N=v.selectionRange;if(w!==x&&x&&x.ownerDocument&&th(x.ownerDocument.documentElement,x)){if(N!==null&&ou(x)){var H=N.start,F=N.end;if(F===void 0&&(F=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(F,x.value.length);else{var Y=x.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var $=z.getSelection(),ae=x.textContent.length,he=Math.min(N.start,ae),ze=N.end===void 0?he:Math.min(N.end,ae);!$.extend&&he>ze&&(w=ze,ze=he,he=w);var U=eh(x,he),k=eh(x,ze);if(U&&k&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var G=Y.createRange();G.setStart(U.node,U.offset),$.removeAllRanges(),he>ze?($.addRange(G),$.extend(k.node,k.offset)):(G.setEnd(k.node,k.offset),$.addRange(G))}}}}for(Y=[],$=x;$=$.parentNode;)$.nodeType===1&&Y.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var J=Y[x];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ga=!!Uc,Pc=Uc=null}finally{De=g,Z.p=u,B.T=a}}i.current=r,dt=2}}function ym(){if(dt===2){dt=0;var i=_i,r=Bs,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var u=Z.p;Z.p=2;var g=De;De|=4;try{Fp(i,r.alternate,r)}finally{De=g,Z.p=u,B.T=a}}dt=3}}function vm(){if(dt===4||dt===3){dt=0,Ol();var i=_i,r=Bs,a=Yn,u=sm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?dt=5:(dt=0,Bs=_i=null,_m(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(vi=null),Hl(a),r=r.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Di,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=B.T,g=Z.p,Z.p=2,B.T=null;try{for(var v=i.onRecoverableError,w=0;w<u.length;w++){var x=u[w];v(x.value,{componentStack:x.stack})}}finally{B.T=r,Z.p=g}}(Yn&3)!==0&&Ra(),In(i),g=i.pendingLanes,(a&261930)!==0&&(g&42)!==0?i===Sc?Wr++:(Wr=0,Sc=i):Wr=0,Qr(0)}}function _m(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kr(r)))}function Ra(){return gm(),ym(),vm(),bm()}function bm(){if(dt!==5)return!1;var i=_i,r=_c;_c=0;var a=Hl(Yn),u=B.T,g=Z.p;try{Z.p=32>a?32:a,B.T=null,a=bc,bc=null;var v=_i,w=Yn;if(dt=0,Bs=_i=null,Yn=0,(De&6)!==0)throw Error(s(331));var x=De;if(De|=4,tm(v.current),Qp(v,v.current,w,a),De=x,Qr(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Di,v)}catch{}return!0}finally{Z.p=g,B.T=u,_m(i,r)}}function Sm(i,r,a){r=an(a,r),r=Zu(i.stateNode,r,2),i=fi(i,r,2),i!==null&&(vr(i,2),In(i))}function Le(i,r,a){if(i.tag===3)Sm(i,i,a);else for(;r!==null;){if(r.tag===3){Sm(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(vi===null||!vi.has(u))){i=an(a,i),a=wp(2),u=fi(r,a,2),u!==null&&(Ep(a,u,r,i),vr(u,2),In(u));break}}r=r.return}}function Tc(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new Bb;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(a)||(gc=!0,g.add(a),i=$b.bind(null,i,r,a),r.then(i,i))}function $b(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ve===i&&(Ce&a)===a&&(tt===4||tt===3&&(Ce&62914560)===Ce&&300>Tt()-wa?(De&2)===0&&Gs(i,0):yc|=a,qs===Ce&&(qs=0)),In(i)}function wm(i,r){r===0&&(r=gf()),i=Bi(i,r),i!==null&&(vr(i,r),In(i))}function Fb(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),wm(i,a)}function jb(i,r){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),wm(i,a)}function Jb(i,r){return kt(i,r)}var Na=null,zs=null,xc=!1,Ia=!1,Cc=!1,Si=0;function In(i){i!==zs&&i.next===null&&(zs===null?Na=zs=i:zs=zs.next=i),Ia=!0,xc||(xc=!0,Kb())}function Qr(i,r){if(!Cc&&Ia){Cc=!0;do for(var a=!1,u=Na;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var w=u.suspendedLanes,x=u.pingedLanes;v=(1<<31-Vt(42|i)+1)-1,v&=g&~(w&~x),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Cm(u,v))}else v=Ce,v=Uo(u,u===Ve?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||yr(u,v)||(a=!0,Cm(u,v));u=u.next}while(a);Cc=!1}}function Yb(){Em()}function Em(){Ia=xc=!1;var i=0;Si!==0&&rS()&&(i=Si);for(var r=Tt(),a=null,u=Na;u!==null;){var g=u.next,v=Tm(u,r);v===0?(u.next=null,a===null?Na=g:a.next=g,g===null&&(zs=a)):(a=u,(i!==0||(v&3)!==0)&&(Ia=!0)),u=g}dt!==0&&dt!==5||Qr(i),Si!==0&&(Si=0)}function Tm(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var w=31-Vt(v),x=1<<w,N=g[w];N===-1?((x&a)===0||(x&u)!==0)&&(g[w]=S_(x,r)):N<=r&&(i.expiredLanes|=x),v&=~x}if(r=Ve,a=Ce,a=Uo(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===r&&(Oe===2||Oe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&hr(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||yr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&hr(u),Hl(a)){case 2:case 8:a=No;break;case 32:a=ls;break;case 268435456:a=mr;break;default:a=ls}return u=xm.bind(null,i),a=kt(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&hr(u),i.callbackPriority=2,i.callbackNode=null,2}function xm(i,r){if(dt!==0&&dt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Ra()&&i.callbackNode!==a)return null;var u=Ce;return u=Uo(i,i===Ve?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(om(i,u,r),Tm(i,Tt()),i.callbackNode!=null&&i.callbackNode===a?xm.bind(null,i):null)}function Cm(i,r){if(Ra())return null;om(i,r,!0)}function Kb(){aS(function(){(De&6)!==0?kt(pr,Yb):Em()})}function Ac(){if(Si===0){var i=As;i===0&&(i=Mo,Mo<<=1,(Mo&261888)===0&&(Mo=256)),Si=i}return Si}function Am(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qo(""+i)}function Rm(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function Xb(i,r,a,u,g){if(r==="submit"&&a&&a.stateNode===g){var v=Am((g[Dt]||null).action),w=u.submitter;w&&(r=(r=w[Dt]||null)?Am(r.formAction):w.getAttribute("formAction"),r!==null&&(v=r,w=null));var x=new zo("action","action",null,u,g);i.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Si!==0){var N=w?Rm(g,w):new FormData(g);Ju(a,{pending:!0,data:N,method:g.method,action:v},null,N)}}else typeof v=="function"&&(x.preventDefault(),N=w?Rm(g,w):new FormData(g),Ju(a,{pending:!0,data:N,method:g.method,action:v},v,N))},currentTarget:g}]})}}for(var Rc=0;Rc<cu.length;Rc++){var Nc=cu[Rc],Wb=Nc.toLowerCase(),Qb=Nc[0].toUpperCase()+Nc.slice(1);vn(Wb,"on"+Qb)}vn(rh,"onAnimationEnd"),vn(oh,"onAnimationIteration"),vn(ah,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(pb,"onTransitionRun"),vn(mb,"onTransitionStart"),vn(gb,"onTransitionCancel"),vn(lh,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zr));function Nm(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],g=u.event;u=u.listeners;e:{var v=void 0;if(r)for(var w=u.length-1;0<=w;w--){var x=u[w],N=x.instance,H=x.currentTarget;if(x=x.listener,N!==v&&g.isPropagationStopped())break e;v=x,g.currentTarget=H;try{v(g)}catch(F){Fo(F)}g.currentTarget=null,v=N}else for(w=0;w<u.length;w++){if(x=u[w],N=x.instance,H=x.currentTarget,x=x.listener,N!==v&&g.isPropagationStopped())break e;v=x,g.currentTarget=H;try{v(g)}catch(F){Fo(F)}g.currentTarget=null,v=N}}}}function Te(i,r){var a=r[zl];a===void 0&&(a=r[zl]=new Set);var u=i+"__bubble";a.has(u)||(Im(r,i,2,!1),a.add(u))}function Ic(i,r,a){var u=0;r&&(u|=4),Im(a,i,u,r)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function Mc(i){if(!i[Ma]){i[Ma]=!0,Ef.forEach(function(a){a!=="selectionchange"&&(Zb.has(a)||Ic(a,!1,i),Ic(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ma]||(r[Ma]=!0,Ic("selectionchange",!1,r))}}function Im(i,r,a,u){switch(rg(r)){case 2:var g=AS;break;case 8:g=RS;break;default:g=jc}a=g.bind(null,r,a,i),g=void 0,!Wl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(r,a,{capture:!0,passive:g}):i.addEventListener(r,a,!0):g!==void 0?i.addEventListener(r,a,{passive:g}):i.addEventListener(r,a,!1)}function kc(i,r,a,u,g){var v=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var x=u.stateNode.containerInfo;if(x===g)break;if(w===4)for(w=u.return;w!==null;){var N=w.tag;if((N===3||N===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;x!==null;){if(w=cs(x),w===null)return;if(N=w.tag,N===5||N===6||N===26||N===27){u=v=w;continue e}x=x.parentNode}}u=u.return}Pf(function(){var H=v,F=Kl(a),Y=[];e:{var z=uh.get(i);if(z!==void 0){var $=zo,ae=i;switch(i){case"keypress":if(Go(a)===0)break e;case"keydown":case"keyup":$=j_;break;case"focusin":ae="focus",$=tu;break;case"focusout":ae="blur",$=tu;break;case"beforeblur":case"afterblur":$=tu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=U_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=K_;break;case rh:case oh:case ah:$=L_;break;case lh:$=W_;break;case"scroll":case"scrollend":$=k_;break;case"wheel":$=Z_;break;case"copy":case"cut":case"paste":$=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Gf;break;case"toggle":case"beforetoggle":$=tb}var he=(r&4)!==0,ze=!he&&(i==="scroll"||i==="scrollend"),U=he?z!==null?z+"Capture":null:z;he=[];for(var k=H,G;k!==null;){var J=k;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||U===null||(J=Sr(k,U),J!=null&&he.push(eo(k,J,G))),ze)break;k=k.return}0<he.length&&(z=new $(z,ae,null,a,F),Y.push({event:z,listeners:he}))}}if((r&7)===0){e:{if(z=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",z&&a!==Yl&&(ae=a.relatedTarget||a.fromElement)&&(cs(ae)||ae[us]))break e;if(($||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,$?(ae=a.relatedTarget||a.toElement,$=H,ae=ae?cs(ae):null,ae!==null&&(ze=l(ae),he=ae.tag,ae!==ze||he!==5&&he!==27&&he!==6)&&(ae=null)):($=null,ae=H),$!==ae)){if(he=qf,J="onMouseLeave",U="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(he=Gf,J="onPointerLeave",U="onPointerEnter",k="pointer"),ze=$==null?z:br($),G=ae==null?z:br(ae),z=new he(J,k+"leave",$,a,F),z.target=ze,z.relatedTarget=G,J=null,cs(F)===H&&(he=new he(U,k+"enter",ae,a,F),he.target=G,he.relatedTarget=ze,J=he),ze=J,$&&ae)t:{for(he=eS,U=$,k=ae,G=0,J=U;J;J=he(J))G++;J=0;for(var de=k;de;de=he(de))J++;for(;0<G-J;)U=he(U),G--;for(;0<J-G;)k=he(k),J--;for(;G--;){if(U===k||k!==null&&U===k.alternate){he=U;break t}U=he(U),k=he(k)}he=null}else he=null;$!==null&&Mm(Y,z,$,he,!1),ae!==null&&ze!==null&&Mm(Y,ze,ae,he,!0)}}e:{if(z=H?br(H):window,$=z.nodeName&&z.nodeName.toLowerCase(),$==="select"||$==="input"&&z.type==="file")var Ie=Yf;else if(jf(z))if(Kf)Ie=db;else{Ie=ub;var le=lb}else $=z.nodeName,!$||$.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?H&&Jl(H.elementType)&&(Ie=Yf):Ie=cb;if(Ie&&(Ie=Ie(i,H))){Jf(Y,Ie,a,F);break e}le&&le(i,z,H),i==="focusout"&&H&&z.type==="number"&&H.memoizedProps.value!=null&&jl(z,"number",z.value)}switch(le=H?br(H):window,i){case"focusin":(jf(le)||le.contentEditable==="true")&&(_s=le,au=H,Nr=null);break;case"focusout":Nr=au=_s=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,ih(Y,a,F);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":ih(Y,a,F)}var we;if(iu)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else vs?$f(i,a)&&(Ae="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Hf&&a.locale!=="ko"&&(vs||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&vs&&(we=Of()):(ri=F,Ql="value"in ri?ri.value:ri.textContent,vs=!0)),le=ka(H,Ae),0<le.length&&(Ae=new Bf(Ae,i,null,a,F),Y.push({event:Ae,listeners:le}),we?Ae.data=we:(we=Ff(a),we!==null&&(Ae.data=we)))),(we=ib?sb(i,a):rb(i,a))&&(Ae=ka(H,"onBeforeInput"),0<Ae.length&&(le=new Bf("onBeforeInput","beforeinput",null,a,F),Y.push({event:le,listeners:Ae}),le.data=we)),Xb(Y,i,H,a,F)}Nm(Y,r)})}function eo(i,r,a){return{instance:i,listener:r,currentTarget:a}}function ka(i,r){for(var a=r+"Capture",u=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Sr(i,a),g!=null&&u.unshift(eo(i,g,v)),g=Sr(i,r),g!=null&&u.push(eo(i,g,v))),i.tag===3)return u;i=i.return}return[]}function eS(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mm(i,r,a,u,g){for(var v=r._reactName,w=[];a!==null&&a!==u;){var x=a,N=x.alternate,H=x.stateNode;if(x=x.tag,N!==null&&N===u)break;x!==5&&x!==26&&x!==27||H===null||(N=H,g?(H=Sr(a,v),H!=null&&w.unshift(eo(a,H,N))):g||(H=Sr(a,v),H!=null&&w.push(eo(a,H,N)))),a=a.return}w.length!==0&&i.push({event:r,listeners:w})}var tS=/\r\n?/g,nS=/\u0000|\uFFFD/g;function km(i){return(typeof i=="string"?i:""+i).replace(tS,`
`).replace(nS,"")}function Dm(i,r){return r=km(r),km(i)===r}function He(i,r,a,u,g,v){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ms(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ms(i,""+u);break;case"className":Oo(i,"class",u);break;case"tabIndex":Oo(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Oo(i,a,u);break;case"style":Df(i,u,v);break;case"data":if(r!=="object"){Oo(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=qo(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(r!=="input"&&He(i,r,"name",g.name,g,null),He(i,r,"formEncType",g.formEncType,g,null),He(i,r,"formMethod",g.formMethod,g,null),He(i,r,"formTarget",g.formTarget,g,null)):(He(i,r,"encType",g.encType,g,null),He(i,r,"method",g.method,g,null),He(i,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=qo(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Dn);break;case"onScroll":u!=null&&Te("scroll",i);break;case"onScrollEnd":u!=null&&Te("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=qo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Te("beforetoggle",i),Te("toggle",i),Po(i,"popover",u);break;case"xlinkActuate":kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":kn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":kn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":kn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":kn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Po(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=I_.get(a)||a,Po(i,a,u))}}function Dc(i,r,a,u,g,v){switch(a){case"style":Df(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?ms(i,u):(typeof u=="number"||typeof u=="bigint")&&ms(i,""+u);break;case"onScroll":u!=null&&Te("scroll",i);break;case"onScrollEnd":u!=null&&Te("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),r=a.slice(2,g?a.length-7:void 0),v=i[Dt]||null,v=v!=null?v[a]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,g);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Po(i,a,u)}}}function St(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",i),Te("load",i);var u=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var w=a[v];if(w!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:He(i,r,v,w,a,null)}}g&&He(i,r,"srcSet",a.srcSet,a,null),u&&He(i,r,"src",a.src,a,null);return;case"input":Te("invalid",i);var x=v=w=g=null,N=null,H=null;for(u in a)if(a.hasOwnProperty(u)){var F=a[u];if(F!=null)switch(u){case"name":g=F;break;case"type":w=F;break;case"checked":N=F;break;case"defaultChecked":H=F;break;case"value":v=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:He(i,r,u,F,a,null)}}Nf(i,v,x,N,H,w,g,!1);return;case"select":Te("invalid",i),u=w=v=null;for(g in a)if(a.hasOwnProperty(g)&&(x=a[g],x!=null))switch(g){case"value":v=x;break;case"defaultValue":w=x;break;case"multiple":u=x;default:He(i,r,g,x,a,null)}r=v,a=w,i.multiple=!!u,r!=null?ps(i,!!u,r,!1):a!=null&&ps(i,!!u,a,!0);return;case"textarea":Te("invalid",i),v=g=u=null;for(w in a)if(a.hasOwnProperty(w)&&(x=a[w],x!=null))switch(w){case"value":u=x;break;case"defaultValue":g=x;break;case"children":v=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:He(i,r,w,x,a,null)}Mf(i,u,g,v);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:He(i,r,N,u,a,null)}return;case"dialog":Te("beforetoggle",i),Te("toggle",i),Te("cancel",i),Te("close",i);break;case"iframe":case"object":Te("load",i);break;case"video":case"audio":for(u=0;u<Zr.length;u++)Te(Zr[u],i);break;case"image":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"embed":case"source":case"link":Te("error",i),Te("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(u=a[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:He(i,r,H,u,a,null)}return;default:if(Jl(r)){for(F in a)a.hasOwnProperty(F)&&(u=a[F],u!==void 0&&Dc(i,r,F,u,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(u=a[x],u!=null&&He(i,r,x,u,a,null))}function iS(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,w=null,x=null,N=null,H=null,F=null;for($ in a){var Y=a[$];if(a.hasOwnProperty($)&&Y!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=Y;default:u.hasOwnProperty($)||He(i,r,$,null,u,Y)}}for(var z in u){var $=u[z];if(Y=a[z],u.hasOwnProperty(z)&&($!=null||Y!=null))switch(z){case"type":v=$;break;case"name":g=$;break;case"checked":H=$;break;case"defaultChecked":F=$;break;case"value":w=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==Y&&He(i,r,z,$,u,Y)}}Fl(i,w,x,N,H,F,v,g);return;case"select":$=w=x=z=null;for(v in a)if(N=a[v],a.hasOwnProperty(v)&&N!=null)switch(v){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(v)||He(i,r,v,null,u,N)}for(g in u)if(v=u[g],N=a[g],u.hasOwnProperty(g)&&(v!=null||N!=null))switch(g){case"value":z=v;break;case"defaultValue":x=v;break;case"multiple":w=v;default:v!==N&&He(i,r,g,v,u,N)}r=x,a=w,u=$,z!=null?ps(i,!!a,z,!1):!!u!=!!a&&(r!=null?ps(i,!!a,r,!0):ps(i,!!a,a?[]:"",!1));return;case"textarea":$=z=null;for(x in a)if(g=a[x],a.hasOwnProperty(x)&&g!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:He(i,r,x,null,u,g)}for(w in u)if(g=u[w],v=a[w],u.hasOwnProperty(w)&&(g!=null||v!=null))switch(w){case"value":z=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&He(i,r,w,g,u,v)}If(i,z,$);return;case"option":for(var ae in a)if(z=a[ae],a.hasOwnProperty(ae)&&z!=null&&!u.hasOwnProperty(ae))switch(ae){case"selected":i.selected=!1;break;default:He(i,r,ae,null,u,z)}for(N in u)if(z=u[N],$=a[N],u.hasOwnProperty(N)&&z!==$&&(z!=null||$!=null))switch(N){case"selected":i.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:He(i,r,N,z,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)z=a[he],a.hasOwnProperty(he)&&z!=null&&!u.hasOwnProperty(he)&&He(i,r,he,null,u,z);for(H in u)if(z=u[H],$=a[H],u.hasOwnProperty(H)&&z!==$&&(z!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,r));break;default:He(i,r,H,z,u,$)}return;default:if(Jl(r)){for(var ze in a)z=a[ze],a.hasOwnProperty(ze)&&z!==void 0&&!u.hasOwnProperty(ze)&&Dc(i,r,ze,void 0,u,z);for(F in u)z=u[F],$=a[F],!u.hasOwnProperty(F)||z===$||z===void 0&&$===void 0||Dc(i,r,F,z,u,$);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!u.hasOwnProperty(U)&&He(i,r,U,null,u,z);for(Y in u)z=u[Y],$=a[Y],!u.hasOwnProperty(Y)||z===$||z==null&&$==null||He(i,r,Y,z,u,$)}function Um(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sS(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],v=g.transferSize,w=g.initiatorType,x=g.duration;if(v&&x&&Um(w)){for(w=0,x=g.responseEnd,u+=1;u<a.length;u++){var N=a[u],H=N.startTime;if(H>x)break;var F=N.transferSize,Y=N.initiatorType;F&&Um(Y)&&(N=N.responseEnd,w+=F*(N<x?1:(x-H)/(N-H)))}if(--u,r+=8*(v+w)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Uc=null,Pc=null;function Da(i){return i.nodeType===9?i:i.ownerDocument}function Pm(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Om(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Oc(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lc=null;function rS(){var i=window.event;return i&&i.type==="popstate"?i===Lc?!1:(Lc=i,!0):(Lc=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,aS=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(i){return qm.resolve(null).then(i).catch(lS)}:Lm;function lS(i){setTimeout(function(){throw i})}function wi(i){return i==="head"}function Bm(i,r){var a=r,u=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(g),js(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")to(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,to(a);for(var v=a.firstChild;v;){var w=v.nextSibling,x=v.nodeName;v[_r]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}else a==="body"&&to(i.ownerDocument.body);a=g}while(a);js(r)}function Gm(i,r){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function qc(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qc(a),Vl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function uS(i,r,a,u){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[_r])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=fn(i.nextSibling),i===null)break}return null}function cS(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=fn(i.nextSibling),i===null))return null;return i}function Hm(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=fn(i.nextSibling),i===null))return null;return i}function Bc(i){return i.data==="$?"||i.data==="$~"}function Gc(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function dS(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function fn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Hc=null;function zm(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return fn(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function Vm(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function $m(i,r,a){switch(r=Da(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function to(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Vl(i)}var hn=new Map,Fm=new Set;function Ua(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Kn=Z.d;Z.d={f:fS,r:hS,D:pS,C:mS,L:gS,m:yS,X:_S,S:vS,M:bS};function fS(){var i=Kn.f(),r=xa();return i||r}function hS(i){var r=ds(i);r!==null&&r.tag===5&&r.type==="form"?lp(r):Kn.r(i)}var Vs=typeof document>"u"?null:document;function jm(i,r,a){var u=Vs;if(u&&typeof r=="string"&&r){var g=rn(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Fm.has(g)||(Fm.add(g),i={rel:i,crossOrigin:a,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),St(r,"link",i),pt(r),u.head.appendChild(r)))}}function pS(i){Kn.D(i),jm("dns-prefetch",i,null)}function mS(i,r){Kn.C(i,r),jm("preconnect",i,r)}function gS(i,r,a){Kn.L(i,r,a);var u=Vs;if(u&&i&&r){var g='link[rel="preload"][as="'+rn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+rn(a.imageSizes)+'"]')):g+='[href="'+rn(i)+'"]';var v=g;switch(r){case"style":v=$s(i);break;case"script":v=Fs(i)}hn.has(v)||(i=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),hn.set(v,i),u.querySelector(g)!==null||r==="style"&&u.querySelector(no(v))||r==="script"&&u.querySelector(io(v))||(r=u.createElement("link"),St(r,"link",i),pt(r),u.head.appendChild(r)))}}function yS(i,r){Kn.m(i,r);var a=Vs;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(i)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Fs(i)}if(!hn.has(v)&&(i=_({rel:"modulepreload",href:i},r),hn.set(v,i),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(io(v)))return}u=a.createElement("link"),St(u,"link",i),pt(u),a.head.appendChild(u)}}}function vS(i,r,a){Kn.S(i,r,a);var u=Vs;if(u&&i){var g=fs(u).hoistableStyles,v=$s(i);r=r||"default";var w=g.get(v);if(!w){var x={loading:0,preload:null};if(w=u.querySelector(no(v)))x.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},a),(a=hn.get(v))&&zc(i,a);var N=w=u.createElement("link");pt(N),St(N,"link",i),N._p=new Promise(function(H,F){N.onload=H,N.onerror=F}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Pa(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:x},g.set(v,w)}}}function _S(i,r){Kn.X(i,r);var a=Vs;if(a&&i){var u=fs(a).hoistableScripts,g=Fs(i),v=u.get(g);v||(v=a.querySelector(io(g)),v||(i=_({src:i,async:!0},r),(r=hn.get(g))&&Vc(i,r),v=a.createElement("script"),pt(v),St(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function bS(i,r){Kn.M(i,r);var a=Vs;if(a&&i){var u=fs(a).hoistableScripts,g=Fs(i),v=u.get(g);v||(v=a.querySelector(io(g)),v||(i=_({src:i,async:!0,type:"module"},r),(r=hn.get(g))&&Vc(i,r),v=a.createElement("script"),pt(v),St(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function Jm(i,r,a,u){var g=(g=se.current)?Ua(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=$s(a.href),a=fs(g).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=$s(a.href);var v=fs(g).hoistableStyles,w=v.get(i);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,w),(v=g.querySelector(no(i)))&&!v._p&&(w.instance=v,w.state.loading=5),hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(i,a),v||SS(g,i,a,w.state))),r&&u===null)throw Error(s(528,""));return w}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fs(a),a=fs(g).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function $s(i){return'href="'+rn(i)+'"'}function no(i){return'link[rel="stylesheet"]['+i+"]"}function Ym(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function SS(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),St(r,"link",a),pt(r),i.head.appendChild(r))}function Fs(i){return'[src="'+rn(i)+'"]'}function io(i){return"script[async]"+i}function Km(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+rn(a.href)+'"]');if(u)return r.instance=u,pt(u),u;var g=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pt(u),St(u,"style",g),Pa(u,a.precedence,i),r.instance=u;case"stylesheet":g=$s(a.href);var v=i.querySelector(no(g));if(v)return r.state.loading|=4,r.instance=v,pt(v),v;u=Ym(a),(g=hn.get(g))&&zc(u,g),v=(i.ownerDocument||i).createElement("link"),pt(v);var w=v;return w._p=new Promise(function(x,N){w.onload=x,w.onerror=N}),St(v,"link",u),r.state.loading|=4,Pa(v,a.precedence,i),r.instance=v;case"script":return v=Fs(a.src),(g=i.querySelector(io(v)))?(r.instance=g,pt(g),g):(u=a,(g=hn.get(v))&&(u=_({},a),Vc(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),pt(g),St(g,"link",u),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Pa(u,a.precedence,i));return r.instance}function Pa(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,w=0;w<u.length;w++){var x=u[w];if(x.dataset.precedence===r)v=x;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function zc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Vc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Oa=null;function Xm(i,r,a){if(Oa===null){var u=new Map,g=Oa=new Map;g.set(a,u)}else g=Oa,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var v=a[g];if(!(v[_r]||v[yt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(r)||"";w=i+w;var x=u.get(w);x?x.push(v):u.set(w,[v])}}return u}function Wm(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function wS(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qm(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ES(i,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=$s(u.href),v=r.querySelector(no(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=La.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=v,pt(v);return}v=r.ownerDocument||r,u=Ym(u),(g=hn.get(g))&&zc(u,g),v=v.createElement("link"),pt(v);var w=v;w._p=new Promise(function(x,N){w.onload=x,w.onerror=N}),St(v,"link",u),a.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=La.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var $c=0;function TS(i,r){return i.stylesheets&&i.count===0&&Ba(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&Ba(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&$c===0&&($c=62500*sS());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ba(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>$c?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function La(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ba(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qa=null;function Ba(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qa=new Map,r.forEach(xS,i),qa=null,La.call(i))}function xS(i,r){if(!(r.state.loading&4)){var a=qa.get(i);if(a)var u=a.get(null);else{a=new Map,qa.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var w=g[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}g=r.instance,w=g.getAttribute("data-precedence"),v=a.get(w)||u,v===u&&a.set(null,g),a.set(w,g),this.count++,u=La.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var so={$$typeof:I,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function CS(i,r,a,u,g,v,w,x,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bl(0),this.hiddenUpdates=Bl(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Zm(i,r,a,u,g,v,w,x,N,H,F,Y){return i=new CS(i,r,a,w,N,H,F,Y,x),r=1,v===!0&&(r|=24),v=Ft(3,null,null,r),i.current=v,v.stateNode=i,r=Eu(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:u,isDehydrated:a,cache:r},Au(v),i}function eg(i){return i?(i=ws,i):ws}function tg(i,r,a,u,g,v){g=eg(g),u.context===null?u.context=g:u.pendingContext=g,u=di(r),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=fi(i,u,r),a!==null&&(Bt(a,i,r),Or(a,i,r))}function ng(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Fc(i,r){ng(i,r),(i=i.alternate)&&ng(i,r)}function ig(i){if(i.tag===13||i.tag===31){var r=Bi(i,67108864);r!==null&&Bt(r,i,67108864),Fc(i,67108864)}}function sg(i){if(i.tag===13||i.tag===31){var r=Xt();r=Gl(r);var a=Bi(i,r);a!==null&&Bt(a,i,r),Fc(i,r)}}var Ga=!0;function AS(i,r,a,u){var g=B.T;B.T=null;var v=Z.p;try{Z.p=2,jc(i,r,a,u)}finally{Z.p=v,B.T=g}}function RS(i,r,a,u){var g=B.T;B.T=null;var v=Z.p;try{Z.p=8,jc(i,r,a,u)}finally{Z.p=v,B.T=g}}function jc(i,r,a,u){if(Ga){var g=Jc(u);if(g===null)kc(i,r,u,Ha,a),og(i,u);else if(IS(g,i,r,a,u))u.stopPropagation();else if(og(i,u),r&4&&-1<NS.indexOf(i)){for(;g!==null;){var v=ds(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=Ui(v.pendingLanes);if(w!==0){var x=v;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var N=1<<31-Vt(w);x.entanglements[1]|=N,w&=~N}In(v),(De&6)===0&&(Ea=Tt()+500,Qr(0))}}break;case 31:case 13:x=Bi(v,2),x!==null&&Bt(x,v,2),xa(),Fc(v,2)}if(v=Jc(u),v===null&&kc(i,r,u,Ha,a),v===g)break;g=v}g!==null&&u.stopPropagation()}else kc(i,r,u,null,a)}}function Jc(i){return i=Kl(i),Yc(i)}var Ha=null;function Yc(i){if(Ha=null,i=cs(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=f(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ha=i,null}function rg(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ll()){case pr:return 2;case No:return 8;case ls:case Io:return 32;case mr:return 268435456;default:return 32}default:return 32}}var Kc=!1,Ei=null,Ti=null,xi=null,ro=new Map,oo=new Map,Ci=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function og(i,r){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":ro.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(r.pointerId)}}function ao(i,r,a,u,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},r!==null&&(r=ds(r),r!==null&&ig(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function IS(i,r,a,u,g){switch(r){case"focusin":return Ei=ao(Ei,i,r,a,u,g),!0;case"dragenter":return Ti=ao(Ti,i,r,a,u,g),!0;case"mouseover":return xi=ao(xi,i,r,a,u,g),!0;case"pointerover":var v=g.pointerId;return ro.set(v,ao(ro.get(v)||null,i,r,a,u,g)),!0;case"gotpointercapture":return v=g.pointerId,oo.set(v,ao(oo.get(v)||null,i,r,a,u,g)),!0}return!1}function ag(i){var r=cs(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Sf(i.priority,function(){sg(a)});return}}else if(r===31){if(r=f(a),r!==null){i.blockedOn=r,Sf(i.priority,function(){sg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function za(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Jc(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Yl=u,a.target.dispatchEvent(u),Yl=null}else return r=ds(a),r!==null&&ig(r),i.blockedOn=a,!1;r.shift()}return!0}function lg(i,r,a){za(i)&&a.delete(r)}function MS(){Kc=!1,Ei!==null&&za(Ei)&&(Ei=null),Ti!==null&&za(Ti)&&(Ti=null),xi!==null&&za(xi)&&(xi=null),ro.forEach(lg),oo.forEach(lg)}function Va(i,r){i.blockedOn===r&&(i.blockedOn=null,Kc||(Kc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MS)))}var $a=null;function ug(i){$a!==i&&($a=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$a===i&&($a=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],g=i[r+2];if(typeof u!="function"){if(Yc(u||a)===null)continue;break}var v=ds(a);v!==null&&(i.splice(r,3),r-=3,Ju(v,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function js(i){function r(N){return Va(N,i)}Ei!==null&&Va(Ei,i),Ti!==null&&Va(Ti,i),xi!==null&&Va(xi,i),ro.forEach(r),oo.forEach(r);for(var a=0;a<Ci.length;a++){var u=Ci[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ci.length&&(a=Ci[0],a.blockedOn===null);)ag(a),a.blockedOn===null&&Ci.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],v=a[u+1],w=g[Dt]||null;if(typeof v=="function")w||ug(a);else if(w){var x=null;if(v&&v.hasAttribute("formAction")){if(g=v,w=v[Dt]||null)x=w.formAction;else if(Yc(g)!==null)continue}else x=w.action;typeof x=="function"?a[u+1]=x:(a.splice(u,3),u-=3),ug(a)}}}function cg(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return g=w})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Xc(i){this._internalRoot=i}Fa.prototype.render=Xc.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Xt();tg(a,u,i,r,null,null)},Fa.prototype.unmount=Xc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;tg(i.current,2,null,i,null,null),xa(),r[us]=null}};function Fa(i){this._internalRoot=i}Fa.prototype.unstable_scheduleHydration=function(i){if(i){var r=bf();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Ci.length&&r!==0&&r<Ci[a].priority;a++);Ci.splice(a,0,i),a===0&&ag(i)}};var dg=e.version;if(dg!=="19.2.3")throw Error(s(527,dg,"19.2.3"));Z.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var kS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ja.isDisabled&&ja.supportsFiber)try{Di=ja.inject(kS),zt=ja}catch{}}return uo.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",g=vp,v=_p,w=bp;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=Zm(i,1,!1,null,null,a,u,null,g,v,w,cg),i[us]=r.current,Mc(i),new Xc(r)},uo.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,g="",v=vp,w=_p,x=bp,N=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=Zm(i,1,!0,r,a??null,u,g,N,v,w,x,cg),r.context=eg(null),a=r.current,u=Xt(),u=Gl(u),g=di(u),g.callback=null,fi(a,g,u),a=u,r.current.lanes=a,vr(r,a),In(r),i[us]=r.current,Mc(i),new Fa(r)},uo.version="19.2.3",uo}var Sg;function zS(){if(Sg)return Zc.exports;Sg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zc.exports=HS(),Zc.exports}var VS=zS();const $S=Dv(VS);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wg="popstate";function FS(t={}){function e(o,l){let{pathname:c="/",search:f="",hash:h=""}=os(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),yd("",{pathname:c,search:f,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let h=o.location.href,m=h.indexOf("#");f=m===-1?h:h.slice(0,m)}return f+"#"+(typeof l=="string"?l:vo(l))}function s(o,l){en(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return JS(e,n,s,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function en(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jS(){return Math.random().toString(36).substring(2,10)}function Eg(t,e){return{usr:t.state,key:t.key,idx:e}}function yd(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?os(e):e,state:n,key:e&&e.key||s||jS()}}function vo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function os(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function JS(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,f="POP",h=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let C=y(),M=C==null?null:C-m;m=C,h&&h({action:f,location:R.location,delta:M})}function S(C,M){f="PUSH";let O=yd(R.location,C,M);n&&n(O,C),m=y()+1;let I=Eg(O,m),V=R.createHref(O);try{c.pushState(I,"",V)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(V)}l&&h&&h({action:f,location:R.location,delta:1})}function E(C,M){f="REPLACE";let O=yd(R.location,C,M);n&&n(O,C),m=y();let I=Eg(O,m),V=R.createHref(O);c.replaceState(I,"",V),l&&h&&h({action:f,location:R.location,delta:0})}function A(C){return YS(C)}let R={get action(){return f},get location(){return t(o,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(wg,_),h=C,()=>{o.removeEventListener(wg,_),h=null}},createHref(C){return e(o,C)},createURL:A,encodeLocation(C){let M=A(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:E,go(C){return c.go(C)}};return R}function YS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:vo(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Pv(t,e,n="/"){return KS(t,e,n,!1)}function KS(t,e,n,s){let o=typeof e=="string"?os(e):e,l=Qn(o.pathname||"/",n);if(l==null)return null;let c=Ov(t);XS(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=aw(l);f=rw(c[h],m,s)}return f}function Ov(t,e=[],n=[],s="",o=!1){let l=(c,f,h=o,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&h)return;Qe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Wn([s,y.relativePath]),S=n.concat(y);c.children&&c.children.length>0&&(Qe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Ov(c.children,e,S,_,h)),!(c.path==null&&!c.index)&&e.push({path:_,score:iw(_,c.index),routesMeta:S})};return t.forEach((c,f)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,f);else for(let m of Lv(c.path))l(c,f,!0,m)}),e}function Lv(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Lv(s.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&f.push(...c),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function XS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var WS=/^:[\w-]+$/,QS=3,ZS=2,ew=1,tw=10,nw=-2,Tg=t=>t==="*";function iw(t,e){let n=t.split("/"),s=n.length;return n.some(Tg)&&(s+=nw),e&&(s+=ZS),n.filter(o=>!Tg(o)).reduce((o,l)=>o+(WS.test(l)?QS:l===""?ew:tw),s)}function sw(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function rw(t,e,n=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=ul({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),S=h.route;if(!_&&m&&n&&!s[s.length-1].route.index&&(_=ul({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:Wn([l,_.pathname]),pathnameBase:dw(Wn([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=Wn([l,_.pathnameBase]))}return c}function ul(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=ow(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:_},S)=>{if(y==="*"){let A=f[S]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const E=f[S];return _&&!E?m[y]=void 0:m[y]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function ow(t,e=!1,n=!0){en(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lw=t=>qv.test(t);function uw(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?os(t):t,l;if(n)if(lw(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),en(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=xg(n.substring(1),"/"):l=xg(n,e)}else l=e;return{pathname:l,search:fw(s),hash:hw(o)}}function xg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function id(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bv(t){let e=cw(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gv(t,e,n,s=!1){let o;typeof t=="string"?o=os(t):(o={...t},Qe(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;o.pathname=S.join("/")}f=_>=0?e[_]:"/"}let h=uw(o,f),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),dw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,pw=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function mw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function gw(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zv(t,e){let n=t;if(typeof n!="string"||!qv.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(Hv)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Qn(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:o=!0}catch{en(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vv=["POST","PUT","PATCH","DELETE"];new Set(Vv);var yw=["GET",...Vv];new Set(yw);var ur=D.createContext(null);ur.displayName="DataRouter";var wl=D.createContext(null);wl.displayName="DataRouterState";var vw=D.createContext(!1),$v=D.createContext({isTransitioning:!1});$v.displayName="ViewTransition";var _w=D.createContext(new Map);_w.displayName="Fetchers";var bw=D.createContext(null);bw.displayName="Await";var gn=D.createContext(null);gn.displayName="Navigation";var xo=D.createContext(null);xo.displayName="Location";var Mn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var jd=D.createContext(null);jd.displayName="RouteError";var Fv="REACT_ROUTER_ERROR",Sw="REDIRECT",ww="ROUTE_ERROR_RESPONSE";function Ew(t){if(t.startsWith(`${Fv}:${Sw}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Tw(t){if(t.startsWith(`${Fv}:${ww}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new pw(e.status,e.statusText,e.data)}catch{}}function xw(t,{relative:e}={}){Qe(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(gn),{hash:o,pathname:l,search:c}=Ao(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Wn([n,l])),s.createHref({pathname:f,search:c,hash:o})}function Co(){return D.useContext(xo)!=null}function tn(){return Qe(Co(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(xo).location}var jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jv(t){D.useContext(gn).static||D.useLayoutEffect(t)}function Mi(){let{isDataRoute:t}=D.useContext(Mn);return t?qw():Cw()}function Cw(){Qe(Co(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(ur),{basename:e,navigator:n}=D.useContext(gn),{matches:s}=D.useContext(Mn),{pathname:o}=tn(),l=JSON.stringify(Bv(s)),c=D.useRef(!1);return Jv(()=>{c.current=!0}),D.useCallback((h,m={})=>{if(en(c.current,jv),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=Gv(h,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Wn([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,o,t])}D.createContext(null);function Yv(){let{matches:t}=D.useContext(Mn),e=t[t.length-1];return e?e.params:{}}function Ao(t,{relative:e}={}){let{matches:n}=D.useContext(Mn),{pathname:s}=tn(),o=JSON.stringify(Bv(n));return D.useMemo(()=>Gv(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function Aw(t,e){return Kv(t,e)}function Kv(t,e,n,s,o){var O;Qe(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(gn),{matches:c}=D.useContext(Mn),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let I=_&&_.path||"";Wv(m,!_||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let S=tn(),E;if(e){let I=typeof e=="string"?os(e):e;Qe(y==="/"||((O=I.pathname)==null?void 0:O.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${I.pathname}" was given in the \`location\` prop.`),E=I}else E=S;let A=E.pathname||"/",R=A;if(y!=="/"){let I=y.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=Pv(t,{pathname:R});en(_||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),en(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=kw(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:Wn([y,l.encodeLocation?l.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?y:Wn([y,l.encodeLocation?l.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),c,n,s,o);return e&&M?D.createElement(xo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function Rw(){let t=Lw(),e=mw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,c)}var Nw=D.createElement(Rw,null),Xv=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Tw(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(Mn.Provider,{value:this.props.routeContext},D.createElement(jd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(Iw,{error:t},e):e}};Xv.contextType=vw;var sd=new WeakMap;function Iw({children:t,error:e}){let{basename:n}=D.useContext(gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Ew(e.digest);if(s){let o=sd.get(e);if(o)throw o;let l=zv(s.location,n);if(Hv&&!sd.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw sd.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Mw({routeContext:t,match:e,children:n}){let s=D.useContext(ur);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Mn.Provider,{value:t},n)}function kw(t,e=[],n=null,s=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Qe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,h=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=y),_.route.id){let{loaderData:S,errors:E}=n,A=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||A){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let m=n&&s?(y,_)=>{var S,E;s(y,{location:n.location,params:((E=(S=n.matches)==null?void 0:S[0])==null?void 0:E.params)??{},unstable_pattern:gw(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,S)=>{let E,A=!1,R=null,C=null;n&&(E=c&&_.route.id?c[_.route.id]:void 0,R=_.route.errorElement||Nw,f&&(h<0&&S===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):h===S&&(A=!0,C=_.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,S+1)),O=()=>{let I;return E?I=R:A?I=C:_.route.Component?I=D.createElement(_.route.Component,null):_.route.element?I=_.route.element:I=y,D.createElement(Mw,{match:_,routeContext:{outlet:y,matches:M,isDataRoute:n!=null},children:I})};return n&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?D.createElement(Xv,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:O(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):O()},null)}function Jd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dw(t){let e=D.useContext(ur);return Qe(e,Jd(t)),e}function Uw(t){let e=D.useContext(wl);return Qe(e,Jd(t)),e}function Pw(t){let e=D.useContext(Mn);return Qe(e,Jd(t)),e}function Yd(t){let e=Pw(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ow(){return Yd("useRouteId")}function Lw(){var s;let t=D.useContext(jd),e=Uw("useRouteError"),n=Yd("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function qw(){let{router:t}=Dw("useNavigate"),e=Yd("useNavigate"),n=D.useRef(!1);return Jv(()=>{n.current=!0}),D.useCallback(async(o,l={})=>{en(n.current,jv),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Cg={};function Wv(t,e,n){!e&&!Cg[t]&&(Cg[t]=!0,en(!1,n))}D.memo(Bw);function Bw({routes:t,future:e,state:n,onError:s}){return Kv(t,void 0,n,s,e)}function Gt(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gw({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){Qe(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:f,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[f,o,l,c]);typeof n=="string"&&(n=os(n));let{pathname:m="/",search:y="",hash:_="",state:S=null,key:E="default"}=n,A=D.useMemo(()=>{let R=Qn(m,f);return R==null?null:{location:{pathname:R,search:y,hash:_,state:S,key:E},navigationType:s}},[f,m,y,_,S,E,s]);return en(A!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:D.createElement(gn.Provider,{value:h},D.createElement(xo.Provider,{children:e,value:A}))}function Qv({children:t,location:e}){return Aw(vd(t),e)}function vd(t,e=[]){let n=[];return D.Children.forEach(t,(s,o)=>{if(!D.isValidElement(s))return;let l=[...e,o];if(s.type===D.Fragment){n.push.apply(n,vd(s.props.children,l));return}Qe(s.type===Gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=vd(s.props.children,l)),n.push(c)}),n}var rl="get",ol="application/x-www-form-urlencoded";function El(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Hw(t){return El(t)&&t.tagName.toLowerCase()==="button"}function zw(t){return El(t)&&t.tagName.toLowerCase()==="form"}function Vw(t){return El(t)&&t.tagName.toLowerCase()==="input"}function $w(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fw(t,e){return t.button===0&&(!e||e==="_self")&&!$w(t)}function _d(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function jw(t,e){let n=_d(t);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var Ja=null;function Jw(){if(Ja===null)try{new FormData(document.createElement("form"),0),Ja=!1}catch{Ja=!0}return Ja}var Yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(t){return t!=null&&!Yw.has(t)?(en(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ol}"`),null):t}function Kw(t,e){let n,s,o,l,c;if(zw(t)){let f=t.getAttribute("action");s=f?Qn(f,e):null,n=t.getAttribute("method")||rl,o=rd(t.getAttribute("enctype"))||ol,l=new FormData(t)}else if(Hw(t)||Vw(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(s=h?Qn(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||rl,o=rd(t.getAttribute("formenctype"))||rd(f.getAttribute("enctype"))||ol,l=new FormData(f,t),!Jw()){let{name:m,type:y,value:_}=t;if(y==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,_)}}else{if(El(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,s=null,o=ol,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xw(t,e,n,s){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Qn(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Ww(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Zw(t,e,n){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Ww(l,n);return c.links?c.links():[]}return[]}));return iE(s.flat(1).filter(Qw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ag(t,e,n,s,o,l){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>{var y;return n[m].pathname!==h.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):l==="data"?e.filter((h,m)=>{var _;let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let S=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function eE(t,e,{includeHydrateFallback:n}={}){return tE(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function tE(t){return[...new Set(t)]}function nE(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function iE(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(nE(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function Zv(){let t=D.useContext(ur);return Kd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sE(){let t=D.useContext(wl);return Kd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xd=D.createContext(void 0);Xd.displayName="FrameworkContext";function e0(){let t=D.useContext(Xd);return Kd(t,"You must render this element inside a <HydratedRouter> element"),t}function rE(t,e){let n=D.useContext(Xd),[s,o]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,S=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=M=>{M.forEach(O=>{c(O.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[t]),D.useEffect(()=>{if(s){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[s]);let E=()=>{o(!0)},A=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:co(f,E),onBlur:co(h,A),onMouseEnter:co(m,E),onMouseLeave:co(y,A),onTouchStart:co(_,E)}]:[!1,S,{}]}function co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oE({page:t,...e}){let{router:n}=Zv(),s=D.useMemo(()=>Pv(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(lE,{page:t,matches:s,...e}):null}function aE(t){let{manifest:e,routeModules:n}=e0(),[s,o]=D.useState([]);return D.useEffect(()=>{let l=!1;return Zw(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),s}function lE({page:t,matches:e,...n}){let s=tn(),{future:o,manifest:l,routeModules:c}=e0(),{basename:f}=Zv(),{loaderData:h,matches:m}=sE(),y=D.useMemo(()=>Ag(t,e,m,l,s,"data"),[t,e,m,l,s]),_=D.useMemo(()=>Ag(t,e,m,l,s,"assets"),[t,e,m,l,s]),S=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let R=new Set,C=!1;if(e.forEach(O=>{var V;let I=l.routes[O.route.id];!I||!I.hasLoader||(!y.some(X=>X.route.id===O.route.id)&&O.route.id in h&&((V=c[O.route.id])!=null&&V.shouldRevalidate)||I.hasClientLoader?C=!0:R.add(O.route.id))}),R.size===0)return[];let M=Xw(t,f,o.unstable_trailingSlashAwareDataRequests,"data");return C&&R.size>0&&M.searchParams.set("_routes",e.filter(O=>R.has(O.route.id)).map(O=>O.route.id).join(",")),[M.pathname+M.search]},[f,o.unstable_trailingSlashAwareDataRequests,h,s,l,y,e,t,c]),E=D.useMemo(()=>eE(_,l),[_,l]),A=aE(_);return D.createElement(D.Fragment,null,S.map(R=>D.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),E.map(R=>D.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),A.map(({key:R,link:C})=>D.createElement("link",{key:R,nonce:n.nonce,...C})))}function uE(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cE&&(window.__reactRouterVersion="7.12.0")}catch{}function dE({basename:t,children:e,unstable_useTransitions:n,window:s}){let o=D.useRef();o.current==null&&(o.current=FS({window:s,v5Compat:!0}));let l=o.current,[c,f]=D.useState({action:l.action,location:l.location}),h=D.useCallback(m=>{n===!1?f(m):D.startTransition(()=>f(m))},[n]);return D.useLayoutEffect(()=>l.listen(h),[l,h]),D.createElement(Gw,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:f,target:h,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...E},A){let{basename:R,unstable_useTransitions:C}=D.useContext(gn),M=typeof m=="string"&&t0.test(m),O=zv(m,R);m=O.to;let I=xw(m,{relative:o}),[V,X,K]=rE(s,E),L=mE(m,{replace:c,state:f,target:h,preventScrollReset:y,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:S,unstable_useTransitions:C});function ee(re){e&&e(re),re.defaultPrevented||L(re)}let Q=D.createElement("a",{...E,...K,href:O.absoluteURL||I,onClick:O.isExternal||l?e:ee,ref:uE(A,X),target:h,"data-discover":!M&&n==="render"?"true":void 0});return V&&!M?D.createElement(D.Fragment,null,Q,D.createElement(oE,{page:I})):Q});je.displayName="Link";var fE=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:f,children:h,...m},y){let _=Ao(c,{relative:m.relative}),S=tn(),E=D.useContext(wl),{navigator:A,basename:R}=D.useContext(gn),C=E!=null&&SE(_)&&f===!0,M=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,O=S.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(O=O.toLowerCase(),I=I?I.toLowerCase():null,M=M.toLowerCase()),I&&R&&(I=Qn(I,R)||I);const V=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let X=O===M||!o&&O.startsWith(M)&&O.charAt(V)==="/",K=I!=null&&(I===M||!o&&I.startsWith(M)&&I.charAt(M.length)==="/"),L={isActive:X,isPending:K,isTransitioning:C},ee=X?e:void 0,Q;typeof s=="function"?Q=s(L):Q=[s,X?"active":null,K?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let re=typeof l=="function"?l(L):l;return D.createElement(je,{...m,"aria-current":ee,className:Q,ref:y,style:re,to:c,viewTransition:f},typeof h=="function"?h(L):h)});fE.displayName="NavLink";var hE=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=rl,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...E},A)=>{let{unstable_useTransitions:R}=D.useContext(gn),C=_E(),M=bE(f,{relative:m}),O=c.toLowerCase()==="get"?"get":"post",I=typeof f=="string"&&t0.test(f),V=X=>{if(h&&h(X),X.defaultPrevented)return;X.preventDefault();let K=X.nativeEvent.submitter,L=(K==null?void 0:K.getAttribute("formmethod"))||c,ee=()=>C(K||X.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:o,state:l,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S});R&&n!==!1?D.startTransition(()=>ee()):ee()};return D.createElement("form",{ref:A,method:O,action:M,onSubmit:s?h:V,...E,"data-discover":!I&&t==="render"?"true":void 0})});hE.displayName="Form";function pE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n0(t){let e=D.useContext(ur);return Qe(e,pE(t)),e}function mE(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let m=Mi(),y=tn(),_=Ao(t,{relative:l});return D.useCallback(S=>{if(Fw(S,e)){S.preventDefault();let E=n!==void 0?n:vo(y)===vo(_),A=()=>m(t,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});h?D.startTransition(()=>A()):A()}},[y,m,_,n,s,e,t,o,l,c,f,h])}function gE(t){en(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(_d(t)),n=D.useRef(!1),s=tn(),o=D.useMemo(()=>jw(s.search,n.current?null:e.current),[s.search]),l=Mi(),c=D.useCallback((f,h)=>{const m=_d(typeof f=="function"?f(new URLSearchParams(o)):f);n.current=!0,l("?"+m,h)},[l,o]);return[o,c]}var yE=0,vE=()=>`__${String(++yE)}__`;function _E(){let{router:t}=n0("useSubmit"),{basename:e}=D.useContext(gn),n=Ow(),s=t.fetch,o=t.navigate;return D.useCallback(async(l,c={})=>{let{action:f,method:h,encType:m,formData:y,body:_}=Kw(l,e);if(c.navigate===!1){let S=c.fetcherKey||vE();await s(S,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function bE(t,{relative:e}={}){let{basename:n}=D.useContext(gn),s=D.useContext(Mn);Qe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ao(t||".",{relative:e})},c=tn();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Wn([n,l.pathname])),vo(l)}function SE(t,{relative:e}={}){let n=D.useContext($v);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=n0("useViewTransitionState"),o=Ao(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qn(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Qn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ul(o.pathname,c)!=null||ul(o.pathname,l)!=null}var ie=(t=>(t.AR="ar",t.EN="en",t))(ie||{}),rs=(t=>(t.PENDING=" ",t.ACCEPTED="",t.DELIVERING=" ",t.DELIVERED=" ",t.REJECTED="",t))(rs||{});const wE="+962798739259",cl=3,Wd=["","  ","  ","  (Denim Suits)","  ","  ",""," "," "," "," - Blazer Jacket","","",""," "," "," "," ",""," ",""," ",""," - Kimono"],Rg=["","","","","","","","","","","",""],Ng={[ie.AR]:{marquee:"   TaliaMode7 |       |       |         |     |  : 0798739259",heroTitle:"Luxury Collection 2026",heroSubtitle:"   ",heroDesc:"      .       .",shopNow:" ",viewOffers:" ",newArrivals:"  ",bestSellers:"  ",topRated:"  ",allProducts:" ",cart:" ",wishlist:"",checkout:" ",addToCart:" ",buyNow:" ",outOfStock:" ",size:"",total:"",deliveryFee:" ",grandTotal:" ",fullName:" ",phone:" ",city:"",address:" ",confirmOrder:" ",searchPlaceholder:"  ...",couponCode:" ",apply:"",categoriesLabel:"",itemsAvailable:" ",orderSummary:" ",discount:"",secureCheckout:"    .",orderContent:" ",additionalNotes:"  ()",sizeGuide:" ",loading:" ...",backToHome:"",emptyWishlist:"   .",categories:{all:" ",:"","  ":"  ","  ":"  ","  (Denim Suits)":" ","  ":" ","  ":" ",:""," ":" "," ":" "," ":" "," - Blazer Jacket":"",:"",:"",:""," ":" "," ":" "," ":" "," ":" ",:""," ":" ",:""," ":" ",:""," - Kimono":""}},[ie.EN]:{marquee:"Welcome to TaliaMode7 | Premium Turkish Brands Specialist | Videos are our own property | No exchange or return after delivery | Cash on Delivery only | Contact: 0798739259",heroTitle:"Luxury Collection 2026",heroSubtitle:"Elegance That Speaks For You",heroDesc:"Discover the latest carefully selected Turkish fashion trends. Unique pieces that give you the confidence and luxury you deserve.",shopNow:"Shop Now",viewOffers:"View Offers",newArrivals:"New Arrivals ",bestSellers:"Best Sellers ",topRated:"Top Rated ",allProducts:"All Products",cart:"Shopping Cart",wishlist:"Wishlist",checkout:"Checkout",addToCart:"Add to Cart",buyNow:"Buy Now",outOfStock:"Out of Stock",size:"Size",total:"Total",deliveryFee:"Delivery Fee",grandTotal:"Grand Total",fullName:"Full Name",phone:"Phone Number",city:"City",address:"Detailed Address",confirmOrder:"Confirm Order",searchPlaceholder:"Search for your elegance...",couponCode:"Coupon Code",apply:"Apply",categoriesLabel:"Categories",itemsAvailable:"items available",orderSummary:"Order Summary",discount:"Discount",secureCheckout:"Secure checkout. Cash on Delivery only.",orderContent:"Order Items",additionalNotes:"Additional Notes (Optional)",sizeGuide:"Size Guide",loading:"Loading...",backToHome:"Home",emptyWishlist:"Your wishlist is currently empty.",categories:{all:"All Products",:"New In","  ":"Best Sellers","  ":"Top Rated","  (Denim Suits)":"Denim Suits","  ":"Formal Suits","  ":"Casual Suits",:"Pants"," ":"Jeans"," ":"Fabric Pants"," ":"Tops & Hoodies"," - Blazer Jacket":"Blazers",:"Trench Coats",:"Skirts",:"Jackets"," ":"Leather Jackets"," ":"Wool Jackets"," ":"Denim Jackets"," ":"Knitwear",:"Scarves"," ":"Bags & Accessories",:"Dresses"," ":"Basic Pieces",:"Shirts"," - Kimono":"Kimono"}}},EE=()=>{const{t}=Mt();return b.jsxs("section",{className:"relative h-[80vh] md:h-screen w-full overflow-hidden flex items-center justify-center text-center",children:[b.jsx("video",{src:"https://res.cloudinary.com/de9xnhjn1/video/upload/f_mp4/IMG_2353_vbb9pg",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover",children:b.jsx("source",{src:"https://cdn.pixabay.com/video/2019/09/27/27236-362544715_large.mp4",type:"video/mp4"})}),b.jsx("div",{className:"absolute inset-0 bg-taliaBlack/40"})]}),b.jsxs("div",{className:"relative z-10 container mx-auto px-4 text-white",children:[b.jsx("span",{className:"block text-gold font-englishTitle text-xl md:text-3xl mb-4 opacity-0 animate-[fadeIn_1s_ease-out_forwards]",children:t.heroTitle}),b.jsx("h1",{className:"text-4xl md:text-7xl font-bold mb-6 opacity-0 animate-[fadeInUp_1s_ease-out_0.3s_forwards]",children:t.heroSubtitle}),b.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-gray-200 mb-10 opacity-0 animate-[fadeInUp_1s_ease-out_0.6s_forwards]",children:t.heroDesc}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center opacity-0 animate-[fadeInUp_1s_ease-out_0.9s_forwards]",children:[b.jsx(je,{to:"/products",className:"bg-blush text-white px-10 py-4 rounded-none font-bold text-lg hover:bg-white hover:text-blush transition-all transform hover:scale-105",children:t.shopNow}),b.jsx(je,{to:"/category/  ",className:"bg-transparent border-2 border-white text-white px-10 py-4 rounded-none font-bold text-lg hover:bg-white hover:text-taliaBlack transition-all transform hover:scale-105",children:t.viewOffers})]})]})]})},dl=({product:t})=>{const{t:e,language:n}=Mt(),[s,o]=D.useState(!1),l=t.sizes.every(h=>h.quantity===0),c=n===ie.AR?"":"JOD";D.useEffect(()=>{const h=JSON.parse(localStorage.getItem("talia_likes")||"[]");o(h.includes(t.id))},[t.id]);const f=h=>{h.preventDefault(),h.stopPropagation();const m=JSON.parse(localStorage.getItem("talia_likes")||"[]");let y;s?y=m.filter(_=>_!==t.id):y=[...m,t.id],localStorage.setItem("talia_likes",JSON.stringify(y)),o(!s),window.dispatchEvent(new Event("wishlistUpdate"))};return b.jsxs("div",{className:"group bg-white border border-gold/10 overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 relative rounded-2xl",children:[b.jsx(je,{to:`/product/${t.id}`,children:b.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[b.jsx("img",{src:t.images[0]||"https://picsum.photos/400/533",alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000 ease-in-out"}),b.jsx("button",{onClick:f,className:`absolute top-4 right-4 z-20 p-2.5 rounded-full backdrop-blur-md transition-all duration-300 ${s?"bg-blush text-white scale-110 shadow-lg":"bg-white/70 text-gray-400 hover:text-blush hover:bg-white"}`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:s?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),t.is_new&&b.jsx("span",{className:"absolute top-4 left-4 bg-blush text-white text-[9px] font-bold px-3 py-1.5 uppercase tracking-widest shadow-lg",children:n===ie.AR?" ":"New "}),l&&b.jsx("div",{className:"absolute inset-0 bg-pearl/60 backdrop-blur-[2px] flex items-center justify-center",children:b.jsx("span",{className:"bg-taliaBlack text-white text-[10px] font-bold px-5 py-2.5 uppercase tracking-widest",children:e.outOfStock})}),b.jsx("div",{className:"absolute inset-x-0 bottom-0 p-6 translate-y-full group-hover:translate-y-0 transition-transform duration-500 bg-gradient-to-t from-taliaBlack/80 to-transparent flex justify-center",children:b.jsx("button",{className:"bg-white text-taliaBlack text-[10px] font-bold py-3 px-8 uppercase tracking-[0.2em] hover:bg-gold hover:text-white transition-all shadow-xl",children:e.shopNow})})]})}),b.jsxs("div",{className:"p-5 text-center bg-white",children:[b.jsx("h3",{className:`text-xs font-bold mb-2 truncate text-gray-800 group-hover:text-blush transition-colors tracking-wide ${n===ie.EN?"font-englishContent":""}`,children:t.name}),b.jsxs("div",{className:"flex items-center justify-center gap-3",children:[b.jsxs("span",{className:"text-blush font-bold text-sm",children:[t.price," ",c]}),t.old_price&&b.jsxs("span",{className:"text-gray-300 text-[11px] line-through decoration-red-400/30",children:[t.old_price," ",c]})]})]})]})};function Tl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function TE(t,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(y){try{m(s.next(y))}catch(_){c(_)}}function h(y){try{m(s.throw(y))}catch(_){c(_)}}function m(y){y.done?l(y.value):o(y.value).then(f,h)}m((s=s.apply(t,e||[])).next())})}const xE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Qd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class CE extends Qd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ig extends Qd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mg extends Qd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bd||(bd={}));class AE{constructor(e,{headers:n={},customFetch:s,region:o=bd.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=xE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return TE(this,arguments,void 0,function*(n,s={}){var o;let l,c;try{const{headers:f,method:h,body:m,signal:y,timeout:_}=s;let S={},{region:E}=s;E||(E=this.region);const A=new URL(`${this.url}/${n}`);E&&E!=="any"&&(S["x-region"]=E,A.searchParams.set("forceFunctionRegion",E));let R;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",R=m):typeof m=="string"?(S["Content-Type"]="text/plain",R=m):typeof FormData<"u"&&m instanceof FormData?R=m:(S["Content-Type"]="application/json",R=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?R=JSON.stringify(m):R=m;let C=y;_&&(c=new AbortController,l=setTimeout(()=>c.abort(),_),y?(C=c.signal,y.addEventListener("abort",()=>c.abort())):C=c.signal);const M=yield this.fetch(A.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:R,signal:C}).catch(X=>{throw new CE(X)}),O=M.headers.get("x-relay-error");if(O&&O==="true")throw new Ig(M);if(!M.ok)throw new Mg(M);let I=((o=M.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),V;return I==="application/json"?V=yield M.json():I==="application/octet-stream"||I==="application/pdf"?V=yield M.blob():I==="text/event-stream"?V=M:I==="multipart/form-data"?V=yield M.formData():V=yield M.text(),{data:V,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof Mg||f instanceof Ig?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var RE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},NE=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,f=null,h=null,m=l.status,y=l.statusText;if(l.ok){var _,S;if(n.method!=="HEAD"){var E;const M=await l.text();M===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((E=n.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=M:f=JSON.parse(M))}const R=(_=n.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),C=(S=l.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");R&&C&&C.length>1&&(h=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var A;const R=await l.text();try{c=JSON.parse(R),Array.isArray(c)&&l.status===404&&(f=[],c=null,m=200,y="OK")}catch{l.status===404&&R===""?(m=204,y="No Content"):c={message:R}}if(c&&n.isMaybeSingle&&(!(c==null||(A=c.details)===null||A===void 0)&&A.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&n.shouldThrowOnError)throw new RE(c)}return{error:c,data:f,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let f="";const h=l==null?void 0:l.cause;if(h){var m,y,_,S;const A=(m=h==null?void 0:h.message)!==null&&m!==void 0?m:"",R=(y=h==null?void 0:h.code)!==null&&y!==void 0?y:"";f=`${(_=l==null?void 0:l.name)!==null&&_!==void 0?_:"FetchError"}: ${l==null?void 0:l.message}`,f+=`

Caused by: ${(S=h==null?void 0:h.name)!==null&&S!==void 0?S:"Error"}: ${A}`,R&&(f+=` (${R})`),h!=null&&h.stack&&(f+=`
${h.stack}`)}else{var E;f=(E=l==null?void 0:l.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},IE=class extends NE{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var c;const f=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const kg=new RegExp("[,()]");var Zs=class extends IE{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&kg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&kg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},ME=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:f,headers:h}=this.cloneRequestState();return f.searchParams.set("select",c),s&&h.append("Prefer",`count=${s}`),new Zs({method:o,url:f,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);l.searchParams.set("columns",h.join(","))}}return new Zs({method:o,url:l,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);f.searchParams.set("columns",y.join(","))}}return new Zs({method:c,url:f,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Zs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Zs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},kE=class i0{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ME(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var c;let f;const h=new URL(`${this.url}/rpc/${e}`);let m;const y=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(y)),_=s&&Object.values(n).some(y);_?(f="POST",m=n):s||o?(f=s?"HEAD":"GET",Object.entries(n).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{h.searchParams.append(E,A)})):(f="POST",m=n);const S=new Headers(this.headers);return _?S.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&S.set("Prefer",`count=${l}`),new Zs({method:f,url:h,headers:S,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class DE{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const UE="2.90.1",PE=`realtime-js/${UE}`,s0="1.0.0",OE="2.0.0",Dg=s0,Sd=1e4,LE=1e3,qE=100;var Ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ri||(Ri={}));var ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ft||(ft={}));var En;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(En||(En={}));var wd;(function(t){t.websocket="websocket"})(wd||(wd={}));var ns;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ns||(ns={}));class BE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,s){var o,l;const c=e.topic,f=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+m.length+_.length,E=new ArrayBuffer(this.HEADER_LENGTH+S);let A=new DataView(E),R=0;A.setUint8(R++,this.KINDS.userBroadcastPush),A.setUint8(R++,h.length),A.setUint8(R++,f.length),A.setUint8(R++,c.length),A.setUint8(R++,m.length),A.setUint8(R++,_.length),A.setUint8(R++,n),Array.from(h,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(f,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(c,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(m,M=>A.setUint8(R++,M.charCodeAt(0))),Array.from(_,M=>A.setUint8(R++,M.charCodeAt(0)));var C=new Uint8Array(E.byteLength+s.byteLength);return C.set(new Uint8Array(E),0),C.set(new Uint8Array(s),E.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,c,f,h]=s;return n({join_ref:o,ref:l,topic:c,event:f,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),f=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=s.decode(e.slice(h,h+o));h=h+o;const y=s.decode(e.slice(h,h+l));h=h+l;const _=s.decode(e.slice(h,h+c));h=h+c;const S=e.slice(h,e.byteLength),E=f===this.JSON_ENCODING?JSON.parse(s.decode(S)):S,A={type:this.BROADCAST_EVENT,event:y,payload:E};return c>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class r0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Fe||(Fe={}));const Ug=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=GE(c,t,e,o),l),{}):{}},GE=(t,e,n,s)=>{const o=e.find(f=>f.name===t),l=o==null?void 0:o.type,c=n[t];return l&&!s.includes(l)?o0(l,c):Ed(c)},o0=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $E(e,n)}switch(t){case Fe.bool:return HE(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return zE(e);case Fe.json:case Fe.jsonb:return VE(e);case Fe.timestamp:return FE(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Ed(e);default:return Ed(e)}},Ed=t=>t,HE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},VE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},$E=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>o0(e,f))}return t},FE=t=>typeof t=="string"?t.replace(" ","T"):t,a0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class od{constructor(e,n,s={},o=Sd){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pg||(Pg={}));class go{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=go.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=go.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=go.syncDiff(this.state,o,l,c),f())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),c=this.transformState(n),f={},h={};return this.map(l,(m,y)=>{c[m]||(h[m]=y)}),this.map(c,(m,y)=>{const _=l[m];if(_){const S=y.map(C=>C.presence_ref),E=_.map(C=>C.presence_ref),A=y.filter(C=>E.indexOf(C.presence_ref)<0),R=_.filter(C=>S.indexOf(C.presence_ref)<0);A.length>0&&(f[m]=A),R.length>0&&(h[m]=R)}else f[m]=y}),this.syncDiff(l,{joins:f,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(f,h)=>{var m;const y=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),y.length>0){const _=e[f].map(E=>E.presence_ref),S=y.filter(E=>_.indexOf(E.presence_ref)<0);e[f].unshift(...S)}s(f,y,h)}),this.map(c,(f,h)=>{let m=e[f];if(!m)return;const y=h.map(_=>_.presence_ref);m=m.filter(_=>y.indexOf(_.presence_ref)<0),e[f]=m,o(f,m,h),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Og;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Og||(Og={}));var yo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yo||(yo={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class ir{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,En.join,this.params,this.timeout),this.rejoinTimer=new r0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new go(this),this.broadcastEndpointURL=a0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[yo.PRESENCE]&&this.bindings[yo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(Xn.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e==null||e(Xn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,C=(A=R==null?void 0:R.length)!==null&&A!==void 0?A:0,M=[];for(let O=0;O<C;O++){const I=R[O],{filter:{event:V,schema:X,table:K,filter:L}}=I,ee=E&&E[O];if(ee&&ee.event===V&&ir.isFilterValueEqual(ee.schema,X)&&ir.isFilterValueEqual(ee.table,K)&&ir.isFilterValueEqual(ee.filter,L))M.push(Object.assign(Object.assign({},I),{id:ee.id}));else{this.unsubscribe(),this.state=ft.errored,e==null||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(Xn.SUBSCRIBED);return}}).receive("error",E=>{this.state=ft.errored,e==null||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ft.joined&&e===yo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,h;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new od(this,En.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new od(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const c=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:y}=En;if(s&&[f,h,m,y].indexOf(c)>=0&&s!==this._joinRef())return;let S=this._onMessage(c,n,s);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var A,R,C;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((C=(R=E.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(E=>E.callback(S,s)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var A,R,C,M,O,I,V,X;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const K=E.id,L=(A=E.filter)===null||A===void 0?void 0:A.event;return K&&((R=n.ids)===null||R===void 0?void 0:R.includes(K))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!((M=E.filter)===null||M===void 0)&&M.table)||E.filter.table===((O=n.data)===null||O===void 0?void 0:O.table))}else{const K=(V=(I=E==null?void 0:E.filter)===null||I===void 0?void 0:I.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return K==="*"||K===((X=n==null?void 0:n.event)===null||X===void 0?void 0:X.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:R,table:C,commit_timestamp:M,type:O,errors:I}=A;S=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:M,eventType:O,new:{},old:{},errors:I}),this._getPayloadRecords(A))}E.callback(S,s)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&ir.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(En.close,{},e)}_onError(e){this._on(En.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ug(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ug(e.columns,e.old_record)),n}}const ad=()=>{},Ya={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jE=[1e3,2e3,5e3,1e4],JE=1e4,YE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KE{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sd,this.transport=null,this.heartbeatIntervalMs=Ya.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ad,this.ref=0,this.reconnectTimer=null,this.vsn=Dg,this.logger=ad,this.conn=null,this.sendBuffer=[],this.serializer=new BE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${wd.websocket}`,this.httpEndpoint=a0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return ns.Connecting;case Ri.open:return ns.Open;case Ri.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new ir(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,c=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(LE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ya.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:c}=n,f=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ri.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ri.open||this.conn.readyState===Ri.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(En.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([YE],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:PE};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(En.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new r0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ya.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,c,f,h,m,y,_,S,E;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Sd,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Ya.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:ad,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:Dg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(A=>jE[A-1]||JE),this.vsn){case s0:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((A,R)=>R(JSON.stringify(A))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((A,R)=>R(JSON.parse(A)));break;case OE:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var _o=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function XE(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function WE(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function QE(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:c}){const f=XE(t.baseUrl,s,o),h=await WE(t.auth),m=await e(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),y=await m.text(),_=(m.headers.get("content-type")||"").includes("application/json"),S=_&&y?JSON.parse(y):y;if(!m.ok){const E=_?S:void 0,A=E==null?void 0:E.error;throw new _o((A==null?void 0:A.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:E})}return{status:m.status,headers:m.headers,data:S}}}}function Ka(t){return t.join("")}var ZE=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ka(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`}),!0}catch(e){if(e instanceof _o&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof _o&&n.status===409)return;throw n}}};function Js(t){return t.join("")}var eT=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof _o&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof _o&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},tT=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=QE({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new ZE(this.client,e),this.tableOps=new eT(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},xl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function We(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var nT=class extends xl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Td=class extends xl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Zd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iT=()=>Response,xd=t=>{if(Array.isArray(t))return t.map(n=>xd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=xd(s)}),e},sT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rT=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function oT(t,e){if(bo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(bo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aT(t){var e=oT(t,"string");return bo(e)=="symbol"?e:e+""}function lT(t,e,n){return(e=aT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lg(Object(n),!0).forEach(function(s){lT(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const ld=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},uT=async(t,e,n)=>{t instanceof await iT()&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const o=t.status||500,l=(s==null?void 0:s.statusCode)||o+"";e(new nT(ld(s),o,l))}).catch(s=>{e(new Td(ld(s),s))}):e(new Td(ld(t),t))},cT=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(sT(s)?(o.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),me(me({},o),n))};async function Ro(t,e,n,s,o,l){return new Promise((c,f)=>{t(n,cT(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s!=null&&s.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>uT(h,f,s))})}async function So(t,e,n,s){return Ro(t,"GET",e,n,s)}async function wn(t,e,n,s,o){return Ro(t,"POST",e,s,o,n)}async function Cd(t,e,n,s,o){return Ro(t,"PUT",e,s,o,n)}async function dT(t,e,n,s){return Ro(t,"HEAD",e,me(me({},n),{},{noResolveJson:!0}),s)}async function ef(t,e,n,s,o){return Ro(t,"DELETE",e,s,o,n)}var fT=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}}};let l0;l0=Symbol.toStringTag;var hT=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[l0]="BlobDownloadBuilder",this.promise=null}asStream(){return new fT(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}}};const pT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mT=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Zd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const c=me(me({},qg),s);let f=me(me({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(f=me(me({},f),s.headers));const m=o._removeEmptyFolders(e),y=o._getFinalPath(m),_=await(t=="PUT"?Cd:wn)(o.fetch,`${o.url}/object/${y}`,l,me({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),c=o._getFinalPath(l),f=new URL(o.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let h;const m=me({upsert:qg.upsert},s),y=me(me({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:l,fullPath:(await Cd(o.fetch,f.toString(),h,{headers:y})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(We(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=me({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await wn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(n.url+l.url),f=c.searchParams.get("token");if(!f)throw new xl("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await wn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await wn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await wn(s.fetch,`${s.url}/object/sign/${o}`,me({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await wn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>me(me({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>So(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new hT(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:xd(await So(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await dT(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(We(s)&&s instanceof Td){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=me(me(me({},pT),e),{},{prefix:t||""});return{data:await wn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=me({},t);return{data:await wn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const u0="2.90.1",c0={"X-Client-Info":`storage-js/${u0}`};var gT=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=me(me({},c0),e),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await So(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await So(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await wn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Cd(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await wn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},yT=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},c0),e),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await wn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await So(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ef(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!rT(t))throw new xl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new tT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(o,f),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const tf={"X-Client-Info":`storage-js/${u0}`,"Content-Type":"application/json"};var d0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Qt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var ud=class extends d0{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vT=class extends d0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const nf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_T=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Bg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bT=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new ud(Bg(l),s,c))}).catch(()=>{const l=s+"";e(new ud(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new ud(o.statusText||`HTTP ${s} error`,s,l))}}else e(new vT(Bg(t),t))},ST=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(_T(s)?(o.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,me(me({},o),n)):o};async function wT(t,e,n,s,o,l){return new Promise((c,f)=>{t(n,ST(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s!=null&&s.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>bT(h,f,s))})}async function Zt(t,e,n,s,o){return wT(t,"POST",e,s,o,n)}var ET=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Zt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Zt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}},TT=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Zt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Zt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Zt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}},xT=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=me(me({},tf),e),this.fetch=nf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Zt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}},CT=class extends xT{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new AT(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},AT=class extends ET{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new RT(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},RT=class extends TT{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},NT=class extends gT{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new mT(this.url,this.headers,t,this.fetch)}get vectors(){return new CT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yT(this.url+"/iceberg",this.headers,this.fetch)}};const f0="2.90.1",er=30*1e3,Ad=3,cd=Ad*er,IT="http://localhost:9999",MT="supabase.auth.token",kT={"X-Client-Info":`gotrue-js/${f0}`},Rd="X-Supabase-Api-Version",h0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,UT=600*1e3;class wo extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PT extends wo{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function OT(t){return ue(t)&&t.name==="AuthApiError"}class is extends wo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ei extends wo{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Wt extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LT(t){return ue(t)&&t.name==="AuthSessionMissingError"}class Ys extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xa extends ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wa extends ei{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qT(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gg extends ei{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BT extends ei{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nd extends ei{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function dd(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class Hg extends ei{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Id extends ei{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zg=` 	
\r=`.split(""),GT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zg.length;e+=1)t[zg[e].charCodeAt(0)]=-2;for(let e=0;e<fl.length;e+=1)t[fl[e].charCodeAt(0)]=e;return t})();function Vg(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(fl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(fl[s]),e.queuedBits-=6}}function p0(t,e,n){const s=GT[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $g(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{VT(c,s,n)};for(let c=0;c<t.length;c+=1)p0(t.charCodeAt(c),o,l);return e.join("")}function HT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zT(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}HT(s,e)}}function VT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function or(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)p0(t.charCodeAt(o),n,s);return new Uint8Array(e)}function $T(t){const e=[];return zT(t,n=>e.push(n)),new Uint8Array(e)}function ss(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Vg(o,n,s)),Vg(null,n,s),e.join("")}function FT(t){return Math.round(Date.now()/1e3)+t}function jT(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",Qi={tested:!1,writable:!1},m0=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qi.tested)return Qi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qi.tested=!0,Qi.writable=!0}catch{Qi.tested=!0,Qi.writable=!1}return Qi.writable};function JT(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const g0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),YT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(t,e)=>{await t.removeItem(e)};class Cl{constructor(){this.promise=new Cl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cl.promiseConstructor=Promise;function fd(t){const e=t.split(".");if(e.length!==3)throw new Id("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!DT.test(e[s]))throw new Id("JWT not in base64url format");return{header:JSON.parse($g(e[0])),payload:JSON.parse($g(e[1])),signature:or(e[2]),raw:{header:e[0],payload:e[1]}}}async function KT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function XT(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function WT(t){return("0"+t.toString(16)).substr(-2)}function QT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,WT).join("")}async function ZT(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function ex(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ZT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ks(t,e,n=!1){const s=QT();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await tr(t,`${e}-code-verifier`,o);const l=await ex(s);return[l,s===l?"plain":"s256"]}const tx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nx(t){const e=t.headers.get(Rd);if(!e||!e.match(tx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ix(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xs(t){if(!rx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ox(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function Fg(t){return JSON.parse(JSON.stringify(t))}const es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ax=[502,503,504];async function jg(t){var e;if(!YT(t))throw new Nd(es(t),0);if(ax.includes(t.status))throw new Nd(es(t),t.status);let n;try{n=await t.json()}catch(l){throw new is(es(l),l)}let s;const o=nx(t);if(o&&o.getTime()>=h0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Hg(es(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Wt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Hg(es(n),t.status,n.weak_password.reasons);throw new PT(es(n),t.status||500,s)}const lx=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function pe(t,e,n,s){var o;const l=Object.assign({},s==null?void 0:s.headers);l[Rd]||(l[Rd]=h0["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await ux(t,e,n+f,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}}async function ux(t,e,n,s,o,l){const c=lx(e,s,o,l);let f;try{f=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new Nd(es(h),0)}if(f.ok||await jg(f),s!=null&&s.noResolveJson)return f;try{return await f.json()}catch(h){await jg(h)}}function Sn(t){var e;let n=null;fx(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=FT(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Jg(t){const e=Sn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ni(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function cx(t){return{data:t,error:null}}function dx(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,c=Tl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function Yg(t){return t}function fx(t){return t.access_token&&t.refresh_token&&t.expires_in}const pd=["global","local","others"];class hx{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=g0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=pd[0]){if(pd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pd.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ni})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Tl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:dx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ni})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Yg});if(y.error)throw y.error;const _=await y.json(),S=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Xs(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ni})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Xs(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ni})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Xs(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ni})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Xs(e.userId);try{const{data:n,error:s}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Xs(e.userId),Xs(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Yg});if(y.error)throw y.error;const _=await y.json(),S=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(A.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function Kg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ws={debug:!!(globalThis&&m0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class px extends y0{}async function mx(t,e,n){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new px(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ws.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function gx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function v0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function yx(t){return parseInt(t,16)}function vx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function _x(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:h,resources:m,scheme:y,uri:_,version:S}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=v0(t.address),A=y?`${y}://${s}`:s,R=t.statement?`${t.statement}
`:"",C=`${A} wants you to sign in with your Ethereum account:
${E}

${R}`;let M=`URI: ${_}
Version: ${S}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(M+=`
Expiration Time: ${o.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),h&&(M+=`
Request ID: ${h}`),m){let O=`
Resources:`;for(const I of m){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);O+=`
- ${I}`}M+=O}return`${C}
${M}`}class ct extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class hl extends ct{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function bx({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(_0(c)){if(l.rp.id!==c)return new ct({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Sx({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ct({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(_0(s)){if(n.rpId!==s)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class wx{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ex=new wx;function Tx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=Tl(t,["challenge","user","excludeCredentials"]),l=or(e).buffer,c=Object.assign(Object.assign({},n),{id:or(n.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:c});if(s&&s.length>0){f.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:or(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function xx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Tl(t,["challenge","allowCredentials"]),o=or(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:or(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Cx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ss(new Uint8Array(t.response.attestationObject)),clientDataJSON:ss(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ax(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ss(new Uint8Array(o.authenticatorData)),clientDataJSON:ss(new Uint8Array(o.clientDataJSON)),signature:ss(new Uint8Array(o.signature)),userHandle:o.userHandle?ss(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Xg(){var t,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Rx(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:bx({error:e,options:t})}}}async function Nx(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:Sx({error:e,options:t})}}}const Ix={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Mx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(n(c))s[l]=c;else if(e(c)){const f=s[l];e(f)?s[l]=pl(f,c):s[l]=pl(c)}else s[l]=c}return s}function kx(t,e){return pl(Ix,t,e||{})}function Dx(t,e){return pl(Mx,t,e||{})}class Ux{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:f};const h=o??Ex.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=kx(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:_}=await Rx({publicKey:m,signal:h});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const m=Dx(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:_}=await Nx(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new wo("rpId is required for WebAuthn authentication")};try{if(!Xg())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new wo("rpId is required for WebAuthn registration")};try{if(!Xg())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new is("Unexpected error in register",c)}}}}gx();const Px={url:IT,storageKey:MT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wg(t,e,n){return await n()}const Qs={};class Eo{get jwks(){var e,n;return(n=(e=Qs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Qs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Px),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Eo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Eo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Et()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new hx({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=g0(l.fetch),this.lock=l.lock||Wg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Et()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=mx:this.lock=Wg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ux(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:m0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Kg(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${f0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(Et()&&(n=JT(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),Et()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),qT(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?this._returnResult({error:n}):this._returnResult({error:new is("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Sn}),{data:c,error:f}=l;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:y,password:_,options:S}=e;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await Ks(this.storage,this.storageKey)),l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:_,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:E,code_challenge_method:A},xform:Sn})}else if("phone"in e){const{phone:y,password:_,options:S}=e;l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},channel:(o=S==null?void 0:S.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Sn})}else throw new Xa("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:f}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jg})}else if("phone"in e){const{phone:l,password:c,options:f}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jg})}else throw new Xa("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Ys;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,c,f,h,m,y,_,S;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:R,wallet:C,statement:M,options:O}=e;let I;if(Et())if(typeof C=="object")I=C;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")I=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const V=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),X=await I.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=v0(X[0]);let L=(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!L){const Q=await I.request({method:"eth_chainId"});L=yx(Q)}const ee={domain:V.host,address:K,statement:M,uri:V.href,version:"1",chainId:L,nonce:(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=O==null?void 0:O.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=O==null?void 0:O.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=O==null?void 0:O.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=_x(ee),A=await I.request({method:"personal_sign",params:[vx(E),K]})}try{const{data:R,error:C}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:A},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Sn});if(C)throw C;if(!R||!R.session||!R.user){const M=new Ys;return this._returnResult({data:{user:null,session:null},error:M})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:C})}catch(R){if(ue(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(e){var n,s,o,l,c,f,h,m,y,_,S,E;let A,R;if("message"in e)A=e.message,R=e.signature;else{const{chain:C,wallet:M,statement:O,options:I}=e;let V;if(Et())if(typeof M=="object")V=M;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))V=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=M}const X=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const K=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),O?{statement:O}:null));let L;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")L=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)L=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)A=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),R=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${X.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(o=(s=I==null?void 0:I.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((m=I==null?void 0:I.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((_=(y=I==null?void 0:I.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...I.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const K=await V.signMessage(new TextEncoder().encode(A),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=K}}try{const{data:C,error:M}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:ss(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Sn});if(M)throw M;if(!C||!C.session||!C.user){const O=new Ys;return this._returnResult({data:{user:null,session:null},error:O})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:M})}catch(C){if(ue(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await Zi(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new BT;const{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Sn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const f=new Ys;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:c}=e,f=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sn}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const y=new Ys;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,c;try{if("email"in e){const{email:f,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ks(this.storage,this.storageKey));const{error:_}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:y}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new Xa("You must provide either an email or phone number.")}catch(f){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:f}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Sn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Ks(this.storage,this.storageKey));const m=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:cx});return!((l=m.data)===null||l===void 0)&&l.url&&Et()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Wt;const{error:o}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:c}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:c,error:f}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new Xa("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<cd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Zi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=hd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=ox(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ni}):await this._useSession(async n=>{var s,o,l;const{data:c,error:f}=n;if(f)throw f;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Ni})})}catch(n){if(ue(n))return LT(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Wt;const c=o.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await Ks(this.storage,this.storageKey));const{data:m,error:y}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:Ni});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wt;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:c}=fd(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:f}=n;if(f)throw f;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Wt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Et())throw new Wa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gg("No code detected.");const{data:O,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=e;if(!l||!f||!c||!m)throw new Wa("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(f);let S=y+_;h&&(S=parseInt(h));const E=S-y;E*1e3<=er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const A=S-_;y-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,y):y-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,y);const{data:R,error:C}=await this._getUser(l);if(C)throw C;const M={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:_,expires_at:S,refresh_token:c,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(s){if(ue(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(OT(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=jT(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ks(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var c,f,h,m,y;const{data:_,error:S}=l;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(ue(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:f,token:h,access_token:m,nonce:y}=e,_=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:f,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Sn}),{data:S,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Ys}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:E}))}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)throw c;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await XT(async o=>(o>0&&await KT(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sn})),(o,l)=>{const c=200*Math.pow(2,o);return l&&dd(l)&&Date.now()+c-s<er})}catch(s){if(this._debug(n,"error",s),ue(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Et()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Zi(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await tr(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:hd()}else if(o&&!o.user&&!o.user){const c=await Zi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await wt(this.storage,this.storageKey+"-user"),await tr(this.storage,this.storageKey,o)):o.user=hd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${cd}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),dd(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Cl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Wt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),ue(l)){const c={data:null,error:l};return dd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await tr(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Fg(o);await tr(this.storage,this.storageKey,l)}else{const o=Fg(n);await tr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${er}ms, refresh threshold is ${Ad} ticks`),o<=Ad&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof y0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Ks(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Cx(e.webauthn.credential_response):Ax(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Tx(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:xx(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=fd(s.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Wt});const c=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Wt});const c=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(e){if(ue(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(f=>f.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(f=>f.kid===e),s&&this.jwks_cached_at+UT>o)return s;const{data:l,error:c}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(f=>f.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:E,error:A}=await this.getSession();if(A||!E.session)return this._returnResult({data:null,error:A});s=E.session.access_token}const{header:o,payload:l,signature:c,raw:{header:f,payload:h}}=fd(s);n!=null&&n.allowExpired||ix(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:l,header:o,signature:c},error:null}}const y=sx(o.alg),_=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,c,$T(`${f}.${h}`)))throw new Id("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}}Eo.nextInstanceID={};const Ox=Eo,Lx="2.90.1";let po="";typeof Deno<"u"?po="deno":typeof document<"u"?po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?po="react-native":po="node";const qx={"X-Client-Info":`supabase-js-${po}/${Lx}`},Bx={headers:qx},Gx={schema:"public"},Hx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zx={};function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function Vx(t,e){if(To(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(To(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $x(t){var e=Vx(t,"string");return To(e)=="symbol"?e:e+""}function Fx(t,e,n){return(e=$x(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(n),!0).forEach(function(s){Fx(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const jx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Jx=()=>Headers,Yx=(t,e,n)=>{const s=jx(n),o=Jx();return async(l,c)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:t;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),s(l,nt(nt({},c),{},{headers:m}))}};function Kx(t){return t.endsWith("/")?t:t+"/"}function Xx(t,e){var n,s;const{db:o,auth:l,realtime:c,global:f}=t,{db:h,auth:m,realtime:y,global:_}=e,S={db:nt(nt({},h),o),auth:nt(nt({},m),l),realtime:nt(nt({},y),c),storage:{},global:nt(nt(nt({},_),f),{},{headers:nt(nt({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function Wx(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Kx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qx=class extends Ox{constructor(t){super(t)}},Zx=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=Wx(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:Gx,realtime:zx,auth:nt(nt({},Hx),{},{storageKey:c}),global:Bx},h=Xx(n??{},f);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=Yx(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new kE(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new NT(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new AE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:c,lock:f,debug:h,throwOnError:m},y,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qx({url:this.authUrl.href,headers:nt(nt({},S),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:c,lock:f,debug:h,throwOnError:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new KE(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const eC=(t,e,n)=>new Zx(t,e,n);function tC(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}tC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nC="https://zdpmfportgxwttmrhhwr.supabase.co",iC="sb_publishable_dEAlsD-rH1msokWdbs9P7g_DrDWXoPN",Ke=eC(nC,iC),Zg="product-images";var sC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rC,oC;function aC(){return{geminiUrl:rC,vertexUrl:oC}}function lC(t,e,n,s){var o,l;if(!(t!=null&&t.baseUrl)){const c=aC();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:n:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ti{}function oe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function p(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const h=t[f];if(Array.isArray(n))for(let m=0;m<h.length;m++){const y=h[m];p(y,e.slice(l+1),n[m])}else for(const m of h)p(m,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const h=t[f];p(h[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],o=t[s];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(f=>d(f,e.slice(s+1),n)):n}else return n}else t=t[o]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function uC(t,e){for(const[n,s]of Object.entries(e)){const o=n.split("."),l=s.split("."),c=new Set;let f=-1;for(let h=0;h<o.length;h++)if(o[h]==="*"){f=h;break}if(f!==-1&&l.length>f)for(let h=f;h<l.length;h++){const m=l[h];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&c.add(m)}Md(t,o,l,0,c)}}function Md(t,e,n,s,o){if(s>=e.length||typeof t!="object"||t===null)return;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const h of f[c])Md(h,e,n,s+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(m=>!m.startsWith("_")&&!o.has(m)),h={};for(const m of f)h[m]=c[m];for(const[m,y]of Object.entries(h)){const _=[];for(const S of n.slice(s))S==="*"?_.push(m):_.push(S);p(c,_,y)}for(const m of f)delete c[m]}}else{const c=t;l in c&&Md(c[l],e,n,s+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const s=d(t,["resourceName"]);return s!=null&&p(e,["_url","resourceName"],s),e}function dC(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);l!=null&&p(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&p(e,["response"],hC(c)),e}function fC(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);l!=null&&p(e,["error"],l);const c=d(t,["response"]);return c!=null&&p(e,["response"],pC(c)),e}function hC(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>mC(c))),p(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function pC(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>gC(c))),p(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function mC(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],wC(n)),e}function gC(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],EC(n)),e}function yC(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function vC(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function _C(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);l!=null&&p(e,["error"],l);const c=d(t,["response"]);return c!=null&&p(e,["response"],bC(c)),e}function bC(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&p(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function b0(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);l!=null&&p(e,["error"],l);const c=d(t,["response"]);return c!=null&&p(e,["response"],SC(c)),e}function SC(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&p(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function wC(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&p(e,["videoBytes"],sf(s));const o=d(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function EC(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&p(e,["videoBytes"],sf(s));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ey;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ey||(ey={}));var ty;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ty||(ty={}));var ny;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ny||(ny={}));var Ii;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ii||(Ii={}));var iy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(iy||(iy={}));var sy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(sy||(sy={}));var ry;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ry||(ry={}));var oy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(oy||(oy={}));var ay;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ay||(ay={}));var ly;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ly||(ly={}));var uy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(uy||(uy={}));var cy;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(cy||(cy={}));var dy;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dy||(dy={}));var fy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(fy||(fy={}));var hy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(hy||(hy={}));var py;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(py||(py={}));var my;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(my||(my={}));var gy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gy||(gy={}));var yy;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yy||(yy={}));var vy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(vy||(vy={}));var _y;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_y||(_y={}));var ml;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ml||(ml={}));var by;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(by||(by={}));var Sy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Sy||(Sy={}));var wy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wy||(wy={}));var kd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kd||(kd={}));var Ey;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ey||(Ey={}));var Ty;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ty||(Ty={}));var xy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(xy||(xy={}));var Cy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Cy||(Cy={}));var Ay;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ay||(Ay={}));var Ry;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ry||(Ry={}));var Ny;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ny||(Ny={}));var Iy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Iy||(Iy={}));var My;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(My||(My={}));var ky;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ky||(ky={}));var Dy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Dy||(Dy={}));var Uy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Uy||(Uy={}));var Py;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Py||(Py={}));var Oy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Oy||(Oy={}));var Ly;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ly||(Ly={}));var qy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(qy||(qy={}));var By;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(By||(By={}));var Gy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Gy||(Gy={}));var Hy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Hy||(Hy={}));var zy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zy||(zy={}));var Vy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Vy||(Vy={}));var $y;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($y||($y={}));var Fy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Fy||(Fy={}));var jy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jy||(jy={}));var Jy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Jy||(Jy={}));var Yy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Yy||(Yy={}));var Ky;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ky||(Ky={}));var Xy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Xy||(Xy={}));var sr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(sr||(sr={}));class Dd{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class fo{get text(){var e,n,s,o,l,c,f,h;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const _=[];for(const S of(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&h!==void 0?h:[]){for(const[E,A]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(A!==null||A!==void 0)&&_.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,n,s,o,l,c,f,h;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const _ of(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&h!==void 0?h:[]){for(const[S,E]of Object.entries(_))S!=="inlineData"&&(E!==null||E!==void 0)&&y.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,s,o,l,c,f,h;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,s,o,l,c,f,h,m;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,s,o,l,c,f,h,m;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(h=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class Wy{}class Qy{}class TC{}class xC{}class CC{}class AC{}class Zy{}class ev{}class tv{}class RC{}class gl{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new gl;let o;const l=e;return n?o=fC(l):o=dC(l),Object.assign(s,o),s}}class nv{}class iv{}class sv{}class rv{}class NC{}class IC{}class MC{}class rf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new rf,l=_C(e);return Object.assign(s,l),s}}class kC{}class DC{}class UC{}class ov{}class PC{get text(){var e,n,s;let o="",l=!1;const c=[];for(const f of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[h,m]of Object.entries(f))h!=="text"&&h!=="thought"&&m!==null&&c.push(h);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,s;let o="";const l=[];for(const c of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[f,h]of Object.entries(c))f!=="inlineData"&&h!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class OC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class of{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new of,l=b0(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function S0(t,e){const n=ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function w0(t){return Array.isArray(t)?t.map(e=>yl(e)):[yl(t)]}function yl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function E0(t){const e=yl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function T0(t){const e=yl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function av(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function x0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>av(e)):[av(t)]}function Ud(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function lv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function uv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ct(t){if(t==null)throw new Error("ContentUnion is required");return Ud(t)?t:{role:"user",parts:x0(t)}}function af(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=Ct(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=Ct(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ct(n)):[Ct(e)]}function pn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(lv(t)||uv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(t)]}const e=[],n=[],s=Ud(t[0]);for(const o of t){const l=Ud(o);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(lv(o)||uv(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return s||e.push({role:"user",parts:x0(n)}),e}function LC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(Ii).includes(n[0].toUpperCase())?n[0].toUpperCase():Ii.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(Ii).includes(s.toUpperCase())?s.toUpperCase():Ii.TYPE_UNSPECIFIED})}}function ar(t){const e={},n=["items"],s=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&LC(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ii).includes(f.toUpperCase())?f.toUpperCase():Ii.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=ar(f);else if(s.includes(c)){const h=[];for(const m of f){if(m.type=="null"){e.nullable=!0;continue}h.push(ar(m))}e[c]=h}else if(o.includes(c)){const h={};for(const[m,y]of Object.entries(f))h[m]=ar(y);e[c]=h}else{if(c==="additionalProperties")continue;e[c]=f}return e}function lf(t){return ar(t)}function uf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function cf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function cr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ar(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ar(e.response));return t}function dr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function qC(t,e,n,s=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return qC(t,e,"cachedContents")}function C0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ki(t){return sf(t)}function BC(t){return t!=null&&typeof t=="object"&&"name"in t}function GC(t){return t!=null&&typeof t=="object"&&"video"in t}function HC(t){return t!=null&&typeof t=="object"&&"uri"in t}function A0(t){var e;let n;if(BC(t)&&(n=t.name),!(HC(t)&&(n=t.uri,n===void 0))&&!(GC(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function R0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function N0(t){for(const e of["models","tunedModels","publisherModels"])if(zC(t,e))return t[e];return[]}function zC(t,e){return t!==null&&typeof t=="object"&&e in t}function VC(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function $C(t,e={}){const n=[],s=new Set;for(const o of t){const l=o.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=VC(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function I0(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function FC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function M0(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const c of o){if(typeof c!="object"||c===null)continue;const h=c.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function fr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function k0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const s=d(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>CA(c))),p(e,["inlinedResponses"],l)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),p(e,["inlinedEmbedContentResponses"],l)}return e}function JC(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const s=d(t,["gcsDestination","outputUriPrefix"]);s!=null&&p(e,["gcsUri"],s);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function YC(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const s=d(t,["gcsUri"]);s!=null&&p(e,["gcsDestination","outputUriPrefix"],s);const o=d(t,["bigqueryUri"]);if(o!=null&&p(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function al(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["metadata","displayName"]);s!=null&&p(e,["displayName"],s);const o=d(t,["metadata","state"]);o!=null&&p(e,["state"],k0(o));const l=d(t,["metadata","createTime"]);l!=null&&p(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&p(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&p(e,["updateTime"],f);const h=d(t,["metadata","model"]);h!=null&&p(e,["model"],h);const m=d(t,["metadata","output"]);return m!=null&&p(e,["dest"],jC(M0(m))),e}function Pd(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["displayName"]);s!=null&&p(e,["displayName"],s);const o=d(t,["state"]);o!=null&&p(e,["state"],k0(o));const l=d(t,["error"]);l!=null&&p(e,["error"],l);const c=d(t,["createTime"]);c!=null&&p(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&p(e,["startTime"],f);const h=d(t,["endTime"]);h!=null&&p(e,["endTime"],h);const m=d(t,["updateTime"]);m!=null&&p(e,["updateTime"],m);const y=d(t,["model"]);y!=null&&p(e,["model"],y);const _=d(t,["inputConfig"]);_!=null&&p(e,["src"],KC(_));const S=d(t,["outputConfig"]);S!=null&&p(e,["dest"],JC(M0(S)));const E=d(t,["completionStats"]);return E!=null&&p(e,["completionStats"],E),e}function KC(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const s=d(t,["gcsSource","uris"]);s!=null&&p(e,["gcsUri"],s);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function XC(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=d(e,["fileName"]);s!=null&&p(n,["fileName"],s);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>xA(t,c))),p(n,["requests","requests"],l)}return n}function WC(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const s=d(t,["gcsUri"]);s!=null&&p(e,["gcsSource","uris"],s);const o=d(t,["bigqueryUri"]);if(o!=null&&p(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function QC(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function ZC(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],fr(t,s)),n}function eA(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],fr(t,s)),n}function tA(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&p(e,["citationMetadata"],nA(s));const o=d(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&p(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&p(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&p(e,["groundingMetadata"],f);const h=d(t,["index"]);h!=null&&p(e,["index"],h);const m=d(t,["logprobsResult"]);m!=null&&p(e,["logprobsResult"],m);const y=d(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>E)),p(e,["safetyRatings"],S)}const _=d(t,["urlContextMetadata"]);return _!=null&&p(e,["urlContextMetadata"],_),e}function nA(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),p(e,["citations"],s)}return e}function D0(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>DA(l))),p(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&p(e,["role"],s),e}function iA(t,e){const n={},s=d(t,["displayName"]);if(e!==void 0&&s!=null&&p(e,["batch","displayName"],s),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function sA(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const o=d(t,["dest"]);return e!==void 0&&o!=null&&p(e,["outputConfig"],YC(FC(o))),n}function cv(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["src"]);o!=null&&p(n,["batch","inputConfig"],XC(t,I0(t,o)));const l=d(e,["config"]);return l!=null&&iA(l,n),n}function rA(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],ke(t,s));const o=d(e,["src"]);o!=null&&p(n,["inputConfig"],WC(I0(t,o)));const l=d(e,["config"]);return l!=null&&sA(l,n),n}function oA(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&p(e,["batch","displayName"],s),n}function aA(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["src"]);o!=null&&p(n,["batch","inputConfig"],pA(t,o));const l=d(e,["config"]);return l!=null&&oA(l,n),n}function lA(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],fr(t,s)),n}function uA(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],fr(t,s)),n}function cA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&p(e,["name"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);return l!=null&&p(e,["error"],l),e}function dA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&p(e,["name"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);return l!=null&&p(e,["error"],l),e}function fA(t,e){const n={},s=d(e,["contents"]);if(s!=null){let l=af(t,s);Array.isArray(l)&&(l=l.map(c=>c)),p(n,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(p(n,["_self"],hA(o,n)),uC(n,{"requests[].*":"requests[].request.*"})),n}function hA(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&p(e,["requests[]","taskType"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&p(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function pA(t,e){const n={},s=d(e,["fileName"]);s!=null&&p(n,["file_name"],s);const o=d(e,["inlinedRequests"]);return o!=null&&p(n,["requests"],fA(t,o)),n}function mA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function gA(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const s=d(t,["args"]);s!=null&&p(e,["args"],s);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yA(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&p(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vA(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],D0(Ct(o)));const l=d(e,["temperature"]);l!=null&&p(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const f=d(e,["topK"]);f!=null&&p(s,["topK"],f);const h=d(e,["candidateCount"]);h!=null&&p(s,["candidateCount"],h);const m=d(e,["maxOutputTokens"]);m!=null&&p(s,["maxOutputTokens"],m);const y=d(e,["stopSequences"]);y!=null&&p(s,["stopSequences"],y);const _=d(e,["responseLogprobs"]);_!=null&&p(s,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&p(s,["logprobs"],S);const E=d(e,["presencePenalty"]);E!=null&&p(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&p(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&p(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&p(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&p(s,["responseSchema"],lf(M));const O=d(e,["responseJsonSchema"]);if(O!=null&&p(s,["responseJsonSchema"],O),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(n!==void 0&&I!=null){let xe=I;Array.isArray(xe)&&(xe=xe.map(qe=>UA(qe))),p(n,["safetySettings"],xe)}const V=d(e,["tools"]);if(n!==void 0&&V!=null){let xe=dr(V);Array.isArray(xe)&&(xe=xe.map(qe=>OA(cr(qe)))),p(n,["tools"],xe)}const X=d(e,["toolConfig"]);if(n!==void 0&&X!=null&&p(n,["toolConfig"],PA(X)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=d(e,["cachedContent"]);n!==void 0&&K!=null&&p(n,["cachedContent"],ni(t,K));const L=d(e,["responseModalities"]);L!=null&&p(s,["responseModalities"],L);const ee=d(e,["mediaResolution"]);ee!=null&&p(s,["mediaResolution"],ee);const Q=d(e,["speechConfig"]);if(Q!=null&&p(s,["speechConfig"],uf(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=d(e,["thinkingConfig"]);re!=null&&p(s,["thinkingConfig"],re);const _e=d(e,["imageConfig"]);_e!=null&&p(s,["imageConfig"],TA(_e));const Pe=d(e,["enableEnhancedCivicAnswers"]);return Pe!=null&&p(s,["enableEnhancedCivicAnswers"],Pe),s}function _A(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>tA(m))),p(e,["candidates"],h)}const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&p(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&p(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&p(e,["usageMetadata"],f),e}function bA(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],fr(t,s)),n}function SA(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],fr(t,s)),n}function wA(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function EA(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function TA(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&p(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xA(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["request","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let f=pn(o);Array.isArray(f)&&(f=f.map(h=>D0(h))),p(n,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&p(n,["metadata"],l);const c=d(e,["config"]);return c!=null&&p(n,["request","generationConfig"],vA(t,c,d(n,["request"],{}))),n}function CA(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],_A(n));const s=d(t,["error"]);return s!=null&&p(e,["error"],s),e}function AA(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function RA(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const l=d(t,["filter"]);return e!==void 0&&l!=null&&p(e,["_query","filter"],l),n}function NA(t){const e={},n=d(t,["config"]);return n!=null&&AA(n,e),e}function IA(t){const e={},n=d(t,["config"]);return n!=null&&RA(n,e),e}function MA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>al(c))),p(e,["batchJobs"],l)}return e}function kA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Pd(c))),p(e,["batchJobs"],l)}return e}function DA(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&p(e,["fileData"],mA(l));const c=d(t,["functionCall"]);c!=null&&p(e,["functionCall"],gA(c));const f=d(t,["functionResponse"]);f!=null&&p(e,["functionResponse"],f);const h=d(t,["inlineData"]);h!=null&&p(e,["inlineData"],QC(h));const m=d(t,["text"]);m!=null&&p(e,["text"],m);const y=d(t,["thought"]);y!=null&&p(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&p(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&p(e,["videoMetadata"],S),e}function UA(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&p(e,["threshold"],s),e}function PA(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&p(e,["functionCallingConfig"],yA(s)),e}function OA(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>_)),p(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&p(e,["googleMaps"],wA(c));const f=d(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],EA(f));const h=d(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const m=d(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Zn||(Zn={}));class as{constructor(e,n,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,o)}init(e,n,s){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LA extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=cv(this.apiClient,e),s=n._url,o=oe("{model}:batchGenerateContent",s),f=n.batch.inputConfig.requests,h=f.requests,m=[];for(const y of h){const _=Object.assign({},y);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=S,_.request=E}m.push(_)}return f.requests=m,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},o=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${o}`),s.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${o}`;else if(c)s.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=rA(this.apiClient,e);return f=oe("batchPredictionJobs",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Pd(y))}else{const m=cv(this.apiClient,e);return f=oe("{model}:batchGenerateContent",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>al(y))}}async createEmbeddingsInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=aA(this.apiClient,e);return l=oe("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>al(h))}}async get(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=SA(this.apiClient,e);return f=oe("batchPredictionJobs/{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Pd(y))}else{const m=bA(this.apiClient,e);return f=oe("batches/{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>al(y))}}async cancel(e){var n,s,o,l;let c="",f={};if(this.apiClient.isVertexAI()){const h=eA(this.apiClient,e);c=oe("batchPredictionJobs/{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const h=ZC(this.apiClient,e);c=oe("batches/{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=IA(e);return f=oe("batchPredictionJobs",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=kA(y),S=new ov;return Object.assign(S,_),S})}else{const m=NA(e);return f=oe("batches",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=MA(y),S=new ov;return Object.assign(S,_),S})}}async delete(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=uA(this.apiClient,e);return f=oe("batchPredictionJobs/{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>dA(y))}else{const m=lA(this.apiClient,e);return f=oe("batches/{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>cA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qA(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function dv(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>aR(l))),p(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&p(e,["role"],s),e}function BA(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&p(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let y=pn(c);Array.isArray(y)&&(y=y.map(_=>dv(_))),p(e,["contents"],y)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&p(e,["systemInstruction"],dv(Ct(f)));const h=d(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(_=>uR(_))),p(e,["tools"],y)}const m=d(t,["toolConfig"]);if(e!==void 0&&m!=null&&p(e,["toolConfig"],lR(m)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function GA(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&p(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let _=pn(c);Array.isArray(_)&&(_=_.map(S=>S)),p(e,["contents"],_)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&p(e,["systemInstruction"],Ct(f));const h=d(t,["tools"]);if(e!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>cR(S))),p(e,["tools"],_)}const m=d(t,["toolConfig"]);e!==void 0&&m!=null&&p(e,["toolConfig"],m);const y=d(t,["kmsKeyName"]);return e!==void 0&&y!=null&&p(e,["encryption_spec","kmsKeyName"],y),n}function HA(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],S0(t,s));const o=d(e,["config"]);return o!=null&&BA(o,n),n}function zA(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["model"],S0(t,s));const o=d(e,["config"]);return o!=null&&GA(o,n),n}function VA(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],ni(t,s)),n}function $A(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],ni(t,s)),n}function FA(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function jA(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function JA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function YA(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const s=d(t,["args"]);s!=null&&p(e,["args"],s);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KA(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&p(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XA(t){const e={},n=d(t,["description"]);n!=null&&p(e,["description"],n);const s=d(t,["name"]);s!=null&&p(e,["name"],s);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&p(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&p(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&p(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function WA(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],ni(t,s)),n}function QA(t,e){const n={},s=d(e,["name"]);return s!=null&&p(n,["_url","name"],ni(t,s)),n}function ZA(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function eR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function tR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function nR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function iR(t){const e={},n=d(t,["config"]);return n!=null&&tR(n,e),e}function sR(t){const e={},n=d(t,["config"]);return n!=null&&nR(n,e),e}function rR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),p(e,["cachedContents"],l)}return e}function oR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),p(e,["cachedContents"],l)}return e}function aR(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&p(e,["fileData"],JA(l));const c=d(t,["functionCall"]);c!=null&&p(e,["functionCall"],YA(c));const f=d(t,["functionResponse"]);f!=null&&p(e,["functionResponse"],f);const h=d(t,["inlineData"]);h!=null&&p(e,["inlineData"],qA(h));const m=d(t,["text"]);m!=null&&p(e,["text"],m);const y=d(t,["thought"]);y!=null&&p(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&p(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&p(e,["videoMetadata"],S),e}function lR(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&p(e,["functionCallingConfig"],KA(s)),e}function uR(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>_)),p(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&p(e,["googleMaps"],ZA(c));const f=d(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],eR(f));const h=d(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const m=d(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function cR(t){const e={},n=d(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&p(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&p(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>XA(S))),p(e,["functionDeclarations"],_)}const f=d(t,["googleMaps"]);f!=null&&p(e,["googleMaps"],f);const h=d(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],h);const m=d(t,["googleSearchRetrieval"]);m!=null&&p(e,["googleSearchRetrieval"],m);const y=d(t,["urlContext"]);return y!=null&&p(e,["urlContext"],y),e}function dR(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function fR(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&p(e,["ttl"],s);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function hR(t,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ni(t,s));const o=d(e,["config"]);return o!=null&&dR(o,n),n}function pR(t,e){const n={},s=d(e,["name"]);s!=null&&p(n,["_url","name"],ni(t,s));const o=d(e,["config"]);return o!=null&&fR(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=zA(this.apiClient,e);return f=oe("cachedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const m=HA(this.apiClient,e);return f=oe("cachedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=QA(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const m=WA(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=$A(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=jA(y),S=new sv;return Object.assign(S,_),S})}else{const m=VA(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=FA(y),S=new sv;return Object.assign(S,_),S})}}async update(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=pR(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const m=hR(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=sR(e);return f=oe("cachedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=oR(y),S=new rv;return Object.assign(S,_),S})}else{const m=iR(e);return f=oe("cachedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=rR(y),S=new rv;return Object.assign(S,_),S})}}}function vl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function fv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(t){return this instanceof ye?(this.v=t,this):new ye(t)}function Tn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(E){return function(A){return Promise.resolve(A).then(E,_)}}function f(E,A){s[E]&&(o[E]=function(R){return new Promise(function(C,M){l.push([E,R,C,M])>1||h(E,R)})},A&&(o[E]=A(o[E])))}function h(E,A){try{m(s[E](A))}catch(R){S(l[0][3],R)}}function m(E){E.value instanceof ye?Promise.resolve(E.value.v).then(y,_):S(l[0][2],E)}function y(E){h("next",E)}function _(E){h("throw",E)}function S(E,A){E(A),l.shift(),l.length&&h(l[0][0],l[0][1])}}function xn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fv=="function"?fv(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=t[l]&&function(c){return new Promise(function(f,h){c=t[l](c),o(f,h,c.done,c.value)})}}function o(l,c,f,h){Promise.resolve(h).then(function(m){l({value:m,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gR(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:U0(n)}function U0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function yR(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function hv(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const o=[];let l=!0;for(;s<n&&t[s].role==="model";)o.push(t[s]),l&&!U0(t[s])&&(l=!1),s++;l?e.push(...o):e.pop()}return e}class vR{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new _R(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _R{constructor(e,n,s,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),yR(l)}async sendMessage(e){var n;await this.sendPromise;const s=Ct(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,f;const h=await o,m=(c=(l=h.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,y=h.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];y!=null&&(S=(f=y.slice(_))!==null&&f!==void 0?f:[]);const E=m?[m]:[];this.recordHistory(s,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const s=Ct(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,s)}getHistory(e=!1){const n=e?hv(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Tn(this,arguments,function*(){var o,l,c,f,h,m;const y=[];try{for(var _=!0,S=xn(e),E;E=yield ye(S.next()),o=E.done,!o;_=!0){f=E.value,_=!1;const A=f;if(gR(A)){const R=(m=(h=A.candidates)===null||h===void 0?void 0:h[0])===null||m===void 0?void 0:m.content;R!==void 0&&y.push(R)}yield yield ye(A)}}catch(A){l={error:A}}finally{try{!_&&!o&&(c=S.return)&&(yield ye(c.call(S)))}finally{if(l)throw l.error}}this.recordHistory(n,y)})}recordHistory(e,n,s){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...hv(s)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Al extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Al.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bR(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],n),e}function SR(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function wR(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],A0(n)),e}function ER(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function TR(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],A0(n)),e}function xR(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function CR(t){const e={},n=d(t,["config"]);return n!=null&&xR(n,e),e}function AR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),p(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RR extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=CR(e);return l=oe("files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const m=AR(h),y=new kC;return Object.assign(y,m),y})}}async createInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=bR(e);return l=oe("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=SR(h),y=new DC;return Object.assign(y,m),y})}}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=TR(e);return l=oe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=wR(e);return l=oe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const m=ER(h),y=new UC;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ll(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function NR(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>FR(l))),p(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&p(e,["role"],s),e}function IR(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function MR(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const s=d(t,["args"]);s!=null&&p(e,["args"],s);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kR(t){const e={},n=d(t,["description"]);n!=null&&p(e,["description"],n);const s=d(t,["name"]);s!=null&&p(e,["name"],s);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&p(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&p(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&p(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function DR(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&p(e,["responseJsonSchema"],s);const o=d(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&p(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&p(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&p(e,["frequencyPenalty"],f);const h=d(t,["logprobs"]);h!=null&&p(e,["logprobs"],h);const m=d(t,["maxOutputTokens"]);m!=null&&p(e,["maxOutputTokens"],m);const y=d(t,["mediaResolution"]);y!=null&&p(e,["mediaResolution"],y);const _=d(t,["presencePenalty"]);_!=null&&p(e,["presencePenalty"],_);const S=d(t,["responseLogprobs"]);S!=null&&p(e,["responseLogprobs"],S);const E=d(t,["responseMimeType"]);E!=null&&p(e,["responseMimeType"],E);const A=d(t,["responseModalities"]);A!=null&&p(e,["responseModalities"],A);const R=d(t,["responseSchema"]);R!=null&&p(e,["responseSchema"],R);const C=d(t,["routingConfig"]);C!=null&&p(e,["routingConfig"],C);const M=d(t,["seed"]);M!=null&&p(e,["seed"],M);const O=d(t,["speechConfig"]);O!=null&&p(e,["speechConfig"],O);const I=d(t,["stopSequences"]);I!=null&&p(e,["stopSequences"],I);const V=d(t,["temperature"]);V!=null&&p(e,["temperature"],V);const X=d(t,["thinkingConfig"]);X!=null&&p(e,["thinkingConfig"],X);const K=d(t,["topK"]);K!=null&&p(e,["topK"],K);const L=d(t,["topP"]);if(L!=null&&p(e,["topP"],L),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function UR(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function PR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function OR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],s);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","topK"],f);const h=d(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const y=d(t,["seed"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","seed"],y);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","speechConfig"],cf(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&p(e,["setup","generationConfig","thinkingConfig"],S);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&p(e,["setup","systemInstruction"],NR(Ct(A)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let K=dr(R);Array.isArray(K)&&(K=K.map(L=>JR(cr(L)))),p(e,["setup","tools"],K)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&p(e,["setup","sessionResumption"],jR(C));const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&p(e,["setup","inputAudioTranscription"],M);const O=d(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&p(e,["setup","outputAudioTranscription"],O);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&p(e,["setup","realtimeInputConfig"],I);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&p(e,["setup","contextWindowCompression"],V);const X=d(t,["proactivity"]);if(e!==void 0&&X!=null&&p(e,["setup","proactivity"],X),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function LR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],DR(s));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","topK"],f);const h=d(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const y=d(t,["seed"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","seed"],y);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","speechConfig"],cf(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&p(e,["setup","generationConfig","thinkingConfig"],S);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&p(e,["setup","systemInstruction"],Ct(A));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let L=dr(R);Array.isArray(L)&&(L=L.map(ee=>YR(cr(ee)))),p(e,["setup","tools"],L)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&p(e,["setup","sessionResumption"],C);const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&p(e,["setup","inputAudioTranscription"],M);const O=d(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&p(e,["setup","outputAudioTranscription"],O);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&p(e,["setup","realtimeInputConfig"],I);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&p(e,["setup","contextWindowCompression"],V);const X=d(t,["proactivity"]);e!==void 0&&X!=null&&p(e,["setup","proactivity"],X);const K=d(t,["explicitVadSignal"]);return e!==void 0&&K!=null&&p(e,["setup","explicitVadSignal"],K),n}function qR(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],ke(t,s));const o=d(e,["config"]);return o!=null&&p(n,["config"],OR(o,n)),n}function BR(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],ke(t,s));const o=d(e,["config"]);return o!=null&&p(n,["config"],LR(o,n)),n}function GR(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function HR(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),p(e,["weightedPrompts"],s)}return e}function zR(t){const e={},n=d(t,["media"]);if(n!=null){let m=w0(n);Array.isArray(m)&&(m=m.map(y=>ll(y))),p(e,["mediaChunks"],m)}const s=d(t,["audio"]);s!=null&&p(e,["audio"],ll(T0(s)));const o=d(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&p(e,["video"],ll(E0(l)));const c=d(t,["text"]);c!=null&&p(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&p(e,["activityStart"],f);const h=d(t,["activityEnd"]);return h!=null&&p(e,["activityEnd"],h),e}function VR(t){const e={},n=d(t,["media"]);if(n!=null){let m=w0(n);Array.isArray(m)&&(m=m.map(y=>y)),p(e,["mediaChunks"],m)}const s=d(t,["audio"]);s!=null&&p(e,["audio"],T0(s));const o=d(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&p(e,["video"],E0(l));const c=d(t,["text"]);c!=null&&p(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&p(e,["activityStart"],f);const h=d(t,["activityEnd"]);return h!=null&&p(e,["activityEnd"],h),e}function $R(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const s=d(t,["serverContent"]);s!=null&&p(e,["serverContent"],s);const o=d(t,["toolCall"]);o!=null&&p(e,["toolCall"],o);const l=d(t,["toolCallCancellation"]);l!=null&&p(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&p(e,["usageMetadata"],KR(c));const f=d(t,["goAway"]);f!=null&&p(e,["goAway"],f);const h=d(t,["sessionResumptionUpdate"]);h!=null&&p(e,["sessionResumptionUpdate"],h);const m=d(t,["voiceActivityDetectionSignal"]);return m!=null&&p(e,["voiceActivityDetectionSignal"],m),e}function FR(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&p(e,["fileData"],IR(l));const c=d(t,["functionCall"]);c!=null&&p(e,["functionCall"],MR(c));const f=d(t,["functionResponse"]);f!=null&&p(e,["functionResponse"],f);const h=d(t,["inlineData"]);h!=null&&p(e,["inlineData"],ll(h));const m=d(t,["text"]);m!=null&&p(e,["text"],m);const y=d(t,["thought"]);y!=null&&p(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&p(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&p(e,["videoMetadata"],S),e}function jR(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function JR(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>_)),p(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&p(e,["googleMaps"],UR(c));const f=d(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],PR(f));const h=d(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const m=d(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function YR(t){const e={},n=d(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&p(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&p(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>kR(S))),p(e,["functionDeclarations"],_)}const f=d(t,["googleMaps"]);f!=null&&p(e,["googleMaps"],f);const h=d(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],h);const m=d(t,["googleSearchRetrieval"]);m!=null&&p(e,["googleSearchRetrieval"],m);const y=d(t,["urlContext"]);return y!=null&&p(e,["urlContext"],y),e}function KR(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const s=d(t,["cachedContentTokenCount"]);s!=null&&p(e,["cachedContentTokenCount"],s);const o=d(t,["candidatesTokenCount"]);o!=null&&p(e,["responseTokenCount"],o);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&p(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&p(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&p(e,["totalTokenCount"],f);const h=d(t,["promptTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(A=>A)),p(e,["promptTokensDetails"],E)}const m=d(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(A=>A)),p(e,["cacheTokensDetails"],E)}const y=d(t,["candidatesTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(A=>A)),p(e,["responseTokensDetails"],E)}const _=d(t,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(A=>A)),p(e,["toolUsePromptTokensDetails"],E)}const S=d(t,["trafficType"]);return S!=null&&p(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XR(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function WR(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&p(e,["citationMetadata"],QR(s));const o=d(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&p(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&p(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&p(e,["groundingMetadata"],f);const h=d(t,["index"]);h!=null&&p(e,["index"],h);const m=d(t,["logprobsResult"]);m!=null&&p(e,["logprobsResult"],m);const y=d(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>E)),p(e,["safetyRatings"],S)}const _=d(t,["urlContextMetadata"]);return _!=null&&p(e,["urlContextMetadata"],_),e}function QR(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),p(e,["citations"],s)}return e}function ZR(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let l=pn(o);Array.isArray(l)&&(l=l.map(c=>c)),p(n,["contents"],l)}return n}function eN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),p(e,["tokensInfo"],o)}return e}function tN(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const s=d(t,["statistics"]);return s!=null&&p(e,["statistics"],nN(s)),e}function nN(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const s=d(t,["token_count"]);return s!=null&&p(e,["tokenCount"],s),e}function Rl(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>d1(l))),p(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&p(e,["role"],s),e}function iN(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const s=d(t,["enableControlImageComputation"]);return s!=null&&p(e,["computeControl"],s),e}function sN(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function rN(t,e){const n={},s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],Ct(s));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>q0(f))),p(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&p(e,["generationConfig"],XN(l)),n}function oN(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>Rl(f))),p(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&sN(l),n}function aN(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>f)),p(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&rN(l,n),n}function lN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);s!=null&&p(e,["totalTokens"],s);const o=d(t,["cachedContentTokenCount"]);return o!=null&&p(e,["cachedContentTokenCount"],o),e}function uN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);return s!=null&&p(e,["totalTokens"],s),e}function cN(t,e){const n={},s=d(e,["model"]);return s!=null&&p(n,["_url","name"],ke(t,s)),n}function dN(t,e){const n={},s=d(e,["model"]);return s!=null&&p(n,["_url","name"],ke(t,s)),n}function fN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function hN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function pN(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&p(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&p(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&p(e,["parameters","guidanceScale"],f);const h=d(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&p(e,["parameters","personGeneration"],y);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&p(e,["parameters","includeSafetyAttributes"],_);const S=d(t,["includeRaiReason"]);e!==void 0&&S!=null&&p(e,["parameters","includeRaiReason"],S);const E=d(t,["language"]);e!==void 0&&E!=null&&p(e,["parameters","language"],E);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&p(e,["parameters","outputOptions","mimeType"],A);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&p(e,["parameters","outputOptions","compressionQuality"],R);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&p(e,["parameters","addWatermark"],C);const M=d(t,["labels"]);e!==void 0&&M!=null&&p(e,["labels"],M);const O=d(t,["editMode"]);e!==void 0&&O!=null&&p(e,["parameters","editMode"],O);const I=d(t,["baseSteps"]);return e!==void 0&&I!=null&&p(e,["parameters","editConfig","baseSteps"],I),n}function mN(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>y1(h))),p(n,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&pN(c,n),n}function gN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Nl(l))),p(e,["generatedImages"],o)}return e}function yN(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&p(e,["requests[]","taskType"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&p(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vN(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&p(e,["instances[]","task_type"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&p(e,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&p(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&p(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&p(e,["parameters","autoTruncate"],f),n}function _N(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let f=af(t,o);Array.isArray(f)&&(f=f.map(h=>h)),p(n,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&yN(l,n);const c=d(e,["model"]);return c!==void 0&&p(n,["requests[]","model"],ke(t,c)),n}function bN(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=af(t,o);Array.isArray(c)&&(c=c.map(f=>f)),p(n,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&vN(l,n),n}function SN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),p(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function wN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>tN(c))),p(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function EN(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const s=d(t,["deployedModelId"]);return s!=null&&p(e,["deployedModelId"],s),e}function TN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function xN(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const s=d(t,["args"]);s!=null&&p(e,["args"],s);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function CN(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const s=d(t,["mode"]);if(s!=null&&p(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function AN(t){const e={},n=d(t,["description"]);n!=null&&p(e,["description"],n);const s=d(t,["name"]);s!=null&&p(e,["name"],s);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&p(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&p(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&p(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function RN(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Rl(Ct(o)));const l=d(e,["temperature"]);l!=null&&p(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const f=d(e,["topK"]);f!=null&&p(s,["topK"],f);const h=d(e,["candidateCount"]);h!=null&&p(s,["candidateCount"],h);const m=d(e,["maxOutputTokens"]);m!=null&&p(s,["maxOutputTokens"],m);const y=d(e,["stopSequences"]);y!=null&&p(s,["stopSequences"],y);const _=d(e,["responseLogprobs"]);_!=null&&p(s,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&p(s,["logprobs"],S);const E=d(e,["presencePenalty"]);E!=null&&p(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&p(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&p(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&p(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&p(s,["responseSchema"],lf(M));const O=d(e,["responseJsonSchema"]);if(O!=null&&p(s,["responseJsonSchema"],O),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(n!==void 0&&I!=null){let xe=I;Array.isArray(xe)&&(xe=xe.map(qe=>v1(qe))),p(n,["safetySettings"],xe)}const V=d(e,["tools"]);if(n!==void 0&&V!=null){let xe=dr(V);Array.isArray(xe)&&(xe=xe.map(qe=>x1(cr(qe)))),p(n,["tools"],xe)}const X=d(e,["toolConfig"]);if(n!==void 0&&X!=null&&p(n,["toolConfig"],T1(X)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=d(e,["cachedContent"]);n!==void 0&&K!=null&&p(n,["cachedContent"],ni(t,K));const L=d(e,["responseModalities"]);L!=null&&p(s,["responseModalities"],L);const ee=d(e,["mediaResolution"]);ee!=null&&p(s,["mediaResolution"],ee);const Q=d(e,["speechConfig"]);if(Q!=null&&p(s,["speechConfig"],uf(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=d(e,["thinkingConfig"]);re!=null&&p(s,["thinkingConfig"],re);const _e=d(e,["imageConfig"]);_e!=null&&p(s,["imageConfig"],t1(_e));const Pe=d(e,["enableEnhancedCivicAnswers"]);return Pe!=null&&p(s,["enableEnhancedCivicAnswers"],Pe),s}function NN(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Ct(o));const l=d(e,["temperature"]);l!=null&&p(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&p(s,["topP"],c);const f=d(e,["topK"]);f!=null&&p(s,["topK"],f);const h=d(e,["candidateCount"]);h!=null&&p(s,["candidateCount"],h);const m=d(e,["maxOutputTokens"]);m!=null&&p(s,["maxOutputTokens"],m);const y=d(e,["stopSequences"]);y!=null&&p(s,["stopSequences"],y);const _=d(e,["responseLogprobs"]);_!=null&&p(s,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&p(s,["logprobs"],S);const E=d(e,["presencePenalty"]);E!=null&&p(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&p(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&p(s,["seed"],R);const C=d(e,["responseMimeType"]);C!=null&&p(s,["responseMimeType"],C);const M=d(e,["responseSchema"]);M!=null&&p(s,["responseSchema"],lf(M));const O=d(e,["responseJsonSchema"]);O!=null&&p(s,["responseJsonSchema"],O);const I=d(e,["routingConfig"]);I!=null&&p(s,["routingConfig"],I);const V=d(e,["modelSelectionConfig"]);V!=null&&p(s,["modelConfig"],V);const X=d(e,["safetySettings"]);if(n!==void 0&&X!=null){let B=X;Array.isArray(B)&&(B=B.map(Z=>Z)),p(n,["safetySettings"],B)}const K=d(e,["tools"]);if(n!==void 0&&K!=null){let B=dr(K);Array.isArray(B)&&(B=B.map(Z=>q0(cr(Z)))),p(n,["tools"],B)}const L=d(e,["toolConfig"]);n!==void 0&&L!=null&&p(n,["toolConfig"],L);const ee=d(e,["labels"]);n!==void 0&&ee!=null&&p(n,["labels"],ee);const Q=d(e,["cachedContent"]);n!==void 0&&Q!=null&&p(n,["cachedContent"],ni(t,Q));const re=d(e,["responseModalities"]);re!=null&&p(s,["responseModalities"],re);const _e=d(e,["mediaResolution"]);_e!=null&&p(s,["mediaResolution"],_e);const Pe=d(e,["speechConfig"]);Pe!=null&&p(s,["speechConfig"],uf(Pe));const xe=d(e,["audioTimestamp"]);xe!=null&&p(s,["audioTimestamp"],xe);const qe=d(e,["thinkingConfig"]);qe!=null&&p(s,["thinkingConfig"],qe);const Ze=d(e,["imageConfig"]);if(Ze!=null&&p(s,["imageConfig"],n1(Ze)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function pv(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>Rl(f))),p(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&p(n,["generationConfig"],RN(t,l,n)),n}function mv(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["contents"]);if(o!=null){let c=pn(o);Array.isArray(c)&&(c=c.map(f=>f)),p(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&p(n,["generationConfig"],NN(t,l,n)),n}function gv(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>WR(m))),p(e,["candidates"],h)}const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&p(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&p(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&p(e,["usageMetadata"],f),e}function yv(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["candidates"],m)}const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const l=d(t,["modelVersion"]);l!=null&&p(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&p(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&p(e,["responseId"],f);const h=d(t,["usageMetadata"]);return h!=null&&p(e,["usageMetadata"],h),e}function IN(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&p(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&p(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&p(e,["parameters","personGeneration"],f);const h=d(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&p(e,["parameters","includeSafetyAttributes"],h);const m=d(t,["includeRaiReason"]);e!==void 0&&m!=null&&p(e,["parameters","includeRaiReason"],m);const y=d(t,["language"]);e!==void 0&&y!=null&&p(e,["parameters","language"],y);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&p(e,["parameters","outputOptions","mimeType"],_);const S=d(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&p(e,["parameters","outputOptions","compressionQuality"],S),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(t,["imageSize"]);if(e!==void 0&&E!=null&&p(e,["parameters","sampleImageSize"],E),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function MN(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&p(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&p(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&p(e,["parameters","guidanceScale"],f);const h=d(t,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&p(e,["parameters","personGeneration"],y);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&p(e,["parameters","includeSafetyAttributes"],_);const S=d(t,["includeRaiReason"]);e!==void 0&&S!=null&&p(e,["parameters","includeRaiReason"],S);const E=d(t,["language"]);e!==void 0&&E!=null&&p(e,["parameters","language"],E);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&p(e,["parameters","outputOptions","mimeType"],A);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&p(e,["parameters","outputOptions","compressionQuality"],R);const C=d(t,["addWatermark"]);e!==void 0&&C!=null&&p(e,["parameters","addWatermark"],C);const M=d(t,["labels"]);e!==void 0&&M!=null&&p(e,["labels"],M);const O=d(t,["imageSize"]);e!==void 0&&O!=null&&p(e,["parameters","sampleImageSize"],O);const I=d(t,["enhancePrompt"]);return e!==void 0&&I!=null&&p(e,["parameters","enhancePrompt"],I),n}function kN(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&IN(l,n),n}function DN(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&MN(l,n),n}function UN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>jN(c))),p(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],O0(o)),e}function PN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Nl(c))),p(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],L0(o)),e}function ON(t,e){const n={},s=d(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&p(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&p(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=d(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=d(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],Il(y));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>q1(E))),p(e,["instances[0]","referenceImages"],S)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function LN(t,e){const n={},s=d(t,["numberOfVideos"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const l=d(t,["fps"]);e!==void 0&&l!=null&&p(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&p(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&p(e,["parameters","seed"],f);const h=d(t,["aspectRatio"]);e!==void 0&&h!=null&&p(e,["parameters","aspectRatio"],h);const m=d(t,["resolution"]);e!==void 0&&m!=null&&p(e,["parameters","resolution"],m);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&p(e,["parameters","personGeneration"],y);const _=d(t,["pubsubTopic"]);e!==void 0&&_!=null&&p(e,["parameters","pubsubTopic"],_);const S=d(t,["negativePrompt"]);e!==void 0&&S!=null&&p(e,["parameters","negativePrompt"],S);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&p(e,["parameters","enhancePrompt"],E);const A=d(t,["generateAudio"]);e!==void 0&&A!=null&&p(e,["parameters","generateAudio"],A);const R=d(t,["lastFrame"]);e!==void 0&&R!=null&&p(e,["instances[0]","lastFrame"],Cn(R));const C=d(t,["referenceImages"]);if(e!==void 0&&C!=null){let I=C;Array.isArray(I)&&(I=I.map(V=>B1(V))),p(e,["instances[0]","referenceImages"],I)}const M=d(t,["mask"]);e!==void 0&&M!=null&&p(e,["instances[0]","mask"],L1(M));const O=d(t,["compressionQuality"]);return e!==void 0&&O!=null&&p(e,["parameters","compressionQuality"],O),n}function qN(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);l!=null&&p(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&p(e,["response"],zN(c)),e}function BN(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);l!=null&&p(e,["error"],l);const c=d(t,["response"]);return c!=null&&p(e,["response"],VN(c)),e}function GN(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&p(n,["instances[0]","image"],Il(l));const c=d(e,["video"]);c!=null&&p(n,["instances[0]","video"],B0(c));const f=d(e,["source"]);f!=null&&$N(f,n);const h=d(e,["config"]);return h!=null&&ON(h,n),n}function HN(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&p(n,["instances[0]","image"],Cn(l));const c=d(e,["video"]);c!=null&&p(n,["instances[0]","video"],G0(c));const f=d(e,["source"]);f!=null&&FN(f,n);const h=d(e,["config"]);return h!=null&&LN(h,n),n}function zN(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>YN(c))),p(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function VN(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>KN(c))),p(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&p(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function $N(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Il(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&p(e,["instances[0]","video"],B0(l)),n}function FN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Cn(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&p(e,["instances[0]","video"],G0(l)),n}function jN(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],i1(n));const s=d(t,["raiFilteredReason"]);s!=null&&p(e,["raiFilteredReason"],s);const o=d(t,["_self"]);return o!=null&&p(e,["safetyAttributes"],O0(o)),e}function Nl(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],P0(n));const s=d(t,["raiFilteredReason"]);s!=null&&p(e,["raiFilteredReason"],s);const o=d(t,["_self"]);o!=null&&p(e,["safetyAttributes"],L0(o));const l=d(t,["prompt"]);return l!=null&&p(e,["enhancedPrompt"],l),e}function JN(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],P0(n));const s=d(t,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),p(e,["labels"],o)}return e}function YN(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],P1(n)),e}function KN(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],O1(n)),e}function XN(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&p(e,["responseJsonSchema"],s);const o=d(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&p(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&p(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&p(e,["frequencyPenalty"],f);const h=d(t,["logprobs"]);h!=null&&p(e,["logprobs"],h);const m=d(t,["maxOutputTokens"]);m!=null&&p(e,["maxOutputTokens"],m);const y=d(t,["mediaResolution"]);y!=null&&p(e,["mediaResolution"],y);const _=d(t,["presencePenalty"]);_!=null&&p(e,["presencePenalty"],_);const S=d(t,["responseLogprobs"]);S!=null&&p(e,["responseLogprobs"],S);const E=d(t,["responseMimeType"]);E!=null&&p(e,["responseMimeType"],E);const A=d(t,["responseModalities"]);A!=null&&p(e,["responseModalities"],A);const R=d(t,["responseSchema"]);R!=null&&p(e,["responseSchema"],R);const C=d(t,["routingConfig"]);C!=null&&p(e,["routingConfig"],C);const M=d(t,["seed"]);M!=null&&p(e,["seed"],M);const O=d(t,["speechConfig"]);O!=null&&p(e,["speechConfig"],O);const I=d(t,["stopSequences"]);I!=null&&p(e,["stopSequences"],I);const V=d(t,["temperature"]);V!=null&&p(e,["temperature"],V);const X=d(t,["thinkingConfig"]);X!=null&&p(e,["thinkingConfig"],X);const K=d(t,["topK"]);K!=null&&p(e,["topK"],K);const L=d(t,["topP"]);if(L!=null&&p(e,["topP"],L),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function WN(t,e){const n={},s=d(e,["model"]);return s!=null&&p(n,["_url","name"],ke(t,s)),n}function QN(t,e){const n={},s=d(e,["model"]);return s!=null&&p(n,["_url","name"],ke(t,s)),n}function ZN(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function e1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function t1(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&p(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function n1(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const s=d(t,["imageSize"]);s!=null&&p(e,["imageSize"],s);const o=d(t,["personGeneration"]);o!=null&&p(e,["personGeneration"],o);const l=d(t,["outputMimeType"]);l!=null&&p(e,["imageOutputOptions","mimeType"],l);const c=d(t,["outputCompressionQuality"]);return c!=null&&p(e,["imageOutputOptions","compressionQuality"],c),e}function i1(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],ki(n));const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function P0(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&p(e,["imageBytes"],ki(s));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function Il(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],ki(n));const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function Cn(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const s=d(t,["imageBytes"]);s!=null&&p(e,["bytesBase64Encoded"],ki(s));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function s1(t,e,n){const s={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&p(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&p(n,["_query","filter"],c);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&p(n,["_url","models_url"],R0(t,f)),s}function r1(t,e,n){const s={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&p(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&p(n,["_query","filter"],c);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&p(n,["_url","models_url"],R0(t,f)),s}function o1(t,e){const n={},s=d(e,["config"]);return s!=null&&s1(t,s,n),n}function a1(t,e){const n={},s=d(e,["config"]);return s!=null&&r1(t,s,n),n}function l1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let l=N0(o);Array.isArray(l)&&(l=l.map(c=>Od(c))),p(e,["models"],l)}return e}function u1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let l=N0(o);Array.isArray(l)&&(l=l.map(c=>Ld(c))),p(e,["models"],l)}return e}function c1(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const s=d(t,["segmentationClasses"]);s!=null&&p(e,["maskClasses"],s);const o=d(t,["maskDilation"]);return o!=null&&p(e,["dilation"],o),e}function Od(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["displayName"]);s!=null&&p(e,["displayName"],s);const o=d(t,["description"]);o!=null&&p(e,["description"],o);const l=d(t,["version"]);l!=null&&p(e,["version"],l);const c=d(t,["_self"]);c!=null&&p(e,["tunedModelInfo"],C1(c));const f=d(t,["inputTokenLimit"]);f!=null&&p(e,["inputTokenLimit"],f);const h=d(t,["outputTokenLimit"]);h!=null&&p(e,["outputTokenLimit"],h);const m=d(t,["supportedGenerationMethods"]);m!=null&&p(e,["supportedActions"],m);const y=d(t,["temperature"]);y!=null&&p(e,["temperature"],y);const _=d(t,["maxTemperature"]);_!=null&&p(e,["maxTemperature"],_);const S=d(t,["topP"]);S!=null&&p(e,["topP"],S);const E=d(t,["topK"]);E!=null&&p(e,["topK"],E);const A=d(t,["thinking"]);return A!=null&&p(e,["thinking"],A),e}function Ld(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["displayName"]);s!=null&&p(e,["displayName"],s);const o=d(t,["description"]);o!=null&&p(e,["description"],o);const l=d(t,["versionId"]);l!=null&&p(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>EN(S))),p(e,["endpoints"],_)}const f=d(t,["labels"]);f!=null&&p(e,["labels"],f);const h=d(t,["_self"]);h!=null&&p(e,["tunedModelInfo"],A1(h));const m=d(t,["defaultCheckpointId"]);m!=null&&p(e,["defaultCheckpointId"],m);const y=d(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>S)),p(e,["checkpoints"],_)}return e}function d1(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&p(e,["fileData"],TN(l));const c=d(t,["functionCall"]);c!=null&&p(e,["functionCall"],xN(c));const f=d(t,["functionResponse"]);f!=null&&p(e,["functionResponse"],f);const h=d(t,["inlineData"]);h!=null&&p(e,["inlineData"],XR(h));const m=d(t,["text"]);m!=null&&p(e,["text"],m);const y=d(t,["thought"]);y!=null&&p(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&p(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&p(e,["videoMetadata"],S),e}function f1(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],Cn(n)),e}function h1(t,e){const n={},s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&p(e,["parameters","baseSteps"],o);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&p(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&p(e,["parameters","safetySetting"],f);const h=d(t,["personGeneration"]);e!==void 0&&h!=null&&p(e,["parameters","personGeneration"],h);const m=d(t,["addWatermark"]);e!==void 0&&m!=null&&p(e,["parameters","addWatermark"],m);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&p(e,["parameters","outputOptions","compressionQuality"],_);const S=d(t,["enhancePrompt"]);e!==void 0&&S!=null&&p(e,["parameters","enhancePrompt"],S);const E=d(t,["labels"]);return e!==void 0&&E!=null&&p(e,["labels"],E),n}function p1(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["source"]);o!=null&&g1(o,n);const l=d(e,["config"]);return l!=null&&h1(l,n),n}function m1(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Nl(o))),p(e,["generatedImages"],s)}return e}function g1(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const o=d(t,["personImage"]);e!==void 0&&o!=null&&p(e,["instances[0]","personImage","image"],Cn(o));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f1(f))),p(e,["instances[0]","productImages"],c)}return n}function y1(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Cn(n));const s=d(t,["referenceId"]);s!=null&&p(e,["referenceId"],s);const o=d(t,["referenceType"]);o!=null&&p(e,["referenceType"],o);const l=d(t,["maskImageConfig"]);l!=null&&p(e,["maskImageConfig"],c1(l));const c=d(t,["controlImageConfig"]);c!=null&&p(e,["controlImageConfig"],iN(c));const f=d(t,["styleImageConfig"]);f!=null&&p(e,["styleImageConfig"],f);const h=d(t,["subjectImageConfig"]);return h!=null&&p(e,["subjectImageConfig"],h),e}function O0(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&p(e,["scores"],s);const o=d(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function L0(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&p(e,["scores"],s);const o=d(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function v1(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&p(e,["threshold"],s),e}function _1(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],Cn(n)),e}function b1(t,e){const n={},s=d(t,["mode"]);e!==void 0&&s!=null&&p(e,["parameters","mode"],s);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&p(e,["parameters","maxPredictions"],o);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&p(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&p(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&p(e,["parameters","binaryColorThreshold"],f);const h=d(t,["labels"]);return e!==void 0&&h!=null&&p(e,["labels"],h),n}function S1(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["source"]);o!=null&&E1(o,n);const l=d(e,["config"]);return l!=null&&b1(l,n),n}function w1(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>JN(o))),p(e,["generatedMasks"],s)}return e}function E1(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&p(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Cn(o));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&p(e,["instances[0]","scribble"],_1(l)),n}function T1(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const s=d(t,["functionCallingConfig"]);return s!=null&&p(e,["functionCallingConfig"],CN(s)),e}function x1(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>_)),p(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&p(e,["googleMaps"],ZN(c));const f=d(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],e1(f));const h=d(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const m=d(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}function q0(t){const e={},n=d(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const s=d(t,["computerUse"]);if(s!=null&&p(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(t,["codeExecution"]);o!=null&&p(e,["codeExecution"],o);const l=d(t,["enterpriseWebSearch"]);l!=null&&p(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>AN(S))),p(e,["functionDeclarations"],_)}const f=d(t,["googleMaps"]);f!=null&&p(e,["googleMaps"],f);const h=d(t,["googleSearch"]);h!=null&&p(e,["googleSearch"],h);const m=d(t,["googleSearchRetrieval"]);m!=null&&p(e,["googleSearchRetrieval"],m);const y=d(t,["urlContext"]);return y!=null&&p(e,["urlContext"],y),e}function C1(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&p(e,["createTime"],s);const o=d(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function A1(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&p(e,["createTime"],s);const o=d(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function R1(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const o=d(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&p(e,["defaultCheckpointId"],l),n}function N1(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const o=d(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&p(e,["defaultCheckpointId"],l),n}function I1(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","name"],ke(t,s));const o=d(e,["config"]);return o!=null&&R1(o,n),n}function M1(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["config"]);return o!=null&&N1(o,n),n}function k1(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&p(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h);const m=d(t,["enhanceInputImage"]);e!==void 0&&m!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],m);const y=d(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const _=d(t,["labels"]);e!==void 0&&_!=null&&p(e,["labels"],_);const S=d(t,["numberOfImages"]);e!==void 0&&S!=null&&p(e,["parameters","sampleCount"],S);const E=d(t,["mode"]);return e!==void 0&&E!=null&&p(e,["parameters","mode"],E),n}function D1(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["_url","model"],ke(t,s));const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],Cn(o));const l=d(e,["upscaleFactor"]);l!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&k1(c,n),n}function U1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Nl(l))),p(e,["generatedImages"],o)}return e}function P1(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&p(e,["videoBytes"],ki(s));const o=d(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function O1(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&p(e,["videoBytes"],ki(s));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function L1(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],Cn(n));const s=d(t,["maskMode"]);return s!=null&&p(e,["maskMode"],s),e}function q1(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Il(n));const s=d(t,["referenceType"]);return s!=null&&p(e,["referenceType"],s),e}function B1(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Cn(n));const s=d(t,["referenceType"]);return s!=null&&p(e,["referenceType"],s),e}function B0(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const s=d(t,["videoBytes"]);s!=null&&p(e,["encodedVideo"],ki(s));const o=d(t,["mimeType"]);return o!=null&&p(e,["encoding"],o),e}function G0(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const s=d(t,["videoBytes"]);s!=null&&p(e,["bytesBase64Encoded"],ki(s));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&p(e,["displayName"],s),n}function H1(t){const e={},n=d(t,["config"]);return n!=null&&G1(n,e),e}function z1(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&p(e,["_query","force"],s),n}function V1(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&z1(s,e),e}function $1(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function F1(t,e){const n={},s=d(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),p(e,["customMetadata"],l)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&p(e,["chunkingConfig"],o),n}function j1(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const s=d(t,["metadata"]);s!=null&&p(e,["metadata"],s);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const l=d(t,["error"]);l!=null&&p(e,["error"],l);const c=d(t,["response"]);return c!=null&&p(e,["response"],Y1(c)),e}function J1(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const s=d(t,["fileName"]);s!=null&&p(e,["fileName"],s);const o=d(t,["config"]);return o!=null&&F1(o,e),e}function Y1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&p(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function K1(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function X1(t){const e={},n=d(t,["config"]);return n!=null&&K1(n,e),e}function W1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),p(e,["fileSearchStores"],l)}return e}function H0(t,e){const n={},s=d(t,["mimeType"]);e!==void 0&&s!=null&&p(e,["mimeType"],s);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&p(e,["chunkingConfig"],c),n}function Q1(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const s=d(t,["config"]);return s!=null&&H0(s,e),e}function Z1(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eI="Content-Type",tI="X-Server-Timeout",nI="User-Agent",qd="x-goog-api-client",iI="1.35.0",sI=`google-genai-sdk/${iI}`,rI="v1beta1",oI="v1beta";class aI{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rI,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:oI,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const o=[this.getRequestUrlInternal(n)];return s&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))o.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?s[o]=Object.assign(Object.assign({},s[o]),l):l!==void 0&&(s[o]=l);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,o){if(n&&n.timeout||o){const l=new AbortController,c=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=c}return n&&n.extraBody!==null&&lI(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await vv(o),new Dd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await vv(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return Tn(this,arguments,function*(){var s;const o=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";const f="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:y}=yield ye(o.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=l.decode(y,{stream:!0});try{const A=JSON.parse(_);if("error"in A){const R=JSON.parse(JSON.stringify(A.error)),C=R.status,M=R.code,O=`got status: ${C}. ${JSON.stringify(A)}`;if(M>=400&&M<600)throw new Al({message:O,status:M})}}catch(A){if(A.name==="ApiError")throw A}c+=_;let S=-1,E=0;for(;;){S=-1,E=0;for(const C of h){const M=c.indexOf(C);M!==-1&&(S===-1||M<S)&&(S=M,E=C.length)}if(S===-1)break;const A=c.substring(0,S);c=c.substring(S+E);const R=A.trim();if(R.startsWith(f)){const C=R.substring(f.length).trim();try{const M=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ye(new Dd(M))}catch(M){throw new Error(`exception parsing stream chunk ${C}. ${M}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=sI+" "+this.clientOptions.userAgentExtra;return e[nI]=n,e[qd]=n,e[eI]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))s.append(o,l);e.timeout&&e.timeout>0&&s.append(tI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);o.sizeBytes=String(c.size);const f=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const h={file:o},m=this.getFileName(e),y=oe("upload/v1beta/files",h._url),_=await this.fetchUploadUrl(y,o.sizeBytes,o.mimeType,m,h,n==null?void 0:n.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,s){var o;const l=this.clientOptions.uploader,c=await l.stat(n),f=String(c.size),h=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(n),_={};s!=null&&H0(s,_);const S=await this.fetchUploadUrl(m,f,h,y,_,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,o,l,c){var f;let h={};c?h=c:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},o?{"X-Goog-Upload-File-Name":o}:{})};const m=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:h});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(f=m==null?void 0:m.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function vv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(s);throw n>=400&&n<600?new Al({message:o,status:n}):new Error(o)}}function lI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const f=Object.assign({},l);for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h)){const m=c[h],y=f[h];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?f[h]=s(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),f[h]=m)}return f}const o=s(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uI="mcp_used/unknown";let cI=!1;function z0(t){for(const e of t)if(dI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return cI}function V0(t){var e;const n=(e=t[qd])!==null&&e!==void 0?e:"";t[qd]=(n+` ${uI}`).trimStart()}function dI(t){return t!==null&&typeof t=="object"&&t instanceof df}function fI(t){return Tn(this,arguments,function*(n,s=100){let o,l=0;for(;l<s;){const c=yield ye(n.listTools({cursor:o}));for(const f of c.tools)yield yield ye(f),l++;if(!c.nextCursor)break;o=c.nextCursor}})}class df{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new df(e,n)}async initialize(){var e,n,s,o;if(this.mcpTools.length>0)return;const l={},c=[];for(const y of this.mcpClients)try{for(var f=!0,h=(n=void 0,xn(fI(y))),m;m=await h.next(),e=m.done,!e;f=!0){o=m.value,f=!1;const _=o;c.push(_);const S=_.name;if(l[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);l[S]=y}}catch(_){n={error:_}}finally{try{!f&&!e&&(s=h.return)&&await s.call(h)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),$C(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await o.callTool({name:s.name,arguments:s.args},void 0,l);n.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hI(t,e,n){const s=new OC;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(s,o),e(s)}class pI{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=yI(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),h=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let m=()=>{};const y=new Promise(I=>{m=I}),_=e.callbacks,S=function(){m({})},E=this.apiClient,A={onopen:S,onmessage:I=>{hI(E,_.onmessage,I)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(I){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(I){}},R=this.webSocketFactory.create(h,gI(c),A);R.connect(),await y;const O={setup:{model:ke(this.apiClient,e.model)}};return R.send(JSON.stringify(O)),new mI(R,this.apiClient)}}class mI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=HR(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=GR(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(sr.PLAY)}pause(){this.sendPlaybackControl(sr.PAUSE)}stop(){this.sendPlaybackControl(sr.STOP)}resetContext(){this.sendPlaybackControl(sr.RESET_CONTEXT)}close(){this.conn.close()}}function gI(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function yI(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function _I(t,e,n){const s=new PC;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const c=$R(l);Object.assign(s,c)}else Object.assign(s,l);e(s)}class bI{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new pI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,o,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&z0(e.config.tools)&&V0(_);const S=TI(_);if(this.apiClient.isVertexAI())y=`${h}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y);else{const Q=this.apiClient.getApiKey();let re="BidiGenerateContent",_e="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",_e="access_token"),y=`${h}/ws/google.ai.generativelanguage.${m}.GenerativeService.${re}?${_e}=${Q}`}let E=()=>{};const A=new Promise(Q=>{E=Q}),R=e.callbacks,C=function(){var Q;(Q=R==null?void 0:R.onopen)===null||Q===void 0||Q.call(R),E({})},M=this.apiClient,O={onopen:C,onmessage:Q=>{_I(M,R.onmessage,Q)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(Q){},onclose:(s=R==null?void 0:R.onclose)!==null&&s!==void 0?s:function(Q){}},I=this.webSocketFactory.create(y,EI(S),O);I.connect(),await A;let V=ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const Q=this.apiClient.getProject(),re=this.apiClient.getLocation();V=`projects/${Q}/locations/${re}/`+V}let X={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ml.AUDIO]}:e.config.responseModalities=[ml.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],L=[];for(const Q of K)if(this.isCallableTool(Q)){const re=Q;L.push(await re.tool())}else L.push(Q);L.length>0&&(e.config.tools=L);const ee={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?X=BR(this.apiClient,ee):X=qR(this.apiClient,ee),delete X.config,I.send(JSON.stringify(X)),new wI(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const SI={turnComplete:!0};class wI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=pn(n.turns),e.isVertexAI()||(s=s.map(o=>Rl(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(vI)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},SI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:VR(e)}:n={realtimeInput:zR(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function EI(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function TI(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _v=10;function bv(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(lr(c)){o=!0;break}if(!o)return!0;const l=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function lr(t){return"callTool"in t&&typeof t.callTool=="function"}function xI(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>lr(o)))!==null&&s!==void 0?s:!1}function Sv(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,o)=>{if(lr(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function wv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CI extends ti{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,o,l,c,f;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xI(n)||bv(n.config))return await this.generateContentInternal(h);const m=Sv(n);if(m.length>0){const R=m.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let y,_;const S=pn(h.contents),E=(l=(o=(s=h.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:_v;let A=0;for(;A<E&&(y=await this.generateContentInternal(h),!(!y.functionCalls||y.functionCalls.length===0));){const R=y.candidates[0].content,C=[];for(const M of(f=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(lr(M)){const I=await M.callTool(y.functionCalls);C.push(...I)}A++,_={role:"user",parts:C},h.contents=pn(h.contents),h.contents.push(R),h.contents.push(_),wv(h.config)&&(S.push(R),S.push(_))}return wv(h.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async n=>{var s,o,l,c,f;if(this.maybeMoveToResponseJsonSchem(n),bv(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const h=Sv(n);if(h.length>0){const _=h.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(l=(o=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(f=(c=n==null?void 0:n.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var o;let l;const c=[];if(s!=null&&s.generatedImages)for(const h of s.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((o=h==null?void 0:h.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=h==null?void 0:h.safetyAttributes:c.push(h);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},f}),this.list=async n=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new as(Zn.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var s,o,l,c,f,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((h=(f=n.source)===null||f===void 0?void 0:f.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async h=>lr(h)?await h.tool():h)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&z0(e.config.tools)){const h=(o=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},h);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),V0(m),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return f}async initAfcToolsMap(e){var n,s,o;const l=new Map;for(const c of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(lr(c)){const f=c,h=await f.tool();for(const m of(o=h.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,f)}}return l}async processAfcStream(e){var n,s,o;const l=(o=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:_v;let c=!1,f=0;const h=await this.initAfcToolsMap(e);return(function(m,y,_){return Tn(this,arguments,function*(){for(var S,E,A,R,C,M;f<l;){c&&(f++,c=!1);const X=yield ye(m.processParamsMaybeAddMcpUsage(_)),K=yield ye(m.generateContentStreamInternal(X)),L=[],ee=[];try{for(var O=!0,I=(E=void 0,xn(K)),V;V=yield ye(I.next()),S=V.done,!S;O=!0){R=V.value,O=!1;const Q=R;if(yield yield ye(Q),Q.candidates&&(!((C=Q.candidates[0])===null||C===void 0)&&C.content)){ee.push(Q.candidates[0].content);for(const re of(M=Q.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(f<l&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(re.functionCall.name)){const _e=yield ye(y.get(re.functionCall.name).callTool([re.functionCall]));L.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(Q){E={error:Q}}finally{try{!O&&!S&&(A=I.return)&&(yield ye(A.call(I)))}finally{if(E)throw E.error}}if(L.length>0){c=!0;const Q=new fo;Q.candidates=[{content:{role:"user",parts:L}}],yield yield ye(Q);const re=[];re.push(...ee),re.push({role:"user",parts:L});const _e=pn(_.contents).concat(re);_.contents=_e}else break}})})(this,h,e)}async generateContentInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=mv(this.apiClient,e);return f=oe("{model}:generateContent",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=yv(y),S=new fo;return Object.assign(S,_),S})}else{const m=pv(this.apiClient,e);return f=oe("{model}:generateContent",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=gv(y),S=new fo;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=mv(this.apiClient,e);return f=oe("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(_){return Tn(this,arguments,function*(){var S,E,A,R;try{for(var C=!0,M=xn(_),O;O=yield ye(M.next()),S=O.done,!S;C=!0){R=O.value,C=!1;const I=R,V=yv(yield ye(I.json()));V.sdkHttpResponse={headers:I.headers};const X=new fo;Object.assign(X,V),yield yield ye(X)}}catch(I){E={error:I}}finally{try{!C&&!S&&(A=M.return)&&(yield ye(A.call(M)))}finally{if(E)throw E.error}}})})}else{const m=pv(this.apiClient,e);return f=oe("{model}:streamGenerateContent?alt=sse",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return Tn(this,arguments,function*(){var S,E,A,R;try{for(var C=!0,M=xn(_),O;O=yield ye(M.next()),S=O.done,!S;C=!0){R=O.value,C=!1;const I=R,V=gv(yield ye(I.json()));V.sdkHttpResponse={headers:I.headers};const X=new fo;Object.assign(X,V),yield yield ye(X)}}catch(I){E={error:I}}finally{try{!C&&!S&&(A=M.return)&&(yield ye(A.call(M)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=bN(this.apiClient,e);return f=oe("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=wN(y),S=new Wy;return Object.assign(S,_),S})}else{const m=_N(this.apiClient,e);return f=oe("{model}:batchEmbedContents",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=SN(y),S=new Wy;return Object.assign(S,_),S})}}async generateImagesInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=DN(this.apiClient,e);return f=oe("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=PN(y),S=new Qy;return Object.assign(S,_),S})}else{const m=kN(this.apiClient,e);return f=oe("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=UN(y),S=new Qy;return Object.assign(S,_),S})}}async editImageInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=mN(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const m=gN(h),y=new TC;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=D1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const m=U1(h),y=new xC;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=p1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=m1(h),y=new CC;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=S1(this.apiClient,e);return l=oe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=w1(h),y=new AC;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=QN(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Ld(y))}else{const m=WN(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Od(y))}}async listInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=a1(this.apiClient,e);return f=oe("{models_url}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=u1(y),S=new Zy;return Object.assign(S,_),S})}else{const m=o1(this.apiClient,e);return f=oe("{models_url}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=l1(y),S=new Zy;return Object.assign(S,_),S})}}async update(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=M1(this.apiClient,e);return f=oe("{model}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Ld(y))}else{const m=I1(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Od(y))}}async delete(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=dN(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=hN(y),S=new ev;return Object.assign(S,_),S})}else{const m=cN(this.apiClient,e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=fN(y),S=new ev;return Object.assign(S,_),S})}}async countTokens(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=aN(this.apiClient,e);return f=oe("{model}:countTokens",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=uN(y),S=new tv;return Object.assign(S,_),S})}else{const m=oN(this.apiClient,e);return f=oe("{model}:countTokens",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=lN(y),S=new tv;return Object.assign(S,_),S})}}async computeTokens(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=ZR(this.apiClient,e);return l=oe("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const m=eN(h),y=new RC;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=HN(this.apiClient,e);return f=oe("{model}:predictLongRunning",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const _=BN(y),S=new gl;return Object.assign(S,_),S})}else{const m=GN(this.apiClient,e);return f=oe("{model}:predictLongRunning",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=qN(y),S=new gl;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AI extends ti{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=vC(e);return f=oe("{operationName}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c}else{const m=yC(e);return f=oe("{operationName}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=cC(e);return l=oe("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RI(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function NI(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>qI(l))),p(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&p(e,["role"],s),e}function II(t,e,n){const s={},o=d(e,["expireTime"]);n!==void 0&&o!=null&&p(n,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&p(n,["newSessionExpireTime"],l);const c=d(e,["uses"]);n!==void 0&&c!=null&&p(n,["uses"],c);const f=d(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&p(n,["bidiGenerateContentSetup"],LI(t,f));const h=d(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&p(n,["fieldMask"],h),s}function MI(t,e){const n={},s=d(e,["config"]);return s!=null&&p(n,["config"],II(t,s,n)),n}function kI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&p(e,["mimeType"],s),e}function DI(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const s=d(t,["args"]);s!=null&&p(e,["args"],s);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function PI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function OI(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig"],s);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","topK"],f);const h=d(t,["maxOutputTokens"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","maxOutputTokens"],h);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","mediaResolution"],m);const y=d(t,["seed"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","seed"],y);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","speechConfig"],cf(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&p(e,["setup","generationConfig","thinkingConfig"],S);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&p(e,["setup","systemInstruction"],NI(Ct(A)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let K=dr(R);Array.isArray(K)&&(K=K.map(L=>GI(cr(L)))),p(e,["setup","tools"],K)}const C=d(t,["sessionResumption"]);e!==void 0&&C!=null&&p(e,["setup","sessionResumption"],BI(C));const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&p(e,["setup","inputAudioTranscription"],M);const O=d(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&p(e,["setup","outputAudioTranscription"],O);const I=d(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&p(e,["setup","realtimeInputConfig"],I);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&p(e,["setup","contextWindowCompression"],V);const X=d(t,["proactivity"]);if(e!==void 0&&X!=null&&p(e,["setup","proactivity"],X),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function LI(t,e){const n={},s=d(e,["model"]);s!=null&&p(n,["setup","model"],ke(t,s));const o=d(e,["config"]);return o!=null&&p(n,["config"],OI(o,n)),n}function qI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&p(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&p(e,["fileData"],kI(l));const c=d(t,["functionCall"]);c!=null&&p(e,["functionCall"],DI(c));const f=d(t,["functionResponse"]);f!=null&&p(e,["functionResponse"],f);const h=d(t,["inlineData"]);h!=null&&p(e,["inlineData"],RI(h));const m=d(t,["text"]);m!=null&&p(e,["text"],m);const y=d(t,["thought"]);y!=null&&p(e,["thought"],y);const _=d(t,["thoughtSignature"]);_!=null&&p(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&p(e,["videoMetadata"],S),e}function BI(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GI(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const o=d(t,["codeExecution"]);if(o!=null&&p(e,["codeExecution"],o),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>_)),p(e,["functionDeclarations"],y)}const c=d(t,["googleMaps"]);c!=null&&p(e,["googleMaps"],UI(c));const f=d(t,["googleSearch"]);f!=null&&p(e,["googleSearch"],PI(f));const h=d(t,["googleSearchRetrieval"]);h!=null&&p(e,["googleSearchRetrieval"],h);const m=d(t,["urlContext"]);return m!=null&&p(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function zI(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=HI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(m=>c.includes(m)?`generationConfig.${m}`:m));const h=[];l&&h.push(l),f.length>0&&h.push(...f),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class VI extends ti{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=MI(this.apiClient,e);l=oe("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=zI(f,e.config);return o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $I(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&p(e,["_query","force"],s),n}function FI(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&$I(s,e),e}function jI(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function JI(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&p(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function YI(t){const e={},n=d(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const s=d(t,["config"]);return s!=null&&JI(s,e),e}function KI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&p(e,["nextPageToken"],s);const o=d(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),p(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XI extends ti{constructor(e){super(),this.apiClient=e,this.list=async n=>new as(Zn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jI(e);return l=oe("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=FI(e);o=oe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=YI(e);return l=oe("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=KI(h),y=new NC;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WI extends ti{constructor(e,n=new XI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new as(Zn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=H1(e);return l=oe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=$1(e);return l=oe("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=V1(e);o=oe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=X1(e);return l=oe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=W1(h),y=new IC;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q1(e);return l=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=Z1(h),y=new MC;return Object.assign(y,m),y})}}async importFile(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J1(e);return l=oe("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const m=j1(h),y=new rf;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $0=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return $0=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const QI=()=>$0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Gd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mn extends Error{}class It extends mn{constructor(e,n,s,o){super(`${It.makeMessage(e,n,s)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,s,o){if(!e||!o)return new Ml({message:s,cause:Gd(n)});const l=n;return e===400?new j0(e,l,s,o):e===401?new J0(e,l,s,o):e===403?new Y0(e,l,s,o):e===404?new K0(e,l,s,o):e===409?new X0(e,l,s,o):e===422?new W0(e,l,s,o):e===429?new Q0(e,l,s,o):e>=500?new Z0(e,l,s,o):new It(e,l,s,o)}}class Hd extends It{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ml extends It{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class F0 extends Ml{constructor({message:e}={}){super({message:e??"Request timed out."})}}class j0 extends It{}class J0 extends It{}class Y0 extends It{}class K0 extends It{}class X0 extends It{}class W0 extends It{}class Q0 extends It{}class Z0 extends It{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZI=/^[a-z][a-z0-9+.-]*:/i,eM=t=>ZI.test(t);let zd=t=>(zd=Array.isArray,zd(t));const tM=zd;let nM=tM;const Ev=nM;function iM(t){if(!t)return!0;for(const e in t)return!1;return!0}function sM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const rM=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new mn(`${t} must be an integer`);if(e<0)throw new mn(`${t} must be a positive integer`);return e},oM=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aM=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lM(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const uM=()=>{var t,e,n,s,o;const l=lM();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":xv(Deno.build.os),"X-Stainless-Arch":Tv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":xv((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Tv((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const c=cM();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":nr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function cM(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,l=s[2]||0,c=s[3]||0;return{browser:e,version:`${o}.${l}.${c}`}}}return null}const Tv=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",xv=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Qa;const dM=()=>Qa??(Qa=uM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function e_(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function hM(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return e_({start(){},async pull(n){const{done:s,value:o}=await e.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function t_(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function pM(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const s=t.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mM=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n_=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function md(t,e,n){return n_(),new File(t,e??"unknown_file",n)}function gM(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const yM=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i_=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",vM=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&i_(t),_M=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function bM(t,e,n){if(n_(),t=await t,vM(t))return t instanceof File?t:md([await t.arrayBuffer()],t.name);if(_M(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),md(await Vd(o),e,n)}const s=await Vd(t);if(e||(e=gM(t)),!(n!=null&&n.type)){const o=s.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return md(s,e,n)}async function Vd(t){var e,n,s,o,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(i_(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(yM(t))try{for(var f=!0,h=xn(t),m;m=await h.next(),e=m.done,!e;f=!0){o=m.value,f=!1;const y=o;c.push(...await Vd(y))}}catch(y){n={error:y}}finally{try{!f&&!e&&(s=h.return)&&await s.call(h)}finally{if(n)throw n.error}}else{const y=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${SM(t)}`)}return c}function SM(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s_{constructor(e){this._client=e}}s_._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r_(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Cv=Object.freeze(Object.create(null)),wM=(t=r_)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const l=[],c=n.reduce((y,_,S)=>{var E,A,R;/[?#]/.test(_)&&(o=!0);const C=s[S];let M=(o?encodeURIComponent:t)(""+C);return S!==s.length&&(C==null||typeof C=="object"&&C.toString===((R=Object.getPrototypeOf((A=Object.getPrototypeOf((E=C.hasOwnProperty)!==null&&E!==void 0?E:Cv))!==null&&A!==void 0?A:Cv))===null||R===void 0?void 0:R.toString))&&(M=C+"",l.push({start:y.length+_.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),y+_+(S===s.length?"":M)},""),f=c.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=h.exec(f))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((y,_)=>y.start-_.start),l.length>0){let y=0;const _=l.reduce((S,E)=>{const A=" ".repeat(E.start-y),R="^".repeat(E.length);return y=E.start+E.length,S+A+R},"");throw new mn(`Path parameters result in path with invalid segments:
${l.map(S=>S.error).join(`
`)}
${c}
${_}`)}return c}),Za=wM(r_);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o_ extends s_{create(e,n){var s;const{api_version:o=this._client.apiVersion}=e,l=vl(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new mn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new mn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Za`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Za`/${o}/interactions/${e}`,s)}cancel(e,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Za`/${o}/interactions/${e}/cancel`,s)}get(e,n={},s){var o;const l=n??{},{api_version:c=this._client.apiVersion}=l,f=vl(l,["api_version"]);return this._client.get(Za`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}o_._key=Object.freeze(["interactions"]);class a_ extends o_{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let s=0;for(const o of t)n.set(o,s),s+=o.length;return n}let el;function ff(t){let e;return(el??(e=new globalThis.TextEncoder,el=e.encode.bind(e)))(t)}let tl;function Av(t){let e;return(tl??(e=new globalThis.TextDecoder,tl=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ff(e):e;this.buffer=EM([this.buffer,n]);const s=[];let o;for(;(o=TM(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(Av(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,c=Av(this.buffer.subarray(0,l));s.push(c),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}kl.NEWLINE_CHARS=new Set([`
`,"\r"]);kl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function TM(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function xM(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _l={off:0,error:200,warn:300,info:400,debug:500},Rv=(t,e,n)=>{if(t){if(sM(_l,t))return t;Nt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(_l))}`)}};function mo(){}function nl(t,e,n){return!e||_l[t]>_l[n]?mo:e[t].bind(e)}const CM={error:mo,warn:mo,info:mo,debug:mo};let Nv=new WeakMap;function Nt(t){var e;const n=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return CM;const o=Nv.get(n);if(o&&o[0]===s)return o[1];const l={error:nl("error",n,s),warn:nl("warn",n,s),info:nl("info",n,s),debug:nl("debug",n,s)};return Nv.set(n,[s,l]),l}const ts=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rr{constructor(e,n,s){this.iterator=e,this.controller=n,this.client=s}static fromSSEResponse(e,n,s){let o=!1;const l=s?Nt(s):console;function c(){return Tn(this,arguments,function*(){var h,m,y,_;if(o)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var E=!0,A=xn(AM(e,n)),R;R=yield ye(A.next()),h=R.done,!h;E=!0){_=R.value,E=!1;const C=_;if(!S)if(C.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ye(JSON.parse(C.data))}catch(M){throw l.error("Could not parse message into JSON:",C.data),l.error("From chunk:",C.raw),M}}}catch(C){m={error:C}}finally{try{!E&&!h&&(y=A.return)&&(yield ye(y.call(A)))}finally{if(m)throw m.error}}S=!0}catch(C){if(Bd(C))return yield ye(void 0);throw C}finally{S||n.abort()}})}return new rr(c,n,s)}static fromReadableStream(e,n,s){let o=!1;function l(){return Tn(this,arguments,function*(){var h,m,y,_;const S=new kl,E=t_(e);try{for(var A=!0,R=xn(E),C;C=yield ye(R.next()),h=C.done,!h;A=!0){_=C.value,A=!1;const M=_;for(const O of S.decode(M))yield yield ye(O)}}catch(M){m={error:M}}finally{try{!A&&!h&&(y=R.return)&&(yield ye(y.call(R)))}finally{if(m)throw m.error}}for(const M of S.flush())yield yield ye(M)})}function c(){return Tn(this,arguments,function*(){var h,m,y,_;if(o)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var E=!0,A=xn(l()),R;R=yield ye(A.next()),h=R.done,!h;E=!0){_=R.value,E=!1;const C=_;S||C&&(yield yield ye(JSON.parse(C)))}}catch(C){m={error:C}}finally{try{!E&&!h&&(y=A.return)&&(yield ye(y.call(A)))}finally{if(m)throw m.error}}S=!0}catch(C){if(Bd(C))return yield ye(void 0);throw C}finally{S||n.abort()}})}return new rr(c,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),o=l=>({next:()=>{if(l.length===0){const c=s.next();e.push(c),n.push(c)}return l.shift()}});return[new rr(()=>o(e),this.controller,this.client),new rr(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return e_({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:l}=await n.next();if(l)return s.close();const c=ff(JSON.stringify(o)+`
`);s.enqueue(c)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function AM(t,e){return Tn(this,arguments,function*(){var s,o,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mn("Attempted to iterate over a response with no body");const f=new NM,h=new kl,m=t_(t.body);try{for(var y=!0,_=xn(RM(m)),S;S=yield ye(_.next()),s=S.done,!s;y=!0){c=S.value,y=!1;const E=c;for(const A of h.decode(E)){const R=f.decode(A);R&&(yield yield ye(R))}}}catch(E){o={error:E}}finally{try{!y&&!s&&(l=_.return)&&(yield ye(l.call(_)))}finally{if(o)throw o.error}}for(const E of h.flush()){const A=f.decode(E);A&&(yield yield ye(A))}})}function RM(t){return Tn(this,arguments,function*(){var n,s,o,l;let c=new Uint8Array;try{for(var f=!0,h=xn(t),m;m=yield ye(h.next()),n=m.done,!n;f=!0){l=m.value,f=!1;const y=l;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?ff(y):y;let S=new Uint8Array(c.length+_.length);S.set(c),S.set(_,c.length),c=S;let E;for(;(E=xM(c))!==-1;)yield yield ye(c.slice(0,E)),c=c.slice(E)}}catch(y){s={error:y}}finally{try{!f&&!n&&(o=h.return)&&(yield ye(o.call(h)))}finally{if(s)throw s.error}}c.length>0&&(yield yield ye(c))})}class NM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,o]=IM(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function IM(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function MM(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:l}=e,c=await(async()=>{var f;if(e.options.stream)return Nt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):rr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),m=(f=h==null?void 0:h.split(";")[0])===null||f===void 0?void 0:f.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await n.json():await n.text()})();return Nt(t).debug(`[${s}] response parsed`,ts({retryOfRequestLogID:o,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hf extends Promise{constructor(e,n,s=MM){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new hf(this.client,this.responsePromise,async(n,s)=>e(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l_=Symbol("brand.privateNullableHeaders");function*kM(t){if(!t)return;if(l_ in t){const{values:s,nulls:o}=t;yield*s.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Ev(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=Ev(s[1])?s[1]:[s[1]];let c=!1;for(const f of l)f!==void 0&&(e&&!c&&(c=!0,yield[o,null]),yield[o,f])}}const ho=t=>{const e=new Headers,n=new Set;for(const s of t){const o=new Set;for(const[l,c]of kM(s)){const f=l.toLowerCase();o.has(f)||(e.delete(l),o.add(f)),c===null?(e.delete(l),n.add(f)):(e.append(l,c),n.delete(f))}}return{[l_]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gd=t=>{var e,n,s,o,l,c;if(typeof globalThis.process<"u")return(s=(n=(e=sC)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var u_;class Dl{constructor(e){var n,s,o,l,c,f,h,{baseURL:m=gd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=gd("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:_="v1beta"}=e,S=vl(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:y,apiVersion:_},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:Dl.DEFAULT_TIMEOUT,this.logger=(o=E.logger)!==null&&o!==void 0?o:console;const A="warn";this.logLevel=A,this.logLevel=(c=(l=Rv(E.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Rv(gd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:A,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(h=E.fetch)!==null&&h!==void 0?h:fM(),this.encoder=mM,this._options=E,this.apiKey=y,this.apiVersion=_,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=ho([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ho([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ho([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new mn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${nr}`}defaultIdempotencyKey(){return`stainless-node-retry-${QI()}`}makeStatusError(e,n,s,o){return It.generate(e,n,s,o)}buildURL(e,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,l=eM(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return iM(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new hf(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){var o,l,c;const f=await e,h=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=h),await this.prepareOptions(f);const{req:m,url:y,timeout:_}=await this.buildRequest(f,{retryCount:h-n});await this.prepareRequest(m,{url:y,options:f});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,A=Date.now();if(Nt(this).debug(`[${S}] sending request`,ts({retryOfRequestLogID:s,method:f.method,url:y,options:f,headers:m.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new Hd;const R=new AbortController,C=await this.fetchWithTimeout(y,m,_,R).catch(Gd),M=Date.now();if(C instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new Hd;const V=Bd(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Nt(this).info(`[${S}] connection ${V?"timed out":"failed"} - ${I}`),Nt(this).debug(`[${S}] connection ${V?"timed out":"failed"} (${I})`,ts({retryOfRequestLogID:s,url:y,durationMs:M-A,message:C.message})),this.retryRequest(f,n,s??S);throw Nt(this).info(`[${S}] connection ${V?"timed out":"failed"} - error; no more retries left`),Nt(this).debug(`[${S}] connection ${V?"timed out":"failed"} (error; no more retries left)`,ts({retryOfRequestLogID:s,url:y,durationMs:M-A,message:C.message})),V?new F0:new Ml({cause:C})}const O=`[${S}${E}] ${m.method} ${y} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${M-A}ms`;if(!C.ok){const I=await this.shouldRetry(C);if(n&&I){const Q=`retrying, ${n} attempts remaining`;return await pM(C.body),Nt(this).info(`${O} - ${Q}`),Nt(this).debug(`[${S}] response error (${Q})`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,durationMs:M-A})),this.retryRequest(f,n,s??S,C.headers)}const V=I?"error; no more retries left":"error; not retryable";Nt(this).info(`${O} - ${V}`);const X=await C.text().catch(Q=>Gd(Q).message),K=oM(X),L=K?void 0:X;throw Nt(this).debug(`[${S}] response error (${V})`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,message:L,durationMs:Date.now()-A})),this.makeStatusError(C.status,K,L,C.headers)}return Nt(this).info(O),Nt(this).debug(`[${S}] response start`,ts({retryOfRequestLogID:s,url:C.url,status:C.status,headers:C.headers,durationMs:M-A})),{response:C,options:f,controller:R,requestLogID:S,retryOfRequestLogID:s,startTime:A}}async fetchWithTimeout(e,n,s,o){const l=n||{},{signal:c,method:f}=l,h=vl(l,["signal","method"]);c&&c.addEventListener("abort",()=>o.abort());const m=setTimeout(()=>o.abort(),s),y=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,_=Object.assign(Object.assign(Object.assign({signal:o.signal},y?{duplex:"half"}:{}),{method:"GET"}),h);f&&(_.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(m)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,o){var l;let c;const f=o==null?void 0:o.get("retry-after-ms");if(f){const m=parseFloat(f);Number.isNaN(m)||(c=m)}const h=o==null?void 0:o.get("retry-after");if(h&&!c){const m=parseFloat(h);Number.isNaN(m)?c=Date.parse(h)-Date.now():c=m*1e3}if(!(c&&0<=c&&c<60*1e3)){const m=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,m)}return await aM(c),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,c=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var s,o,l;const c=Object.assign({},e),{method:f,path:h,query:m,defaultBaseURL:y}=c,_=this.buildURL(h,m,y);"timeout"in c&&rM("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:E}=this.buildBody({options:c}),A=await this.buildHeaders({options:e,method:f,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:A},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:c.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let f=ho([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),dM()),this._options.defaultHeaders,s,e.headers,c]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=ho([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:hM(e)}:this.encoder({body:e,headers:s})}}Dl.DEFAULT_TIMEOUT=6e4;class gt extends Dl{constructor(){super(...arguments),this.interactions=new a_(this)}}u_=gt;gt.GeminiNextGenAPIClient=u_;gt.GeminiNextGenAPIClientError=mn;gt.APIError=It;gt.APIConnectionError=Ml;gt.APIConnectionTimeoutError=F0;gt.APIUserAbortError=Hd;gt.NotFoundError=K0;gt.ConflictError=X0;gt.RateLimitError=Q0;gt.BadRequestError=j0;gt.AuthenticationError=J0;gt.InternalServerError=Z0;gt.PermissionDeniedError=Y0;gt.UnprocessableEntityError=W0;gt.toFile=bM;gt.Interactions=a_;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DM(t,e){const n={},s=d(t,["name"]);return s!=null&&p(n,["_url","name"],s),n}function UM(t,e){const n={},s=d(t,["name"]);return s!=null&&p(n,["_url","name"],s),n}function PM(t,e){const n={},s=d(t,["sdkHttpResponse"]);return s!=null&&p(n,["sdkHttpResponse"],s),n}function OM(t,e){const n={},s=d(t,["sdkHttpResponse"]);return s!=null&&p(n,["sdkHttpResponse"],s),n}function LM(t,e,n){const s={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&p(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&p(e,["tuningTask","hyperparameters","batchSize"],f);const h=d(t,["learningRate"]);if(e!==void 0&&h!=null&&p(e,["tuningTask","hyperparameters","learningRate"],h),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function qM(t,e,n){const s={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec"],Iv(E))}else if(o==="PREFERENCE_TUNING"){const E=d(t,["validationDataset"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec"],Iv(E))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&p(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&p(e,["description"],c);let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(f==="PREFERENCE_TUNING"){const E=d(t,["epochCount"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let h=d(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(h==="PREFERENCE_TUNING"){const E=d(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let m=d(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(m==="PREFERENCE_TUNING"){const E=d(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let y=d(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(y==="PREFERENCE_TUNING"){const E=d(t,["adapterSize"]);e!==void 0&&E!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(t,["labels"]);e!==void 0&&_!=null&&p(e,["labels"],_);const S=d(t,["beta"]);return e!==void 0&&S!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),s}function BM(t,e){const n={},s=d(t,["baseModel"]);s!=null&&p(n,["baseModel"],s);const o=d(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&XM(l);const c=d(t,["config"]);return c!=null&&LM(c,n),n}function GM(t,e){const n={},s=d(t,["baseModel"]);s!=null&&p(n,["baseModel"],s);const o=d(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&WM(l,n,e);const c=d(t,["config"]);return c!=null&&qM(c,n,e),n}function HM(t,e){const n={},s=d(t,["name"]);return s!=null&&p(n,["_url","name"],s),n}function zM(t,e){const n={},s=d(t,["name"]);return s!=null&&p(n,["_url","name"],s),n}function VM(t,e,n){const s={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&p(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&p(e,["_query","filter"],c),s}function $M(t,e,n){const s={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&p(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&p(e,["_query","filter"],c),s}function FM(t,e){const n={},s=d(t,["config"]);return s!=null&&VM(s,n),n}function jM(t,e){const n={},s=d(t,["config"]);return s!=null&&$M(s,n),n}function JM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const o=d(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>c_(f))),p(n,["tuningJobs"],c)}return n}function YM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const o=d(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>$d(f))),p(n,["tuningJobs"],c)}return n}function KM(t,e){const n={},s=d(t,["name"]);s!=null&&p(n,["model"],s);const o=d(t,["name"]);return o!=null&&p(n,["endpoint"],o),n}function XM(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=d(t,["examples"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),p(n,["examples","examples"],o)}return n}function WM(t,e,n){const s={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function c_(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&p(n,["name"],o);const l=d(t,["state"]);l!=null&&p(n,["state"],C0(l));const c=d(t,["createTime"]);c!=null&&p(n,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&p(n,["startTime"],f);const h=d(t,["tuningTask","completeTime"]);h!=null&&p(n,["endTime"],h);const m=d(t,["updateTime"]);m!=null&&p(n,["updateTime"],m);const y=d(t,["description"]);y!=null&&p(n,["description"],y);const _=d(t,["baseModel"]);_!=null&&p(n,["baseModel"],_);const S=d(t,["_self"]);return S!=null&&p(n,["tunedModel"],KM(S)),n}function $d(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&p(n,["name"],o);const l=d(t,["state"]);l!=null&&p(n,["state"],C0(l));const c=d(t,["createTime"]);c!=null&&p(n,["createTime"],c);const f=d(t,["startTime"]);f!=null&&p(n,["startTime"],f);const h=d(t,["endTime"]);h!=null&&p(n,["endTime"],h);const m=d(t,["updateTime"]);m!=null&&p(n,["updateTime"],m);const y=d(t,["error"]);y!=null&&p(n,["error"],y);const _=d(t,["description"]);_!=null&&p(n,["description"],_);const S=d(t,["baseModel"]);S!=null&&p(n,["baseModel"],S);const E=d(t,["tunedModel"]);E!=null&&p(n,["tunedModel"],E);const A=d(t,["preTunedModel"]);A!=null&&p(n,["preTunedModel"],A);const R=d(t,["supervisedTuningSpec"]);R!=null&&p(n,["supervisedTuningSpec"],R);const C=d(t,["preferenceOptimizationSpec"]);C!=null&&p(n,["preferenceOptimizationSpec"],C);const M=d(t,["tuningDataStats"]);M!=null&&p(n,["tuningDataStats"],M);const O=d(t,["encryptionSpec"]);O!=null&&p(n,["encryptionSpec"],O);const I=d(t,["partnerModelTuningSpec"]);I!=null&&p(n,["partnerModelTuningSpec"],I);const V=d(t,["customBaseModel"]);V!=null&&p(n,["customBaseModel"],V);const X=d(t,["experiment"]);X!=null&&p(n,["experiment"],X);const K=d(t,["labels"]);K!=null&&p(n,["labels"],K);const L=d(t,["outputUri"]);L!=null&&p(n,["outputUri"],L);const ee=d(t,["pipelineJob"]);ee!=null&&p(n,["pipelineJob"],ee);const Q=d(t,["serviceAccount"]);Q!=null&&p(n,["serviceAccount"],Q);const re=d(t,["tunedModelDisplayName"]);re!=null&&p(n,["tunedModelDisplayName"],re);const _e=d(t,["veoTuningSpec"]);return _e!=null&&p(n,["veoTuningSpec"],_e),n}function QM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&p(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&p(n,["name"],o);const l=d(t,["metadata"]);l!=null&&p(n,["metadata"],l);const c=d(t,["done"]);c!=null&&p(n,["done"],c);const f=d(t,["error"]);return f!=null&&p(n,["error"],f),n}function Iv(t,e){const n={},s=d(t,["gcsUri"]);s!=null&&p(n,["validationDatasetUri"],s);const o=d(t,["vertexDatasetResource"]);return o!=null&&p(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZM extends ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new as(Zn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:kd.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=zM(e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>$d(y))}else{const m=HM(e);return f=oe("{name}",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>c_(y))}}async listInternal(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=jM(e);return f=oe("tuningJobs",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=YM(y),S=new nv;return Object.assign(S,_),S})}else{const m=FM(e);return f=oe("tunedModels",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=JM(y),S=new nv;return Object.assign(S,_),S})}}async cancel(e){var n,s,o,l;let c,f="",h={};if(this.apiClient.isVertexAI()){const m=UM(e);return f=oe("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=OM(y),S=new iv;return Object.assign(S,_),S})}else{const m=DM(e);return f=oe("{name}:cancel",m._url),h=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=PM(y),S=new iv;return Object.assign(S,_),S})}}async tuneInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=GM(e,e);return l=oe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>$d(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=BM(e);return l=oe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>QM(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ek{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const tk=1024*1024*8,nk=3,ik=1e3,sk=2,bl="x-goog-upload-status";async function rk(t,e,n){var s;const o=await d_(t,e,n),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[bl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function ok(t,e,n){var s;const o=await d_(t,e,n),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[bl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=b0(l),f=new of;return Object.assign(f,c),f}async function d_(t,e,n){var s,o;let l=0,c=0,f=new Dd(new Response),h="upload";for(l=t.size;c<l;){const m=Math.min(tk,l-c),y=t.slice(c,c+m);c+m>=l&&(h+=", finalize");let _=0,S=ik;for(;_<nk&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((s=f==null?void 0:f.headers)===null||s===void 0)&&s[bl]));)_++,await lk(S),S=S*sk;if(c+=m,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[bl])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function ak(t){return{size:t.size,type:t.type}}function lk(t){return new Promise(e=>setTimeout(e,t))}class uk{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rk(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ok(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ak(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ck{create(e,n,s){return new dk(e,n,s)}}class dk{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mv="x-goog-api-key";class fk{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Mv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Mv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hk="gl-node/";class pk{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=lC(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new fk(this.apiKey);this.apiClient=new aI({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:hk+"web",uploader:new uk,downloader:new ek}),this.models=new CI(this.apiClient),this.live=new bI(this.apiClient,o,new ck),this.batches=new LA(this.apiClient),this.chats=new vR(this.models,this.apiClient),this.caches=new mR(this.apiClient),this.files=new RR(this.apiClient),this.operations=new AI(this.apiClient),this.authTokens=new VI(this.apiClient),this.tunings=new ZM(this.apiClient),this.fileSearchStores=new WI(this.apiClient)}}const f_=new pk({apiKey:"PLACEHOLDER_API_KEY"}),h_="talia_translations_cache",pf=()=>{const t=sessionStorage.getItem(h_);return t?JSON.parse(t):{}},p_=(t,e)=>{const n=pf();n[t]=e,sessionStorage.setItem(h_,JSON.stringify(n))},Sl=async(t,e)=>{if(e===ie.AR||t.length===0)return t;const n=pf(),s=[],o=[];if(t.forEach(l=>{n[l.id]?o.push({...l,name:n[l.id].name,description:n[l.id].description}):s.push({id:l.id,name:l.name,description:l.description})}),s.length===0)return o;try{const l=`Translate the following Arabic fashion product details to elegant English for a luxury store. 
    Maintain the tone of "TaliaMode7" (luxury, sophisticated). 
    Return the result ONLY as a JSON array of objects with "id", "name", and "description" fields.
    
    Data: ${JSON.stringify(s)}`,c=await f_.models.generateContent({model:"gemini-3-flash-preview",contents:l,config:{responseMimeType:"application/json"}}),f=JSON.parse(c.text||"[]");return t.map(m=>{const y=f.find(S=>S.id===m.id);return y?(p_(m.id,y),{...m,name:y.name,description:y.description}):o.find(S=>S.id===m.id)||m})}catch(l){return console.error("AI Translation Error:",l),t.map(c=>o.find(h=>h.id===c.id)||c)}},mk=async(t,e)=>{if(e===ie.AR)return t;const n=pf();if(n[t.id])return{...t,name:n[t.id].name,description:n[t.id].description};try{const s=`Translate this Arabic fashion product to elegant luxury English.
    Name: ${t.name}
    Description: ${t.description}
    Return ONLY JSON: {"name": "...", "description": "..."}`,o=await f_.models.generateContent({model:"gemini-3-flash-preview",contents:s,config:{responseMimeType:"application/json"}}),l=JSON.parse(o.text||"{}");return l.name&&p_(t.id,{id:t.id,...l}),{...t,name:l.name||t.name,description:l.description||t.description}}catch(s){return console.error("AI Translation Error:",s),t}},gk=()=>{const{language:t,t:e}=Mt(),[n,s]=D.useState([]),[o,l]=D.useState([]),[c,f]=D.useState(!0);return D.useEffect(()=>{(async()=>{f(!0);const{data:m}=await Ke.from("products").select("*").eq("is_new",!0).limit(8),{data:y}=await Ke.from("products").select("*").eq("is_best_seller",!0).limit(8);let _=m||[],S=y||[];t===ie.EN&&(_=await Sl(_,ie.EN),S=await Sl(S,ie.EN)),s(_),l(S),f(!1)})()},[t]),b.jsxs("div",{className:"animate-[fadeIn_0.5s_ease-out]",children:[b.jsx(EE,{}),b.jsxs("section",{className:"py-20 container mx-auto px-4",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("h2",{className:"text-3xl font-bold",children:e.newArrivals}),b.jsx(je,{to:"/products",className:"text-blush font-bold hover:underline",children:t===ie.AR?" "+e.allProducts:e.allProducts+" "})]}),b.jsx("div",{className:"no-scrollbar grid grid-cols-2 gap-4 gap-6 pb-4 md:grid md:grid-cols-4 md:overflow-visible",children:c?Array(4).fill(0).map((h,m)=>b.jsx("div",{className:"min-w-[280px] h-[400px] bg-gray-100 animate-pulse"},m)):n.map(h=>b.jsx(dl,{product:h},h.id))})]}),b.jsxs("section",{className:"py-20 container mx-auto px-4 mb-20",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("h2",{className:"text-3xl font-bold",children:e.bestSellers}),b.jsx(je,{to:"/category/  ",className:"text-blush font-bold hover:underline",children:t===ie.AR?" "+e.allProducts:e.allProducts+" "})]}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:c?Array(4).fill(0).map((h,m)=>b.jsx("div",{className:"h-[400px] bg-gray-100 animate-pulse"},m)):o.map(h=>b.jsx(dl,{product:h},h.id))})]})]})},kv=()=>{const{category:t}=Yv(),[e]=gE(),n=e.get("search"),[s,o]=D.useState([]),[l,c]=D.useState(!0),{language:f,t:h}=Mt();D.useEffect(()=>{(async()=>{c(!0);let _=Ke.from("products").select("*");if(t){const R=decodeURIComponent(t);R===""?_=_.eq("is_new",!0):R==="  "||R==="  "?_=_.eq("is_best_seller",!0):R!=="all"&&R!==""&&(_=_.contains("categories",[R]))}n&&(_=_.ilike("name",`%${n}%`));const{data:S,error:E}=await _.order("created_at",{ascending:!1});let A=S||[];f===ie.EN&&A.length>0&&(A=await Sl(A,ie.EN)),o(A),c(!1)})()},[t,n,f]);const m=t?h.categories[decodeURIComponent(t)]||decodeURIComponent(t):h.allProducts;return b.jsx("div",{className:"container mx-auto px-4 py-10 animate-[fadeIn_0.5s_ease-out]",children:b.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[b.jsx("aside",{className:"w-full lg:w-72 space-y-8",children:b.jsxs("div",{className:"bg-white p-6 border border-gold/10 shadow-sm sticky top-40 rounded-3xl",children:[b.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-6 border-b border-gold/10 pb-3 text-gold",children:h.categoriesLabel}),b.jsxs("ul",{className:"space-y-1.5 max-h-[60vh] overflow-y-auto no-scrollbar",children:[b.jsx("li",{children:b.jsx(je,{to:"/products",className:`block py-3.5 px-5 text-xs transition-all rounded-2xl ${!t||t==="all"?"bg-champagne text-blush font-bold border-r-4 border-blush shadow-sm":"text-gray-500 hover:bg-champagne/50"}`,children:h.categories.all})},"all"),Wd.map(y=>b.jsx("li",{children:b.jsx(je,{to:`/category/${encodeURIComponent(y)}`,className:`block py-3.5 px-5 text-xs transition-all rounded-2xl ${decodeURIComponent(t||"")===y?"bg-champagne text-blush font-bold border-r-4 border-blush shadow-sm":"text-gray-500 hover:bg-champagne/50"}`,children:h.categories[y]||y})},y))]})]})}),b.jsxs("main",{className:"flex-grow",children:[b.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-gold/5 pb-8",children:[b.jsxs("div",{children:[b.jsxs("nav",{className:"text-[9px] uppercase font-bold tracking-[0.2em] text-gray-400 mb-3 flex items-center gap-2",children:[b.jsx(je,{to:"/",className:"hover:text-blush transition-colors",children:h.backToHome})," ",b.jsx("span",{className:"text-gold/30",children:"/"})," ",b.jsx("span",{children:m})]}),b.jsx("h2",{className:"text-3xl font-bold text-taliaBlack tracking-tight",children:n?`${h.searchPlaceholder}: ${n}`:m})]}),b.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest bg-white border border-gold/10 px-6 py-3 rounded-full shadow-sm",children:[b.jsx("span",{className:"text-blush",children:s.length})," ",h.itemsAvailable]})]}),l?b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 lg:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-8",children:Array(6).fill(0).map((y,_)=>b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"aspect-[3/4] bg-white animate-pulse rounded-3xl border border-gold/5"}),b.jsx("div",{className:"h-3 bg-white animate-pulse w-3/4 mx-auto rounded-full"})]},_))}):s.length>0?b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 lg:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-x-8 gap-y-12",children:s.map(y=>b.jsx(dl,{product:y},y.id))}):b.jsxs("div",{className:"py-32 text-center space-y-8 bg-white/40 border-2 border-dashed border-gold/10 rounded-[3rem] animate-fadeIn",children:[b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:"w-20 h-20 bg-champagne rounded-full flex items-center justify-center text-gold/40",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0a2 2 0 01-2 2H6a2 2 0 01-2-2m16 0l-8 8-8-8"})})})}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("p",{className:"text-gray-400 text-lg font-medium tracking-wide",children:f===ie.AR?"     .":"Sorry, no products available currently."}),b.jsx(je,{to:"/products",className:"inline-block bg-blush text-white px-10 py-4 rounded-full font-bold text-[10px] uppercase tracking-widest hover:bg-taliaBlack transition-all shadow-xl",children:h.allProducts})]})]})]})]})})},yk=({isOpen:t,onClose:e})=>{const{language:n,t:s}=Mt();if(!t)return null;const o=[{size:"XS",chest:"8084",waist:"6468",hips:"8892"},{size:"S",chest:"8488",waist:"6872",hips:"9296"},{size:"M",chest:"8892",waist:"7276",hips:"96100"},{size:"L",chest:"9296",waist:"7680",hips:"100104"},{size:"XL",chest:"96100",waist:"8084",hips:"104108"},{size:"XXL",chest:"100104",waist:"8488",hips:"108112"}];return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-taliaBlack/60 backdrop-blur-sm animate-[fadeIn_0.3s_ease-out]",onClick:e,children:b.jsxs("div",{className:"bg-pearl w-full max-w-2xl shadow-2xl border border-gold/20 overflow-hidden relative animate-[reveal_0.4s_ease-out]",onClick:l=>l.stopPropagation(),children:[b.jsx("button",{onClick:e,className:`absolute top-4 ${n===ie.AR?"left-4":"right-4"} text-gray-400 hover:text-blush transition-colors p-2 z-10`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),b.jsxs("div",{className:"p-8",children:[b.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 mb-6 text-center",children:s.sizeGuide}),b.jsx("div",{className:"",children:b.jsxs("table",{className:"w-full text-center border-collapse",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-blush/10 text-blush font-bold text-sm",children:[b.jsx("th",{className:"p-3 border border-gold/10",children:s.size}),b.jsx("th",{className:"p-3 border border-gold/10",children:n===ie.AR?"":"Chest"}),b.jsx("th",{className:"p-3 border border-gold/10",children:n===ie.AR?"":"Waist"}),b.jsx("th",{className:"p-3 border border-gold/10",children:n===ie.AR?"":"Hips"}),b.jsx("th",{className:"p-3 border border-gold/10",children:n===ie.AR?"":"Length"})]})}),b.jsx("tbody",{children:o.map(l=>b.jsxs("tr",{className:"hover:bg-gold/5 transition-colors text-sm font-medium",children:[b.jsx("td",{className:"p-3 border border-gold/10 bg-gray-50/50 font-bold",children:l.size}),b.jsx("td",{className:"p-3 border border-gold/10",children:l.chest}),b.jsx("td",{className:"p-3 border border-gold/10",children:l.waist}),b.jsx("td",{className:"p-3 border border-gold/10",children:l.hips}),b.jsx("td",{className:"p-3 border border-gold/10 text-[10px] text-gray-400",children:n===ie.AR?"  ":"Varies by design"})]},l.size))})]})}),b.jsx("div",{className:"mt-6 p-4 bg-pearl border-l-4 border-r-4 border-blush text-xs text-gray-500 italic leading-relaxed",children:n===ie.AR?"*      (cm).":"* All measurements above are in centimeters (cm)."})]})]})})},vk=()=>{const{id:t}=Yv(),e=Mi(),{addToCart:n}=Ul(),{language:s,t:o}=Mt(),[l,c]=D.useState(null),[f,h]=D.useState(""),[m,y]=D.useState(1),[_,S]=D.useState(!0),[E,A]=D.useState(0),[R,C]=D.useState(!1),[M,O]=D.useState(!1),[I,V]=D.useState(!1),[X,K]=D.useState(!1),[L,ee]=D.useState({transformOrigin:"center center",transform:"scale(1)"});if(D.useEffect(()=>{(async()=>{S(!0);const{data:ce,error:Ne}=await Ke.from("products").select("*").eq("id",t).single();if(Ne||!ce)e("/");else{let P=ce;s===ie.EN&&(P=await mk(P,ie.EN)),c(P)}S(!1)})();const Z=JSON.parse(localStorage.getItem("talia_likes")||"[]");C(Z.includes(t))},[t,e,s]),D.useEffect(()=>{f&&K(!1),y(1)},[f]),_||!l)return b.jsx("div",{className:"min-h-screen flex items-center justify-center font-bold text-blush",children:o.loading});const Q=l.sizes.every(B=>B.quantity===0),re=l.sizes.find(B=>B.size===f),_e=re?re.quantity:0,Pe=()=>{if(!f){K(!0),setTimeout(()=>K(!1),3e3);return}V(!0),n(l,f,m),setTimeout(()=>V(!1),2e3)},xe=()=>{if(!f){K(!0),setTimeout(()=>K(!1),3e3);return}n(l,f,m),e("/cart")},qe=()=>{const B=JSON.parse(localStorage.getItem("talia_likes")||"[]");let Z;R?Z=B.filter(ce=>ce!==t):Z=[...B,t],localStorage.setItem("talia_likes",JSON.stringify(Z)),C(!R),window.dispatchEvent(new Event("wishlistUpdate"))},Ze=B=>{const{left:Z,top:ce,width:Ne,height:P}=B.currentTarget.getBoundingClientRect(),T=(B.clientX-Z)/Ne*100,q=(B.clientY-ce)/P*100;ee({transformOrigin:`${T}% ${q}%`,transform:"scale(1.8)"})};return b.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out] relative",children:[b.jsx(yk,{isOpen:M,onClose:()=>O(!1)}),X&&b.jsx("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[200] w-[90%] max-w-xs animate-fadeInUp",children:b.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-red-200 shadow-2xl p-4 rounded-2xl flex items-center gap-3 text-red-600",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),b.jsx("p",{className:"text-sm font-bold",children:s===ie.AR?"   ":"Please select size first"})]})}),b.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-4",children:[b.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-gray-100 shadow-inner relative cursor-zoom-in group",onMouseMove:Ze,onMouseLeave:()=>ee({transformOrigin:"center center",transform:"scale(1)"}),children:b.jsx("img",{src:l.images[E],alt:l.name,style:L,className:"w-full h-full object-cover transition-transform duration-500 ease-out will-change-transform"})}),b.jsx("div",{className:"flex gap-4  pb-2 no-scrollbar",children:l.images.map((B,Z)=>b.jsx("button",{onClick:()=>A(Z),className:`flex-shrink-0 w-20 h-28 border-2 transition-all duration-300 ${E===Z?"border-blush scale-105 shadow-md":"border-transparent opacity-50 grayscale hover:opacity-100 hover:grayscale-0"}`,children:b.jsx("img",{src:B,alt:"",className:"w-full h-full object-cover"})},Z))})]}),b.jsxs("div",{className:"flex-1 space-y-8",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsx("div",{className:"flex items-center gap-2 mb-4",children:l.categories.map(B=>b.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest text-gold border border-gold/30 px-3 py-1 rounded-full",children:o.categories[B]||B},B))}),b.jsx("h1",{className:`text-3xl md:text-5xl font-bold text-taliaBlack leading-tight ${s===ie.EN?"font-englishTitle":""}`,children:l.name})]}),b.jsx("button",{onClick:qe,className:`p-3 rounded-full border transition-all duration-300 group ${R?"border-blush/20 bg-blush/5 shadow-inner":"border-gray-100 hover:border-blush/30 hover:bg-pearl shadow-sm"}`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-7 w-7 transition-all duration-300 ${R?"fill-blush stroke-blush scale-110":"fill-none stroke-gray-400 group-hover:stroke-blush group-hover:scale-110"}`,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.092-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})})})]}),b.jsxs("div",{className:"flex items-baseline gap-4",children:[b.jsxs("span",{className:"text-4xl font-bold text-blush",children:[l.price," ",s===ie.AR?"":"JOD"]}),l.old_price&&b.jsxs("span",{className:"text-xl text-gray-400 line-through font-light decoration-red-400/50",children:[l.old_price," ",s===ie.AR?"":"JOD"]})]}),b.jsx("div",{className:`p-4 bg-gray-50 border-gold/20 italic text-gray-600 leading-relaxed text-lg ${s===ie.AR?"border-r-4":"border-l-4"}`,children:l.description}),b.jsxs("div",{className:`space-y-6 transition-all duration-300 ${X?"animate-shake":""}`,children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("label",{className:`block font-bold text-sm uppercase tracking-widest transition-colors ${X?"text-red-500":"text-taliaBlack"}`,children:o.size}),b.jsx("button",{onClick:()=>O(!0),className:"text-[10px] font-bold text-gold underline tracking-widest uppercase hover:text-blush transition-colors",children:o.sizeGuide})]}),b.jsx("div",{className:"flex flex-wrap gap-4",children:l.sizes.map(B=>b.jsx("button",{disabled:B.quantity===0,onClick:()=>h(B.size),className:`relative min-w-[70px] h-14 flex items-center justify-center border-2 transition-all font-bold text-sm overflow-hidden ${B.quantity===0?"opacity-40 cursor-not-allowed bg-gray-50":f===B.size?"border-blush bg-blush text-white shadow-lg":X?"border-red-200 bg-red-50/30":"border-gray-100 hover:border-gold hover:text-gold bg-white"}`,children:B.size},B.size))})]}),!Q&&f&&b.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("label",{className:"block font-bold text-sm uppercase tracking-widest text-taliaBlack",children:s===ie.AR?"":"Quantity"}),b.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[s===ie.AR?":":"Stock:"," ",_e]})]}),b.jsxs("div",{className:"flex items-center gap-0 w-max border-2 border-gray-100",children:[b.jsx("button",{disabled:m<=1,onClick:()=>y(B=>B-1),className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 disabled:opacity-20 font-bold text-xl",children:"-"}),b.jsx("div",{className:"w-16 h-12 flex items-center justify-center font-bold text-lg bg-white border-x-2 border-gray-100",children:m}),b.jsx("button",{disabled:m>=_e,onClick:()=>y(B=>B+1),className:"w-12 h-12 flex items-center justify-center hover:bg-gray-50 disabled:opacity-20 font-bold text-xl",children:"+"})]})]}),b.jsx("div",{className:"flex flex-col gap-4 pt-4",children:Q?b.jsx("button",{disabled:!0,className:"w-full h-16 bg-gray-200 text-gray-400 font-bold text-lg cursor-not-allowed flex items-center justify-center gap-2",children:o.outOfStock}):b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:Pe,disabled:I,className:`w-full h-16 font-bold text-lg transition-all shadow-xl active:scale-95 flex items-center justify-center gap-3 ${I?"bg-gold text-white":"bg-taliaBlack text-white hover:bg-gold"}`,children:I?s===ie.AR?"   ":"Added ":o.addToCart}),b.jsx("button",{onClick:xe,className:"w-full h-16 border-2 border-blush text-blush font-bold text-lg hover:bg-blush hover:text-white transition-all shadow-md active:scale-95",children:o.buyNow})]})})]})]})]})},_k=()=>{const{cart:t,removeFromCart:e,totalItems:n}=Ul(),{language:s,t:o}=Mt(),l=Mi(),[c,f]=D.useState(""),[h,m]=D.useState(0),[y,_]=D.useState(""),S=t.reduce((C,M)=>C+M.price*M.cartQuantity,0),E=async()=>{_("");const{data:C,error:M}=await Ke.from("coupons").select("*").eq("code",c).eq("is_active",!0).single();if(M||!C){_(s===ie.AR?"  ":"Invalid coupon"),m(0);return}if(C.usage_count>=C.usage_limit){_(s===ie.AR?"  ":"Coupon usage limit reached"),m(0);return}m(C.discount_percent)},A=S*h/100,R=S-A+cl;return t.length===0?b.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center p-4",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-gray-200 mb-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),b.jsx("h2",{className:"text-2xl font-bold mb-4",children:s===ie.AR?"  ":"Your cart is empty"}),b.jsx(je,{to:"/products",className:"bg-blush text-white px-8 py-3 font-bold hover:bg-taliaBlack transition-all",children:o.shopNow})]}):b.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[b.jsxs("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center",children:[o.cart," (",n,")"]}),b.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[b.jsx("div",{className:"flex-[2] space-y-6",children:t.map(C=>b.jsxs("div",{className:"flex gap-4 p-4 bg-white border border-gray-100 hover:shadow-md transition-shadow",children:[b.jsx(je,{to:`/product/${C.id}`,className:"w-24 h-32 flex-shrink-0 bg-gray-50",children:b.jsx("img",{src:C.images[0],alt:"",className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsx("h3",{className:"font-bold text-lg",children:C.name}),b.jsx("button",{onClick:()=>e(C.id,C.selectedSize),className:"text-gray-400 hover:text-red-500",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[o.size,": ",b.jsx("span",{className:"text-taliaBlack font-bold uppercase",children:C.selectedSize})]}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("span",{className:"font-bold text-blush",children:[C.price," JOD"]}),b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("span",{className:"text-xs text-gray-400",children:["Qty: ",C.cartQuantity]})})]})]})]},`${C.id}-${C.selectedSize}`))}),b.jsx("div",{className:"flex-1",children:b.jsxs("div",{className:"bg-gray-50 p-8 border border-gold/10 space-y-6 sticky top-32",children:[b.jsx("h3",{className:"text-xl font-bold border-b border-gold/20 pb-4",children:s===ie.AR?" ":"Order Summary"}),b.jsxs("div",{className:"space-y-4 text-sm",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600",children:o.total}),b.jsxs("span",{className:"font-bold",children:[S," JOD"]})]}),h>0&&b.jsxs("div",{className:"flex justify-between text-green-600",children:[b.jsxs("span",{children:["Discount (",h,"%)"]}),b.jsxs("span",{className:"font-bold",children:["-",A.toFixed(2)," JOD"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600",children:o.deliveryFee}),b.jsxs("span",{className:"font-bold",children:[cl," JOD"]})]}),b.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gold/20 pt-4",children:[b.jsx("span",{children:o.grandTotal}),b.jsxs("span",{className:"text-blush",children:[R.toFixed(2)," JOD"]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:o.couponCode}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",value:c,onChange:C=>f(C.target.value.toUpperCase()),className:"flex-grow p-2 border border-gray-300 outline-none focus:border-blush uppercase",placeholder:"EX: WELCOME10"}),b.jsx("button",{onClick:E,className:"bg-taliaBlack text-white px-4 py-2 text-xs font-bold hover:bg-blush transition-all",children:o.apply})]}),y&&b.jsx("p",{className:"text-red-500 text-[10px] font-bold",children:y})]}),b.jsx("button",{onClick:()=>l("/checkout",{state:{discount:h}}),className:"w-full bg-blush text-white py-4 font-bold text-lg hover:bg-taliaBlack transition-all",children:o.checkout}),b.jsx("p",{className:"text-center text-[10px] text-gray-400 font-medium",children:"Secure checkout provided by TaliaMode7. COD Only."})]})})]})]})},bk=()=>{var R;const{cart:t,clearCart:e}=Ul(),{language:n,t:s}=Mt(),o=Mi(),c=((R=tn().state)==null?void 0:R.discount)||0,[f,h]=D.useState({name:"",phone:"",city:Rg[0],address:"",notes:""}),[m,y]=D.useState(!1),_=t.reduce((C,M)=>C+M.price*M.cartQuantity,0),S=_*c/100,E=_-S+cl,A=async C=>{if(C.preventDefault(),t.length===0)return;y(!0);const{error:M}=await Ke.from("orders").insert({customer_name:f.name,customer_phone:f.phone,city:f.city,address:f.address,items:t,total_price:E,status:rs.PENDING,notes:f.notes});M?alert(n===ie.AR?"    ":"Error sending order"):(alert(n===ie.AR?"   !    .":"Order received successfully!  We will contact you soon."),e(),o("/")),y(!1)};return b.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[b.jsx("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center",children:s.checkout}),b.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row gap-12",children:[b.jsxs("form",{onSubmit:A,className:"flex-[3] space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.fullName}),b.jsx("input",{required:!0,type:"text",value:f.name,onChange:C=>h({...f,name:C.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:" "})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.phone}),b.jsx("input",{required:!0,type:"tel",value:f.phone,onChange:C=>h({...f,phone:C.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:"079XXXXXXXX"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.city}),b.jsx("select",{required:!0,value:f.city,onChange:C=>h({...f,city:C.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush bg-white",children:Rg.map(C=>b.jsx("option",{value:C,children:C},C))})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:s.address}),b.jsx("textarea",{required:!0,rows:3,value:f.address,onChange:C=>h({...f,address:C.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush",placeholder:":  -   -  ..."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",children:n===ie.AR?"  ()":"Additional Notes (Optional)"}),b.jsx("textarea",{rows:2,value:f.notes,onChange:C=>h({...f,notes:C.target.value}),className:"w-full p-3 border border-gray-200 outline-none focus:border-blush"})]}),b.jsx("button",{type:"submit",disabled:m,className:`w-full bg-blush text-white py-4 font-bold text-lg hover:bg-taliaBlack transition-all ${m?"opacity-50 cursor-not-allowed":""}`,children:m?"...":s.confirmOrder})]}),b.jsx("div",{className:"flex-[2]",children:b.jsxs("div",{className:"bg-gray-50 p-6 border border-gold/10 space-y-4",children:[b.jsx("h3",{className:"font-bold border-b pb-2 uppercase tracking-widest text-sm",children:n===ie.AR?" ":"Order Content"}),b.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 no-scrollbar",children:t.map(C=>b.jsxs("div",{className:"flex justify-between text-xs",children:[b.jsxs("span",{children:[C.name," (x",C.cartQuantity,") - ",C.selectedSize]}),b.jsxs("span",{className:"font-bold",children:[C.price*C.cartQuantity," JOD"]})]},`${C.id}-${C.selectedSize}`))}),b.jsxs("div",{className:"pt-4 border-t space-y-2 text-sm",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:s.total}),b.jsxs("span",{children:[_," JOD"]})]}),c>0&&b.jsxs("div",{className:"flex justify-between text-green-600",children:[b.jsx("span",{children:"Discount"}),b.jsxs("span",{children:["-",S.toFixed(2)," JOD"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:s.deliveryFee}),b.jsxs("span",{children:[cl," JOD"]})]}),b.jsxs("div",{className:"flex justify-between font-bold text-lg text-blush pt-2 border-t",children:[b.jsx("span",{children:s.grandTotal}),b.jsxs("span",{children:[E.toFixed(2)," JOD"]})]})]})]})})]})]})},Sk=()=>{const{language:t,t:e}=Mt(),[n,s]=D.useState([]),[o,l]=D.useState(!0),c=async()=>{l(!0);const f=JSON.parse(localStorage.getItem("talia_likes")||"[]");if(f.length===0){s([]),l(!1);return}const{data:h,error:m}=await Ke.from("products").select("*").in("id",f);if(m){console.error(m),l(!1);return}let y=h||[];t===ie.EN&&y.length>0&&(y=await Sl(y,ie.EN)),s(y),l(!1)};return D.useEffect(()=>(c(),window.addEventListener("wishlistUpdate",c),()=>window.removeEventListener("wishlistUpdate",c)),[t]),o?b.jsx("div",{className:"min-h-[60vh] flex items-center justify-center font-bold text-blush",children:e.loading}):b.jsxs("div",{className:"container mx-auto px-4 py-10 md:py-20 animate-[fadeIn_0.5s_ease-out]",children:[b.jsx("h1",{className:"text-3xl font-englishTitle font-bold mb-10 text-center uppercase tracking-widest",children:e.wishlist}),n.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 py-20",children:[b.jsx("div",{className:"w-24 h-24 bg-blush/5 rounded-full flex items-center justify-center",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blush/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),b.jsx("p",{className:"text-gray-500 font-bold",children:e.emptyWishlist}),b.jsx(je,{to:"/products",className:"bg-taliaBlack text-white px-8 py-3 rounded-full font-bold hover:bg-blush transition-all uppercase text-xs tracking-widest",children:e.shopNow})]}):b.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:n.map(f=>b.jsx(dl,{product:f},f.id))})]})},wk=()=>{const[t,e]=D.useState(""),[n,s]=D.useState(""),[o,l]=D.useState(!1),c=Mi(),f=async h=>{h.preventDefault(),l(!0);const{error:m}=await Ke.auth.signInWithPassword({email:t,password:n});m?alert("   "):c("/admin"),l(!1)};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",dir:"rtl",children:b.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-none shadow-2xl border border-gold/20",children:[b.jsxs("div",{className:"text-center mb-10",children:[b.jsx("h1",{className:"text-3xl font-englishTitle font-bold text-taliaBlack mb-2",children:"TaliaMode7"}),b.jsx("p",{className:"text-gray-400 uppercase tracking-widest text-[10px]",children:"  "})]}),b.jsxs("form",{onSubmit:f,className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),b.jsx("input",{required:!0,type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 outline-none focus:border-blush"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),b.jsx("input",{required:!0,type:"password",value:n,onChange:h=>s(h.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 outline-none focus:border-blush"})]}),b.jsx("button",{type:"submit",disabled:o,className:"w-full bg-taliaBlack text-white py-4 font-bold uppercase tracking-widest hover:bg-gold transition-all disabled:opacity-50",children:o?" ...":" "})]})]})})},il=({to:t,active:e,onClick:n,children:s})=>b.jsx(je,{to:t,onClick:n,className:`block p-4 rounded-lg transition-all text-sm font-bold ${e?"bg-blush text-white shadow-lg shadow-blush/20":"text-gray-300 hover:bg-gray-700/50"}`,children:s}),Ek=()=>{const[t,e]=D.useState(null),[n,s]=D.useState(!1),o=Mi(),l=tn();if(D.useEffect(()=>{Ke.auth.getSession().then(({data:{session:h}})=>{h?e(h):o("/admin/login")})},[o]),!t)return null;const c=async()=>{await Ke.auth.signOut(),o("/admin/login")},f=()=>s(!1);return b.jsxs("div",{className:"min-h-screen bg-[#f8fafc] flex flex-col md:flex-row",dir:"rtl",children:[b.jsxs("div",{className:"md:hidden bg-[#1e293b] text-white p-4 flex justify-between items-center sticky top-0 z-[100] shadow-md",children:[b.jsx("h2",{className:"text-xl font-bold text-gold font-englishTitle",children:"TaliaMode7"}),b.jsx("button",{onClick:()=>s(!0),className:"p-2 bg-gray-700 rounded-md",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})]}),n&&b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[110] md:hidden",onClick:f}),b.jsxs("aside",{className:`
        fixed md:sticky top-0 right-0 h-screen w-72 bg-[#1e293b] text-white flex flex-col z-[120] transition-transform duration-300 shadow-2xl
        ${n?"translate-x-0":"translate-x-full md:translate-x-0"}
      `,children:[b.jsxs("div",{className:"p-8 border-b border-gray-700 hidden md:block",children:[b.jsx("h2",{className:"text-2xl font-bold text-gold font-englishTitle tracking-tight",children:"TaliaMode7"}),b.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-bold uppercase tracking-widest",children:"  "})]}),b.jsx("div",{className:"md:hidden flex justify-end p-4",children:b.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),b.jsxs("nav",{className:"flex-grow p-4 space-y-2 mt-4 md:mt-0 overflow-y-auto no-scrollbar",children:[b.jsx(il,{to:"/admin",active:l.pathname==="/admin",onClick:f,children:"  "}),b.jsx(il,{to:"/admin/products",active:l.pathname.startsWith("/admin/products"),onClick:f,children:"  "}),b.jsx(il,{to:"/admin/orders",active:l.pathname.startsWith("/admin/orders"),onClick:f,children:"  "}),b.jsx(il,{to:"/admin/coupons",active:l.pathname.startsWith("/admin/coupons"),onClick:f,children:"  "})]}),b.jsx("div",{className:"p-6 border-t border-gray-700",children:b.jsx("button",{onClick:c,className:"w-full p-3 bg-red-600/10 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-all text-sm font-bold border border-red-600/20",children:" "})})]}),b.jsx("main",{className:"flex-grow p-4 md:p-10 min-h-screen",children:b.jsx("div",{className:"max-w-7xl mx-auto",children:b.jsxs(Qv,{children:[b.jsx(Gt,{index:!0,element:b.jsx(Tk,{})}),b.jsx(Gt,{path:"products",element:b.jsx(xk,{})}),b.jsx(Gt,{path:"orders",element:b.jsx(Ck,{})}),b.jsx(Gt,{path:"coupons",element:b.jsx(Ak,{})})]})})})]})},Tk=()=>{const[t,e]=D.useState({products:0,orders:0,revenue:0,pending:0});return D.useEffect(()=>{(async()=>{const{count:s}=await Ke.from("products").select("*",{count:"exact",head:!0}),{count:o}=await Ke.from("orders").select("*",{count:"exact",head:!0}),{count:l}=await Ke.from("orders").select("*",{count:"exact",head:!0}).eq("status",rs.PENDING),{data:c}=await Ke.from("orders").select("total_price").eq("status",rs.DELIVERED),f=(c==null?void 0:c.reduce((h,m)=>h+m.total_price,0))||0;e({products:s||0,orders:o||0,revenue:f,pending:l||0})})()},[]),b.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#1e293b]",children:"  "}),b.jsx("p",{className:"text-gray-500 text-sm",children:"      TaliaMode7 ."})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[b.jsx(sl,{title:"",value:t.products,color:"blue",icon:""}),b.jsx(sl,{title:" ",value:t.orders,color:"amber",icon:""}),b.jsx(sl,{title:" ",value:t.pending,color:"red",icon:""}),b.jsx(sl,{title:" ",value:`${t.revenue.toFixed(0)} .`,color:"green",icon:""})]})]})},sl=({title:t,value:e,color:n,icon:s})=>b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition-shadow",children:[b.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl bg-${n}-50`,children:s}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mb-1",children:t}),b.jsx("p",{className:"text-xl font-bold text-gray-800",children:e})]})]}),xk=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!1),[o,l]=D.useState(null),[c,f]=D.useState([]),[h,m]=D.useState(!1),[y,_]=D.useState({name:"",description:"",price:0,old_price:0,categories:[],is_new:!0,is_best_seller:!1,sizes:[{size:"S",quantity:0}]}),[S,E]=D.useState([]),[A,R]=D.useState([]);D.useEffect(()=>{C()},[]);const C=async()=>{const{data:L}=await Ke.from("products").select("*").order("created_at",{ascending:!1});L&&e(L)},M=async L=>{if(!window.confirm("            ."))return;const{error:ee}=await Ke.from("products").delete().eq("id",L);ee?alert(`  : ${ee.message}`):(alert("   "),C())},O=L=>{const ee=Array.from(L.target.files||[]);if(ee.length>0){E(re=>[...re,...ee]);const Q=ee.map(re=>URL.createObjectURL(re));f(re=>[...re,...Q])}},I=(L,ee)=>{ee?R(Q=>Q.filter((re,_e)=>_e!==L)):(E(Q=>Q.filter((re,_e)=>_e!==L)),f(Q=>Q.filter((re,_e)=>_e!==L)))},V=L=>{l(L.id),_({name:L.name,description:L.description,price:L.price,old_price:L.old_price||0,categories:L.categories,is_new:L.is_new,is_best_seller:L.is_best_seller,sizes:L.sizes}),R(L.images),f([]),E([]),s(!0),window.scrollTo({top:0,behavior:"smooth"})},X=()=>{l(null),_({name:"",description:"",price:0,old_price:0,categories:[],is_new:!0,is_best_seller:!1,sizes:[{size:"S",quantity:0}]}),E([]),f([]),R([]),s(!1),m(!1)},K=async L=>{if(L.preventDefault(),S.length===0&&A.length===0){alert("     .");return}m(!0);let ee=[...A];if(S.length>0)for(const _e of S){const Pe=`${Date.now()}_${_e.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,{data:xe,error:qe}=await Ke.storage.from(Zg).upload(Pe,_e);if(qe){alert(`   : ${qe.message}`),m(!1);return}const{data:{publicUrl:Ze}}=Ke.storage.from(Zg).getPublicUrl(xe.path);ee.push(Ze)}const Q={...y,images:ee};let re;o?re=(await Ke.from("products").update(Q).eq("id",o)).error:re=(await Ke.from("products").insert(Q)).error,re?alert(`: ${re.message}`):(alert("  ! "),X(),C()),m(!1)};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:" "}),b.jsx("button",{onClick:()=>n?X():s(!0),className:`w-full sm:w-auto px-6 py-3 rounded-xl font-bold shadow-lg transition-all ${n?"bg-gray-200 text-gray-600":"bg-blush text-white hover:bg-taliaBlack"}`,children:n?" ":"   +"})]}),n&&b.jsxs("form",{onSubmit:K,className:"bg-white p-4 md:p-8 rounded-2xl shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-8 border-t-8 border-blush animate-fadeIn",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx("h3",{className:"font-bold text-xl text-gray-800",children:o?" ":"  "}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" "}),b.jsx("input",{required:!0,className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 ring-blush/20",value:y.name,onChange:L=>_({...y,name:L.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:""}),b.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none focus:ring-2 ring-blush/20",rows:3,value:y.description,onChange:L=>_({...y,description:L.target.value})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" (.)"}),b.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none",value:y.price,onChange:L=>_({...y,price:Number(L.target.value)})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:" "}),b.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-xl outline-none",value:y.old_price,onChange:L=>_({...y,old_price:Number(L.target.value)})})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-4",children:""}),b.jsx("input",{type:"file",multiple:!0,onChange:O,className:"hidden",id:"img-upload",accept:"image/*"}),b.jsxs("label",{htmlFor:"img-upload",className:"w-full p-8 border-2 border-dashed border-gray-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-blush hover:bg-blush/5 transition-all",children:[b.jsx("span",{className:"text-3xl mb-2",children:""}),b.jsx("span",{className:"text-sm font-bold text-gray-500",children:"    "})]}),b.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2 mt-4 max-h-48 overflow-y-auto p-2",children:[A.map((L,ee)=>b.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[b.jsx("img",{src:L,className:"w-full h-full object-cover"}),b.jsx("button",{type:"button",onClick:()=>I(ee,!0),className:"absolute top-1 left-1 bg-red-500 text-white w-5 h-5 rounded-full text-[10px]",children:""})]},`ex-${ee}`)),c.map((L,ee)=>b.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-blush",children:[b.jsx("img",{src:L,className:"w-full h-full object-cover"}),b.jsx("button",{type:"button",onClick:()=>I(ee,!1),className:"absolute top-1 left-1 bg-red-500 text-white w-5 h-5 rounded-full text-[10px]",children:""})]},`new-${ee}`))]})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100",children:[b.jsx("p",{className:"text-xs font-bold text-gold uppercase tracking-widest mb-4",children:" "}),b.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto no-scrollbar",children:Wd.map(L=>b.jsxs("label",{className:"flex items-center gap-2 text-xs p-2 hover:bg-white rounded-lg cursor-pointer",children:[b.jsx("input",{type:"checkbox",className:"accent-blush w-4 h-4",checked:y.categories.includes(L),onChange:ee=>{const Q=ee.target.checked?[...y.categories,L]:y.categories.filter(re=>re!==L);_({...y,categories:Q})}}),L]},L))})]}),b.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-100",children:[b.jsx("p",{className:"text-xs font-bold text-gold uppercase tracking-widest mb-4",children:" "}),b.jsxs("div",{className:"space-y-3",children:[y.sizes.map((L,ee)=>b.jsxs("div",{className:"flex gap-2 items-center animate-fadeIn",children:[b.jsx("input",{placeholder:"",className:"flex-1 p-3 bg-white border border-gray-100 rounded-lg text-center font-bold",value:L.size,onChange:Q=>{const re=[...y.sizes];re[ee].size=Q.target.value,_({...y,sizes:re})}}),b.jsx("input",{type:"number",placeholder:"",className:"flex-1 p-3 bg-white border border-gray-100 rounded-lg text-center",value:L.quantity,onChange:Q=>{const re=[...y.sizes];re[ee].quantity=Number(Q.target.value),_({...y,sizes:re})}}),b.jsx("button",{type:"button",onClick:()=>_({...y,sizes:y.sizes.filter((Q,re)=>re!==ee)}),className:"text-red-400 p-2",children:""})]},ee)),b.jsx("button",{type:"button",onClick:()=>_({...y,sizes:[...y.sizes,{size:"",quantity:0}]}),className:"text-xs text-blue-500 font-bold",children:"+   "})]})]}),b.jsxs("div",{className:"flex gap-4 p-4 bg-gray-100 rounded-xl",children:[b.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:y.is_new,onChange:L=>_({...y,is_new:L.target.checked}),className:"accent-blush w-5 h-5"})," ",b.jsx("span",{children:" "})]}),b.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:y.is_best_seller,onChange:L=>_({...y,is_best_seller:L.target.checked}),className:"accent-blush w-5 h-5"})," ",b.jsx("span",{children:"  "})]})]}),b.jsx("button",{type:"submit",disabled:h,className:"w-full bg-taliaBlack text-white p-5 rounded-2xl font-bold hover:bg-gold transition-all shadow-xl disabled:opacity-50 text-lg",children:h?"  ...":o?" ":"  "})]})]}),b.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:b.jsx("div",{className:" no-scrollbar",children:b.jsxs("table",{className:"w-full text-right min-w-[600px]",children:[b.jsx("thead",{className:"bg-gray-50 border-b",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""})]})}),b.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(L=>{const ee=L.sizes.reduce((Q,re)=>Q+re.quantity,0);return b.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[b.jsxs("td",{className:"p-4 flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-14 rounded-md overflow-hidden bg-gray-100",children:b.jsx("img",{src:L.images[0],className:"w-full h-full object-cover"})}),b.jsx("span",{className:"font-bold text-sm text-gray-700",children:L.name})]}),b.jsxs("td",{className:"p-4 text-sm font-bold text-blush",children:[L.price," ."]}),b.jsx("td",{className:"p-4",children:b.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full ${ee>0?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:ee>0?`${ee} `:""})}),b.jsx("td",{className:"p-4",children:b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>V(L),className:"text-blue-500 font-bold text-xs hover:underline",children:""}),b.jsx("button",{onClick:()=>M(L.id),className:"text-red-400 font-bold text-xs hover:underline",children:""})]})})]},L.id)})})]})})})]})},Ck=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(null);D.useEffect(()=>{o()},[]);const o=async()=>{const{data:c}=await Ke.from("orders").select("*").order("created_at",{ascending:!1});c&&e(c)},l=async(c,f)=>{await Ke.from("orders").update({status:f}).eq("id",c),o()};return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:"  "}),b.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:b.jsx("div",{className:" no-scrollbar",children:b.jsxs("table",{className:"w-full text-right min-w-[700px]",children:[b.jsx("thead",{className:"bg-gray-50 border-b",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "})]})}),b.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(c=>b.jsxs(Uv.Fragment,{children:[b.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${n===c.id?"bg-blush/5":""}`,onClick:()=>s(n===c.id?null:c.id),children:[b.jsxs("td",{className:"p-4",children:[b.jsx("p",{className:"font-bold text-sm text-gray-800",children:c.customer_name}),b.jsx("p",{className:"text-[10px] text-gray-400",children:new Date(c.created_at).toLocaleDateString("ar-JO")})]}),b.jsx("td",{className:"p-4 text-xs font-bold text-gray-600",children:c.city}),b.jsxs("td",{className:"p-4 text-sm font-bold text-blush",children:[c.total_price," ."]}),b.jsx("td",{className:"p-4 text-[10px] font-bold",children:b.jsx("span",{className:`px-2 py-1 rounded-full ${c.status===rs.PENDING?"bg-amber-100 text-amber-600":c.status===rs.DELIVERED?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:c.status})}),b.jsx("td",{className:"p-4",onClick:f=>f.stopPropagation(),children:b.jsx("select",{className:"p-2 bg-white border border-gray-100 rounded-lg text-[10px] outline-none shadow-sm",value:c.status,onChange:f=>l(c.id,f.target.value),children:Object.values(rs).map(f=>b.jsx("option",{value:f,children:f},f))})})]}),n===c.id&&b.jsx("tr",{className:"bg-gray-50/50",children:b.jsx("td",{colSpan:5,className:"p-4 md:p-8",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fadeIn",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h4",{className:"font-bold text-xs text-blush uppercase tracking-widest border-b pb-2",children:" "}),b.jsx("div",{className:"space-y-2",children:c.items.map((f,h)=>b.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[b.jsx("img",{src:f.images[0],className:"w-8 h-12 object-cover rounded-lg"}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("p",{className:"font-bold text-[11px] truncate",children:f.name}),b.jsxs("p",{className:"text-[10px] text-gray-400",children:[": ",f.selectedSize," | : ",f.cartQuantity]})]}),b.jsxs("p",{className:"font-bold text-xs text-gold",children:[f.price," ."]})]},h))})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h4",{className:"font-bold text-xs text-gold uppercase tracking-widest border-b pb-2",children:" "}),b.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 space-y-3 text-xs",children:[b.jsxs("p",{className:"flex justify-between",children:[b.jsx("span",{children:" :"})," ",b.jsx("span",{className:"font-bold text-blue-600 select-all underline",children:c.customer_phone})]}),b.jsxs("p",{className:"flex justify-between",children:[b.jsx("span",{children:" :"})," ",b.jsx("span",{className:"font-bold text-gray-700 text-left",children:c.address})]}),c.notes&&b.jsxs("div",{className:"p-3 bg-amber-50 rounded-lg italic text-amber-800 border-r-4 border-amber-300",children:['"',c.notes,'"']})]})]})]})})})]},c.id))})]})})})]})},Ak=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!1),[o,l]=D.useState({code:"",discount_percent:0,usage_limit:10});D.useEffect(()=>{c()},[]);const c=async()=>{const{data:h}=await Ke.from("coupons").select("*");h&&e(h)},f=async h=>{h.preventDefault();const{error:m}=await Ke.from("coupons").insert(o);m?alert(m.message):(s(!1),l({code:"",discount_percent:0,usage_limit:10}),c())};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-[#1e293b]",children:" "}),b.jsx("button",{onClick:()=>s(!n),className:`px-5 py-2 rounded-lg font-bold transition-all shadow-md ${n?"bg-gray-100 text-gray-500":"bg-gold text-white hover:bg-taliaBlack"}`,children:n?"":"  +"})]}),n&&b.jsxs("form",{onSubmit:f,className:"bg-white p-6 rounded-2xl shadow-lg border-t-8 border-gold flex flex-col md:flex-row gap-4 items-end animate-fadeIn",children:[b.jsxs("div",{className:"w-full md:flex-1 space-y-1",children:[b.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" "}),b.jsx("input",{required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none uppercase font-bold",value:o.code,onChange:h=>l({...o,code:h.target.value.toUpperCase()}),placeholder:": LOVE7"})]}),b.jsxs("div",{className:"w-full md:w-32 space-y-1",children:[b.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" (%)"}),b.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none",value:o.discount_percent,onChange:h=>l({...o,discount_percent:Number(h.target.value)})})]}),b.jsxs("div",{className:"w-full md:w-32 space-y-1",children:[b.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:" "}),b.jsx("input",{type:"number",required:!0,className:"w-full p-4 bg-gray-50 border rounded-xl outline-none",value:o.usage_limit,onChange:h=>l({...o,usage_limit:Number(h.target.value)})})]}),b.jsx("button",{type:"submit",className:"w-full md:w-auto bg-taliaBlack text-white px-10 py-4 rounded-xl font-bold hover:bg-gold transition-all",children:" "})]}),b.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:b.jsx("div",{className:" no-scrollbar",children:b.jsxs("table",{className:"w-full text-right min-w-[500px]",children:[b.jsx("thead",{className:"bg-gray-50 border-b",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:" "}),b.jsx("th",{className:"p-4 text-[10px] font-bold uppercase text-gray-400",children:""})]})}),b.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(h=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsx("td",{className:"p-4 font-bold text-blush uppercase tracking-widest",children:h.code}),b.jsxs("td",{className:"p-4 text-sm font-bold",children:[h.discount_percent,"%"]}),b.jsxs("td",{className:"p-4 text-xs font-medium text-gray-500",children:[h.usage_count," / ",h.usage_limit]}),b.jsx("td",{className:"p-4",children:b.jsx("span",{className:`text-[9px] font-bold px-3 py-1 rounded-full ${h.is_active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:h.is_active?"":""})})]},h.code))})]})})})]})},Rk=()=>{const{totalItems:t}=Ul(),{language:e,t:n,toggleLanguage:s}=Mt(),[o,l]=D.useState(!1),[c,f]=D.useState(""),[h,m]=D.useState([]),[y,_]=D.useState(!1),[S,E]=D.useState(!1),[A,R]=D.useState(0),C=Mi(),M=D.useRef(null);D.useEffect(()=>{if(t>0){E(!0);const V=setTimeout(()=>E(!1),500);return()=>clearTimeout(V)}},[t]),D.useEffect(()=>{const V=()=>{const X=JSON.parse(localStorage.getItem("talia_likes")||"[]");R(X.length)};return V(),window.addEventListener("storage",V),window.addEventListener("wishlistUpdate",V),()=>{window.removeEventListener("storage",V),window.removeEventListener("wishlistUpdate",V)}},[]),D.useEffect(()=>{const V=()=>{window.scrollY>50?_(!0):_(!1)};return window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)},[]),D.useEffect(()=>{const V=setTimeout(async()=>{if(c.length>2){const{data:X}=await Ke.from("products").select("*").ilike("name",`%${c}%`).limit(5);m(X||[])}else m([])},300);return()=>clearTimeout(V)},[c]),D.useEffect(()=>{const V=X=>{M.current&&!M.current.contains(X.target)&&m([])};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const O=()=>{s(),e===ie.AR&&C("/products")},I=V=>{V.preventDefault(),c.trim()&&(C(`/products?search=${encodeURIComponent(c)}`),m([]),l(!1))};return b.jsx("header",{className:`bg-pearl/95 backdrop-blur-xl sticky top-[44px] z-50 border-b border-gold/10 transition-all duration-500 ease-in-out ${y?"py-1 shadow-[0_10px_30px_rgba(0,0,0,0.05)]":"py-3"}`,children:b.jsx("div",{className:"container mx-auto px-4",children:b.jsxs("div",{className:`flex items-center justify-between transition-all duration-500 ${y?"md:py-2":"md:py-4"}`,children:[b.jsx("button",{className:"lg:hidden p-2 text-taliaBlack",onClick:()=>l(!0),children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M4 8h16M4 16h16"})})}),b.jsx("div",{className:"flex-1 lg:flex-none flex justify-center lg:justify-start",children:b.jsxs(je,{to:"/",className:"group relative",children:[b.jsx("span",{className:`font-englishTitle font-bold tracking-[-0.05em] text-taliaBlack transition-all duration-500 group-hover:text-blush inline-block ${y?"text-2xl md:text-3xl":"text-3xl md:text-4xl"}`,children:"TaliaMode7"}),b.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-[2px] bg-blush transition-all duration-500 group-hover:w-full"})]})}),b.jsx("div",{className:"hidden lg:block flex-1 max-w-md mx-12 relative",ref:M,children:b.jsxs("form",{onSubmit:I,className:"relative",children:[b.jsx("input",{type:"text",placeholder:n.searchPlaceholder,className:`w-full bg-black/5 border border-transparent rounded-full px-6 text-xs font-bold focus:bg-white focus:border-blush/30 focus:ring-4 ring-blush/5 transition-all outline-none ${y?"py-2":"py-2.5"}`,value:c,onChange:V=>f(V.target.value)}),b.jsx("button",{type:"submit",className:`absolute ${e===ie.AR?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-gray-400 hover:text-blush transition-colors`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),b.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[b.jsx("button",{onClick:O,className:"px-4 py-2 rounded-full border-2 border-blush/40 text-[10px] font-bold hover:bg-blush hover:text-white transition-all tracking-widest uppercase bg-white/50 backdrop-blur-sm shadow-sm text-blush",children:e===ie.AR?"English":""}),b.jsxs(je,{to:"/wishlist",className:"relative p-2 rounded-full hover:bg-blush/5 transition-all group",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-taliaBlack group-hover:text-blush group-hover:fill-blush/10 transition-all",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),A>0&&b.jsx("span",{className:"absolute top-1 right-1 bg-gold text-white text-[9px] font-bold w-4 h-4 rounded-full flex items-center justify-center ring-2 ring-pearl",children:A})]}),b.jsxs(je,{to:"/cart",className:`relative p-2 rounded-full hover:bg-blush/5 transition-all group ${y?"scale-90":"scale-100"} ${S?"animate-bounce":""}`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-colors ${S?"text-blush fill-blush/10":"text-taliaBlack group-hover:text-blush"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),t>0&&b.jsx("span",{className:`absolute top-1 right-1 bg-blush text-white text-[9px] font-bold w-4 h-4 rounded-full flex items-center justify-center ring-2 ring-pearl transition-transform ${S?"scale-125":"scale-100"}`,children:t})]})]})]})})})},Nk=({isOpen:t,onClose:e,type:n})=>{const{language:s,t:o}=Mt();if(!t)return null;const l=()=>{switch(n){case"size":const c=[{size:"XS",chest:"8084",waist:"6468",hips:"8892"},{size:"S",chest:"8488",waist:"6872",hips:"9296"},{size:"M",chest:"8892",waist:"7276",hips:"96100"},{size:"L",chest:"9296",waist:"7680",hips:"100104"},{size:"XL",chest:"96100",waist:"8084",hips:"104108"}];return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:o.sizeGuide}),b.jsx("div",{className:"",children:b.jsxs("table",{className:"w-full text-center border-collapse",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-blush/10 text-blush font-bold text-xs uppercase tracking-widest",children:[b.jsx("th",{className:"p-3 border border-gold/10",children:o.size}),b.jsx("th",{className:"p-3 border border-gold/10",children:s===ie.AR?"":"Chest"}),b.jsx("th",{className:"p-3 border border-gold/10",children:s===ie.AR?"":"Waist"}),b.jsx("th",{className:"p-3 border border-gold/10",children:s===ie.AR?"":"Hips"})]})}),b.jsx("tbody",{children:c.map(f=>b.jsxs("tr",{className:"hover:bg-gold/5 transition-colors text-sm",children:[b.jsx("td",{className:"p-3 border border-gold/10 font-bold bg-gray-50/50",children:f.size}),b.jsx("td",{className:"p-3 border border-gold/10",children:f.chest}),b.jsx("td",{className:"p-3 border border-gold/10",children:f.waist}),b.jsx("td",{className:"p-3 border border-gold/10",children:f.hips})]},f.size))})]})}),b.jsx("p",{className:"text-[10px] text-gray-400 italic text-center",children:s===ie.AR?"*   ":"* All measurements in cm"})]});case"shipping":return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:s===ie.AR?"  ":"Shipping & Delivery"}),b.jsxs("div",{className:"space-y-4 text-gray-600 leading-relaxed text-sm",children:[b.jsxs("p",{className:"flex gap-3",children:[b.jsx("span",{className:"text-gold",children:""}),b.jsx("span",{children:s===ie.AR?"      .":"We deliver to all governorates in Jordan."})]}),b.jsxs("p",{className:"flex gap-3",children:[b.jsx("span",{className:"text-gold",children:""}),b.jsx("span",{children:s===ie.AR?"    24  48    .":"Delivery takes 24 to 48 hours from the order date."})]}),b.jsxs("p",{className:"flex gap-3",children:[b.jsx("span",{className:"text-gold",children:""}),b.jsx("span",{children:s===ie.AR?"    3   .":"Flat delivery fee of 3 JOD for all areas."})]}),b.jsx("p",{className:"flex gap-3 bg-blush/5 p-4 border-r-4 border-blush font-bold text-taliaBlack",children:b.jsx("span",{children:s===ie.AR?":            .":"Note: Cash on Delivery only. No returns or exchanges after delivery."})})]})]});case"contact":return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-taliaBlack border-b-2 border-gold/30 pb-4 text-center",children:s===ie.AR?" ":"Contact Us"}),b.jsxs("div",{className:"grid gap-4",children:[b.jsxs("a",{href:"tel:0798739259",className:"flex items-center gap-4 p-4 bg-gray-50 hover:bg-gold/5 transition-colors rounded-xl border border-gray-100 group",children:[b.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:s===ie.AR?" ":"Phone Number"}),b.jsx("p",{className:"font-bold text-taliaBlack",children:"0798739259"})]})]}),b.jsxs("a",{href:"https://wa.me/962798739259",target:"_blank",className:"flex items-center gap-4 p-4 bg-gray-50 hover:bg-gold/5 transition-colors rounded-xl border border-gray-100 group",children:[b.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"WhatsApp"}),b.jsx("p",{className:"font-bold text-taliaBlack",children:" "})]})]}),b.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[b.jsx("span",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:s===ie.AR?"":"Location"}),b.jsx("p",{className:"font-bold text-taliaBlack",children:s===ie.AR?" - ":"Jordan - Amman"})]})]})]})]});default:return null}};return b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-taliaBlack/60 backdrop-blur-sm animate-[fadeIn_0.3s_ease-out]",onClick:e,children:b.jsxs("div",{className:"bg-pearl w-full max-w-lg shadow-2xl border border-gold/20 overflow-hidden relative animate-[reveal_0.4s_ease-out] rounded-[2rem]",onClick:c=>c.stopPropagation(),children:[b.jsx("button",{onClick:e,className:`absolute top-6 ${s===ie.AR?"left-6":"right-6"} text-gray-400 hover:text-blush transition-colors p-2 z-10`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),b.jsx("div",{className:"p-10",children:l()})]})})},Ik=()=>{const{t,language:e}=Mt(),[n,s]=D.useState({isOpen:!1,type:"size"}),o=c=>{s({isOpen:!0,type:c})},l=()=>{s({...n,isOpen:!1})};return b.jsxs(b.Fragment,{children:[b.jsxs("footer",{className:"bg-taliaBlack text-white py-20 border-t border-gold/10 relative z-10",children:[b.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-12 text-right",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx(je,{to:"/",className:"text-3xl font-englishTitle tracking-tighter hover:text-blush transition-colors inline-block",children:"TaliaMode7"}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("p",{className:"text-gray-300 text-sm leading-relaxed font-bold",children:e===ie.AR?"       .":"Premium Turkish brands carefully selected for the modern Jordanian woman."}),b.jsx("p",{className:"text-gray-500 text-[12px] leading-relaxed",children:e===ie.AR?"TaliaMode7        .                     .":"TaliaMode7 is your premier destination for the finest Turkish fashion in Jordan. We feature exclusive pieces that blend modesty with modernity, ensuring authentic Turkish quality with reliable delivery across the Kingdom."})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ie.AR?"":"Categories"}),b.jsxs("ul",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[b.jsx("li",{children:b.jsx(je,{to:"/products",className:"hover:text-blush transition-colors",children:t.categories.all})}),b.jsx("li",{children:b.jsx(je,{to:`/category/${encodeURIComponent("  ")}`,className:"hover:text-blush transition-colors",children:t.categories["  "]})}),b.jsx("li",{children:b.jsx(je,{to:`/category/${encodeURIComponent("")}`,className:"hover:text-blush transition-colors",children:t.categories.})}),b.jsx("li",{children:b.jsx(je,{to:`/category/${encodeURIComponent("")}`,className:"hover:text-blush transition-colors",children:t.categories.})})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ie.AR?" ":"Support"}),b.jsxs("ul",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[b.jsx("li",{children:b.jsx(je,{to:"/admin/login",className:"hover:text-blush transition-colors",children:e===ie.AR?" ":"Admin Portal"})}),b.jsx("li",{children:b.jsx("button",{onClick:()=>o("size"),className:"hover:text-blush transition-colors text-right w-full",children:t.sizeGuide})}),b.jsx("li",{children:b.jsx("button",{onClick:()=>o("shipping"),className:"hover:text-blush transition-colors text-right w-full",children:e===ie.AR?"  ":"Shipping Policy"})}),b.jsx("li",{children:b.jsx("button",{onClick:()=>o("contact"),className:"hover:text-blush transition-colors text-right w-full",children:e===ie.AR?" ":"Contact Us"})})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gold mb-8 uppercase tracking-widest text-xs border-b border-gold/20 pb-2 inline-block",children:e===ie.AR?" ":"Contact"}),b.jsxs("div",{className:"space-y-4 text-sm text-gray-400 font-medium",children:[b.jsxs("p",{className:"flex items-center gap-2 justify-end",children:[b.jsx("span",{children:e===ie.AR?" -   ":"Jordan - Delivery Everywhere"}),b.jsx("span",{className:"text-gold",children:""})]}),b.jsxs("p",{className:"flex items-center gap-2 justify-end",children:[b.jsx("span",{className:"font-bold select-all text-white",children:"0798739259"}),b.jsx("span",{className:"text-gold",children:""})]}),b.jsxs("div",{className:"flex gap-4 mt-8 justify-end",children:[b.jsxs("a",{href:"https://instagram.com",target:"_blank",className:"w-11 h-11 rounded-full border border-gray-800 flex items-center justify-center hover:bg-blush hover:border-blush transition-all group",children:[b.jsx("span",{className:"sr-only",children:"Instagram"}),b.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204 0-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})]}),b.jsxs("a",{href:"https://facebook.com",target:"_blank",className:"w-11 h-11 rounded-full border border-gray-800 flex items-center justify-center hover:bg-blush hover:border-blush transition-all group",children:[b.jsx("span",{className:"sr-only",children:"Facebook"}),b.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})]})]})]})]})]}),b.jsxs("div",{className:"container mx-auto px-4 mt-16 pt-8 border-t border-gray-900",children:[b.jsx("p",{className:"text-[10px] text-gray-500 text-center leading-relaxed max-w-3xl mx-auto uppercase tracking-[0.2em]",children:t.marquee}),b.jsxs("div",{className:"text-center text-gray-600 text-[10px] uppercase tracking-[0.3em] mt-8",children:[" ",new Date().getFullYear()," TaliaMode7. ",e===ie.AR?"  .   .":"All Rights Reserved. Elegance defined."]})]})]}),b.jsx(Nk,{isOpen:n.isOpen,onClose:l,type:n.type})]})},Mk=()=>{const{t}=Mt();return b.jsx("div",{className:"bg-blush border-b border-white/20 text-taliaBlack overflow-hidden py-3 z-[60] sticky top-0 flex items-center shadow-lg",children:b.jsxs("div",{className:"animate-marquee  flex text-[11px] md:text-[13px] font-black tracking-tight",children:[b.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[b.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),b.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[b.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),b.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[b.jsx("span",{className:"text-white",children:""})," ",t.marquee]}),b.jsxs("span",{className:"mx-12 flex items-center gap-3",children:[b.jsx("span",{className:"text-white",children:""})," ",t.marquee]})]})})},kk=()=>{const{t,language:e}=Mt(),n=tn(),s=decodeURIComponent(n.pathname),o=[{name:t.categories.all,path:"/products"},...Wd.map(l=>({name:t.categories[l]||l,path:`/category/${encodeURIComponent(l)}`}))];return b.jsx("div",{className:"bg-pearl border-b border-gold/5 relative z-30 transition-all duration-500",children:b.jsx("div",{className:"container mx-auto px-4",children:b.jsx("div",{className:"flex items-center justify-start md:justify-center  no-scrollbar gap-2 md:gap-8 py-4",children:o.map((l,c)=>{const f=s===l.path;return b.jsx(je,{to:l.path,className:`flex-shrink-0 text-[10px] md:text-[11px] font-bold uppercase tracking-[0.15em] px-5 py-2 rounded-full transition-all duration-300  ${f?"bg-blush text-white shadow-lg shadow-blush/20 scale-105":"text-gray-500 hover:text-blush hover:bg-blush/5"}`,children:l.name},c)})})})})},Dk=()=>b.jsx("a",{href:`https://wa.me/${wE.replace("+","")}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-[100] bg-[#25D366] text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-transform active:scale-95","aria-label":"Contact on WhatsApp",children:b.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",children:b.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})});var mf={};(function t(e,n,s,o){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var P=new OffscreenCanvas(1,1),T=P.getContext("2d");T.fillRect(0,0,1,1);var q=P.transferToImageBitmap();T.createPattern(q,"no-repeat")}catch{return!1}return!0})();function h(){}function m(P){var T=n.exports.Promise,q=T!==void 0?T:e.Promise;return typeof q=="function"?new q(P):(P(h,h),null)}var y=(function(P,T){return{transform:function(q){if(P)return q;if(T.has(q))return T.get(q);var j=new OffscreenCanvas(q.width,q.height),W=j.getContext("2d");return W.drawImage(q,0,0),T.set(q,j),j},clear:function(){T.clear()}}})(f,new Map),_=(function(){var P=Math.floor(16.666666666666668),T,q,j={},W=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(te){var se=Math.random();return j[se]=requestAnimationFrame(function ne(fe){W===fe||W+P-1<fe?(W=fe,delete j[se],te()):j[se]=requestAnimationFrame(ne)}),se},q=function(te){j[te]&&cancelAnimationFrame(j[te])}):(T=function(te){return setTimeout(te,P)},q=function(te){return clearTimeout(te)}),{frame:T,cancel:q}})(),S=(function(){var P,T,q={};function j(W){function te(se,ne){W.postMessage({options:se||{},callback:ne})}W.init=function(ne){var fe=ne.transferControlToOffscreen();W.postMessage({canvas:fe},[fe])},W.fire=function(ne,fe,ge){if(T)return te(ne,null),T;var Be=Math.random().toString(36).slice(2);return T=m(function(Ue){function $e(rt){rt.data.callback===Be&&(delete q[Be],W.removeEventListener("message",$e),T=null,y.clear(),ge(),Ue())}W.addEventListener("message",$e),te(ne,Be),q[Be]=$e.bind(null,{data:{callback:Be}})}),T},W.reset=function(){W.postMessage({reset:!0});for(var ne in q)q[ne](),delete q[ne]}}return function(){if(P)return P;if(!s&&l){var W=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{P=new Worker(URL.createObjectURL(new Blob([W])))}catch(te){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",te),null}j(P)}return P}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function A(P,T){return T?T(P):P}function R(P){return P!=null}function C(P,T,q){return A(P&&R(P[T])?P[T]:E[T],q)}function M(P){return P<0?0:Math.floor(P)}function O(P,T){return Math.floor(Math.random()*(T-P))+P}function I(P){return parseInt(P,16)}function V(P){return P.map(X)}function X(P){var T=String(P).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:I(T.substring(0,2)),g:I(T.substring(2,4)),b:I(T.substring(4,6))}}function K(P){var T=C(P,"origin",Object);return T.x=C(T,"x",Number),T.y=C(T,"y",Number),T}function L(P){P.width=document.documentElement.clientWidth,P.height=document.documentElement.clientHeight}function ee(P){var T=P.getBoundingClientRect();P.width=T.width,P.height=T.height}function Q(P){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=P,T}function re(P,T,q,j,W,te,se,ne,fe){P.save(),P.translate(T,q),P.rotate(te),P.scale(j,W),P.arc(0,0,1,se,ne,fe),P.restore()}function _e(P){var T=P.angle*(Math.PI/180),q=P.spread*(Math.PI/180);return{x:P.x,y:P.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:P.startVelocity*.5+Math.random()*P.startVelocity,angle2D:-T+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:P.color,shape:P.shape,tick:0,totalTicks:P.ticks,decay:P.decay,drift:P.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:P.gravity*3,ovalScalar:.6,scalar:P.scalar,flat:P.flat}}function Pe(P,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var q=T.tick++/T.totalTicks,j=T.x+T.random*T.tiltCos,W=T.y+T.random*T.tiltSin,te=T.wobbleX+T.random*T.tiltCos,se=T.wobbleY+T.random*T.tiltSin;if(P.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-q)+")",P.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))P.fill(Z(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(te-j)*.1,Math.abs(se-W)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var ne=Math.PI/10*T.wobble,fe=Math.abs(te-j)*.1,ge=Math.abs(se-W)*.1,Be=T.shape.bitmap.width*T.scalar,Ue=T.shape.bitmap.height*T.scalar,$e=new DOMMatrix([Math.cos(ne)*fe,Math.sin(ne)*fe,-Math.sin(ne)*ge,Math.cos(ne)*ge,T.x,T.y]);$e.multiplySelf(new DOMMatrix(T.shape.matrix));var rt=P.createPattern(y.transform(T.shape.bitmap),"no-repeat");rt.setTransform($e),P.globalAlpha=1-q,P.fillStyle=rt,P.fillRect(T.x-Be/2,T.y-Ue/2,Be,Ue),P.globalAlpha=1}else if(T.shape==="circle")P.ellipse?P.ellipse(T.x,T.y,Math.abs(te-j)*T.ovalScalar,Math.abs(se-W)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):re(P,T.x,T.y,Math.abs(te-j)*T.ovalScalar,Math.abs(se-W)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Se=Math.PI/2*3,ht=4*T.scalar,At=8*T.scalar,Ht=T.x,nn=T.y,yn=5,kt=Math.PI/yn;yn--;)Ht=T.x+Math.cos(Se)*At,nn=T.y+Math.sin(Se)*At,P.lineTo(Ht,nn),Se+=kt,Ht=T.x+Math.cos(Se)*ht,nn=T.y+Math.sin(Se)*ht,P.lineTo(Ht,nn),Se+=kt;else P.moveTo(Math.floor(T.x),Math.floor(T.y)),P.lineTo(Math.floor(T.wobbleX),Math.floor(W)),P.lineTo(Math.floor(te),Math.floor(se)),P.lineTo(Math.floor(j),Math.floor(T.wobbleY));return P.closePath(),P.fill(),T.tick<T.totalTicks}function xe(P,T,q,j,W){var te=T.slice(),se=P.getContext("2d"),ne,fe,ge=m(function(Be){function Ue(){ne=fe=null,se.clearRect(0,0,j.width,j.height),y.clear(),W(),Be()}function $e(){s&&!(j.width===o.width&&j.height===o.height)&&(j.width=P.width=o.width,j.height=P.height=o.height),!j.width&&!j.height&&(q(P),j.width=P.width,j.height=P.height),se.clearRect(0,0,j.width,j.height),te=te.filter(function(rt){return Pe(se,rt)}),te.length?ne=_.frame($e):Ue()}ne=_.frame($e),fe=Ue});return{addFettis:function(Be){return te=te.concat(Be),ge},canvas:P,promise:ge,reset:function(){ne&&_.cancel(ne),fe&&fe()}}}function qe(P,T){var q=!P,j=!!C(T||{},"resize"),W=!1,te=C(T,"disableForReducedMotion",Boolean),se=l&&!!C(T||{},"useWorker"),ne=se?S():null,fe=q?L:ee,ge=P&&ne?!!P.__confetti_initialized:!1,Be=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ue;function $e(Se,ht,At){for(var Ht=C(Se,"particleCount",M),nn=C(Se,"angle",Number),yn=C(Se,"spread",Number),kt=C(Se,"startVelocity",Number),hr=C(Se,"decay",Number),Pl=C(Se,"gravity",Number),Ol=C(Se,"drift",Number),Tt=C(Se,"colors",V),Ll=C(Se,"ticks",Number),pr=C(Se,"shapes"),No=C(Se,"scalar"),ls=!!C(Se,"flat"),Io=K(Se),mr=Ht,gr=[],ql=P.width*Io.x,Di=P.height*Io.y;mr--;)gr.push(_e({x:ql,y:Di,angle:nn,spread:yn,startVelocity:kt,color:Tt[mr%Tt.length],shape:pr[O(0,pr.length)],ticks:Ll,decay:hr,gravity:Pl,drift:Ol,scalar:No,flat:ls}));return Ue?Ue.addFettis(gr):(Ue=xe(P,gr,fe,ht,At),Ue.promise)}function rt(Se){var ht=te||C(Se,"disableForReducedMotion",Boolean),At=C(Se,"zIndex",Number);if(ht&&Be)return m(function(kt){kt()});q&&Ue?P=Ue.canvas:q&&!P&&(P=Q(At),document.body.appendChild(P)),j&&!ge&&fe(P);var Ht={width:P.width,height:P.height};ne&&!ge&&ne.init(P),ge=!0,ne&&(P.__confetti_initialized=!0);function nn(){if(ne){var kt={getBoundingClientRect:function(){if(!q)return P.getBoundingClientRect()}};fe(kt),ne.postMessage({resize:{width:kt.width,height:kt.height}});return}Ht.width=Ht.height=null}function yn(){Ue=null,j&&(W=!1,e.removeEventListener("resize",nn)),q&&P&&(document.body.contains(P)&&document.body.removeChild(P),P=null,ge=!1)}return j&&!W&&(W=!0,e.addEventListener("resize",nn,!1)),ne?ne.fire(Se,Ht,yn):$e(Se,Ht,yn)}return rt.reset=function(){ne&&ne.reset(),Ue&&Ue.reset()},rt}var Ze;function B(){return Ze||(Ze=qe(null,{useWorker:!0,resize:!0})),Ze}function Z(P,T,q,j,W,te,se){var ne=new Path2D(P),fe=new Path2D;fe.addPath(ne,new DOMMatrix(T));var ge=new Path2D;return ge.addPath(fe,new DOMMatrix([Math.cos(se)*W,Math.sin(se)*W,-Math.sin(se)*te,Math.cos(se)*te,q,j])),ge}function ce(P){if(!c)throw new Error("path confetti are not supported in this browser");var T,q;typeof P=="string"?T=P:(T=P.path,q=P.matrix);var j=new Path2D(T),W=document.createElement("canvas"),te=W.getContext("2d");if(!q){for(var se=1e3,ne=se,fe=se,ge=0,Be=0,Ue,$e,rt=0;rt<se;rt+=2)for(var Se=0;Se<se;Se+=2)te.isPointInPath(j,rt,Se,"nonzero")&&(ne=Math.min(ne,rt),fe=Math.min(fe,Se),ge=Math.max(ge,rt),Be=Math.max(Be,Se));Ue=ge-ne,$e=Be-fe;var ht=10,At=Math.min(ht/Ue,ht/$e);q=[At,0,0,At,-Math.round(Ue/2+ne)*At,-Math.round($e/2+fe)*At]}return{type:"path",path:T,matrix:q}}function Ne(P){var T,q=1,j="#000000",W='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof P=="string"?T=P:(T=P.text,q="scalar"in P?P.scalar:q,W="fontFamily"in P?P.fontFamily:W,j="color"in P?P.color:j);var te=10*q,se=""+te+"px "+W,ne=new OffscreenCanvas(te,te),fe=ne.getContext("2d");fe.font=se;var ge=fe.measureText(T),Be=Math.ceil(ge.actualBoundingBoxRight+ge.actualBoundingBoxLeft),Ue=Math.ceil(ge.actualBoundingBoxAscent+ge.actualBoundingBoxDescent),$e=2,rt=ge.actualBoundingBoxLeft+$e,Se=ge.actualBoundingBoxAscent+$e;Be+=$e+$e,Ue+=$e+$e,ne=new OffscreenCanvas(Be,Ue),fe=ne.getContext("2d"),fe.font=se,fe.fillStyle=j,fe.fillText(T,rt,Se);var ht=1/q;return{type:"bitmap",bitmap:ne.transferToImageBitmap(),matrix:[ht,0,0,ht,-Be*ht/2,-Ue*ht/2]}}n.exports=function(){return B().apply(this,arguments)},n.exports.reset=function(){B().reset()},n.exports.create=qe,n.exports.shapeFromPath=ce,n.exports.shapeFromText=Ne})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),mf,!1);const Uk=mf.exports;mf.exports.create;const m_=D.createContext(void 0),Ul=()=>{const t=D.useContext(m_);if(!t)throw new Error("useCart must be used within CartProvider");return t},g_=D.createContext(void 0),Mt=()=>{const t=D.useContext(g_);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t},Pk=()=>{const t=tn();return D.useEffect(()=>{const e=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&o.target.classList.add("revealed")})},{threshold:.15});return document.querySelectorAll("[data-reveal]").forEach(s=>e.observe(s)),window.scrollTo(0,0),()=>e.disconnect()},[t]),null},Ok=({children:t})=>{const n=tn().pathname.startsWith("/admin"),{language:s}=Mt();return b.jsxs("div",{dir:s===ie.AR?"rtl":"ltr",className:`min-h-screen flex flex-col ${s===ie.AR?"font-arabic":"font-englishContent"}`,children:[!n&&b.jsx(Mk,{}),!n&&b.jsx(Rk,{}),!n&&b.jsx(kk,{}),b.jsx("main",{className:"flex-grow",children:t}),!n&&b.jsx(Ik,{}),!n&&b.jsx(Dk,{})]})},Lk=()=>{const[t,e]=D.useState(()=>localStorage.getItem("talia_lang")||ie.AR),n=()=>{const _=t===ie.AR?ie.EN:ie.AR;e(_),localStorage.setItem("talia_lang",_)},[s,o]=D.useState(null),[l,c]=D.useState(()=>{const _=localStorage.getItem("talia_cart");return _?JSON.parse(_):[]});D.useEffect(()=>{localStorage.setItem("talia_cart",JSON.stringify(l))},[l]);const f=(_,S,E=1)=>{c(A=>A.find(C=>C.id===_.id&&C.selectedSize===S)?A.map(C=>C.id===_.id&&C.selectedSize===S?{...C,cartQuantity:C.cartQuantity+E}:C):[...A,{..._,selectedSize:S,cartQuantity:E}]),o(_),setTimeout(()=>o(null),3500),Uk({particleCount:80,spread:70,origin:{y:.8},colors:["#f472b6","#d4af37","#ffffff"],ticks:150})},h=(_,S)=>{c(E=>E.filter(A=>!(A.id===_&&A.selectedSize===S)))},m=()=>c([]),y=l.reduce((_,S)=>_+S.cartQuantity,0);return b.jsx(g_.Provider,{value:{language:t,t:Ng[t],toggleLanguage:n},children:b.jsx(m_.Provider,{value:{cart:l,addToCart:f,removeFromCart:h,clearCart:m,totalItems:y,lastAddedItem:s},children:b.jsxs(dE,{children:[b.jsx(Pk,{}),s&&b.jsx("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[200] w-[90%] max-w-sm animate-fadeInUp",children:b.jsxs("div",{className:"bg-white/95 backdrop-blur-md border border-blush/20 shadow-2xl p-4 rounded-2xl flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-16 rounded-lg overflow-hidden flex-shrink-0 border border-gray-100",children:b.jsx("img",{src:s.images[0],className:"w-full h-full object-cover",alt:""})}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("p",{className:"text-[10px] font-bold text-blush uppercase tracking-widest mb-1",children:t===ie.AR?"   ":"Added to Cart "}),b.jsx("p",{className:"text-xs font-bold text-gray-800 line-clamp-1",children:s.name})]}),b.jsx(je,{to:"/cart",className:"bg-blush text-white px-4 py-2 rounded-full text-[10px] font-bold hover:bg-taliaBlack transition-colors",children:Ng[t].cart})]})}),b.jsx(Ok,{children:b.jsxs(Qv,{children:[b.jsx(Gt,{path:"/",element:b.jsx(gk,{})}),b.jsx(Gt,{path:"/products",element:b.jsx(kv,{})}),b.jsx(Gt,{path:"/category/:category",element:b.jsx(kv,{})}),b.jsx(Gt,{path:"/product/:id",element:b.jsx(vk,{})}),b.jsx(Gt,{path:"/cart",element:b.jsx(_k,{})}),b.jsx(Gt,{path:"/wishlist",element:b.jsx(Sk,{})}),b.jsx(Gt,{path:"/checkout",element:b.jsx(bk,{})}),b.jsx(Gt,{path:"/admin/login",element:b.jsx(wk,{})}),b.jsx(Gt,{path:"/admin/*",element:b.jsx(Ek,{})})]})})]})})})},y_=document.getElementById("root");if(!y_)throw new Error("Could not find root element to mount to");const qk=$S.createRoot(y_);qk.render(b.jsx(Uv.StrictMode,{children:b.jsx(Lk,{})}));
